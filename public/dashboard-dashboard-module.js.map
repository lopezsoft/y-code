{"version":3,"sources":["./src/app/dashboard/index.ts","./src/app/dashboard/dashboard-routing.module.ts","./src/app/dashboard/dashboard.component.ts","./src/app/dashboard/dashboard.component.html","./src/app/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"dashboard-dashboard-module.js","sourcesContent":["export * from './dashboard.component';\r\n","\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { DashboardComponent } from './index';\r\n\r\nconst routes: Routes = [{\r\n  path      : '',\r\n  component : DashboardComponent,\r\n  children: [\r\n    {\r\n      path: 'dashboard',\r\n      component: DashboardComponent,\r\n    }\r\n  ],\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DashboardRoutingModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { ApiServerService } from '../utils';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  quantityProducst  = 0;\n  quantityProviders = 0;\n  quantityCustomers = 0;\n  quantityElectronicDocuments = 0;\n  quantityPosDocuments        = 0;\n  quantitySalesTotal          = 0;\n  quantityTaxTotal            = 0;\n  today: number     = Date.now();\n  constructor(\n    private socket: Socket,\n    private api: ApiServerService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.onLoadProducts();\n    this.onMontStatistics();\n  }\n  onMontStatistics() {\n    const ts    = this;\n    // let   io    = ts.socket;\n    // const token = ts.api.getToken();\n\n    // io.connect();\n    // io.emit('sqlQuery', {\n    //   sql : `CALL sp_month_statistics(${token.company[0].id}, 1)` // Documentos electronicos\n    // },(err: any, result: any) => {\n    //   if(!err) {\n    //     ts.quantityElectronicDocuments = result[0][0].total ?? 0;\n    //   }\n    // });\n\n    // let io2   = ts.socket;\n    // io2.connect();\n    // io2.emit('sqlQuery', {\n    //   sql : `CALL sp_month_statistics(${token.company[0].id}, 2)` // Documentos POS\n    // },(err: any, result: any) => {\n    //   if(!err) {\n    //     ts.quantityPosDocuments = result[0][0].total ?? 0;\n    //   }\n    // });\n\n    // let io3   = ts.socket;\n    // io3.connect();\n    // io3.emit('sqlQuery', {\n    //   sql : `CALL sp_month_statistics(${token.company[0].id}, 3)` // Total ventas\n    // },(err: any, result: any) => {\n    //   if(!err) {\n    //     ts.quantitySalesTotal= result[0][0].total ?? 0;\n    //   }\n    // });\n\n    // let io4   = ts.socket;\n    // io4.connect();\n    // io4.emit('sqlQuery', {\n    //   sql : `CALL sp_month_statistics(${token.company[0].id}, 4)` // Total impuestos\n    // },(err: any, result: any) => {\n    //   if(!err) {\n    //     ts.quantityTaxTotal = result[0][0].total ?? 0;\n    //   }\n    // });\n  }\n\n  onLoadProducts() {\n    const ts    = this;\n    // let   io    = ts.socket;\n    // const token = ts.api.getToken();\n\n    // io.connect();\n    // io.emit('querySelect', {\n    //   table : 'products a',\n    //   fields: 'COUNT(id) AS total',\n    //   where : 'a.company_id = ? AND a.state = ?  ',\n    //   values: [token.company[0].id,1]\n    // },(err: any, result: any) => {\n    //   if(!err) {\n    //     ts.quantityProducst = result[0].total;\n    //     let io2   = ts.socket;\n    //     io2.connect();\n    //     io2.emit('querySelect', {\n    //       table : 'business_customers a',\n    //       fields: 'COUNT(id) AS total',\n    //       where : 'a.company_id = ? AND a.state = ?  AND a.type_person_id IN (1,3)',\n    //       values: [token.company[0].id,1]\n    //     },(err: any, result: any) => {\n    //       if(!err) {\n    //         ts.quantityCustomers = result[0].total;\n    //         let io3   = ts.socket;\n    //         io3.connect();\n    //         io3.emit('querySelect', {\n    //           table : 'business_customers a',\n    //           fields: 'COUNT(id) AS total',\n    //           where : 'a.company_id = ? AND a.state = ? AND a.type_person_id IN (2,3)',\n    //           values: [token.company[0].id, 1]\n    //         },(err: any, result: any) => {\n    //           if(!err) {\n    //             ts.quantityProviders = result[0].total;\n    //           }\n    //           io.disconnect();\n    //           io2.disconnect();\n    //           io3.disconnect();\n    //         });\n    //       }\n    //     });\n    //   }\n    // });\n  }\n}\n","<!-- Minimal statistics section start -->\n<section id=\"minimal-statistics\">\n  <div class=\"row\">\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 danger\">{{ quantityProducst }}</h3>\n                <span>Productos/Servicios</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fab fa-product-hunt danger font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 success\">{{ quantityCustomers }}</h3>\n                <span>Clientes</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-id-card success font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 warning\">{{ quantityProviders }}</h3>\n                <span>Proveedores</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-id-card warning font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 primary\">0</h3>\n                <span>Empleados</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-id-card primary font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n<!-- // Minimal statistics section end -->\n<section id=\"minimal-statistics\">\n  <div class=\"row\">\n    <div class=\"col-12 mb-1\">\n      <div class=\"content-header\">Estadísticas del mes </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 danger\">{{ quantityElectronicDocuments }}</h3>\n                <span>Documentos electrónicos</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-file-invoice danger font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 success\">{{ quantityPosDocuments }}</h3>\n                <span>Documentos POS</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-receipt success font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 warning\">{{ quantitySalesTotal | currency }}</h3>\n                <span>Total ventas/ingresos</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-file-invoice-dollar warning font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-xl-3 col-lg-6 col-12\">\n      <div class=\"card\">\n        <div class=\"card-content\">\n          <div class=\"card-body\">\n            <div class=\"media\">\n              <div class=\"media-body text-left\">\n                <h3 class=\"mb-1 primary\">{{ quantityTaxTotal | currency }}</h3>\n                <span>Total impuestos</span>\n              </div>\n              <div class=\"media-right align-self-center\">\n                <i class=\"fas fa-hand-holding-usd primary font-large-2 float-right\"></i>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DashboardComponent } from './index';\nimport { DashboardRoutingModule } from './dashboard-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DashboardRoutingModule,\n  ],\n  exports: [\n    DashboardComponent,\n  ],\n  declarations: [\n    DashboardComponent,\n  ],\n})\nexport class DashboardModule { }\n"],"sourceRoot":"webpack:///"}