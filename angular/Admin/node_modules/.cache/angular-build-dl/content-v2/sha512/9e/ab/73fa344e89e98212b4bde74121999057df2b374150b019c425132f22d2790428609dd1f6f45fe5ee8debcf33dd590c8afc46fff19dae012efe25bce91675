(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{aAFz:function(e,t,c){"use strict";c.r(t),c.d(t,"customCurrencyMaskConfig",function(){return ct}),c.d(t,"ShoppingModule",function(){return at});var a=c("ofXK"),n=c("3Pt+"),i=c("aSZe"),o=c("7M0M"),r=c("Z1v9"),l=c("3HhI"),s=c("ZOsW"),d=c("1kSV"),b=c("TT0I"),u=c("pKmL"),p=c("JqCM"),m=c("sYmb"),g=c("tyNb"),f=c("fXoL");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Qb({type:e,selectors:[["app-shopping"]],decls:1,vars:0,template:function(e,t){1&e&&f.Xb(0,"router-outlet")},directives:[g.g],encapsulation:2}),e})();var v=c("py8Q"),_=c("YMfE");const y=["customGrid"],x=["searchField"];function C(e,t){if(1&e){const e=f.dc();f.cc(0,"div"),f.cc(1,"button",21),f.mc("click",function(){return f.Lc(e),f.oc().importData()}),f.Xb(2,"i",33),f.Uc(3),f.pc(4,"translate"),f.bc(),f.bc()}if(2&e){const e=f.oc();f.Ib(1),f.vc("disabled",e.loading),f.Ib(2),f.Wc(" ",f.qc(4,2,"buttons.import")," ")}}let S=(()=>{class e extends v.a{constructor(e,t,c,a,n){super(e,t,c,a,n),this.msg=e,this.api=t,this.router=c,this.translate=a,this.aRouter=n,this.title="Proveedores"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const e=this;e.crudApi={create:"/persons/create/provider",read:"/persons/providers",update:"/persons/update/",delete:"/persons/delete/"},e.showActions=!0,e.showRowNumber=!0,e.pagesize=10,e.datafields=[{name:"id",type:"number"},{name:"company_name",type:"string"},{name:"dni",type:"string"},{name:"description",type:"string"},{name:"full_name",type:"string"}],e.sourceColumns=[{text:"Mostrar nombre como",datafield:"full_name",align:"center"},{text:"DNI",datafield:"dni",align:"center",minWidth:100,cellsalign:"right"},{text:"Empresa",datafield:"company_name",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("shopping/providers/create")}editData(e){super.editData(e),this.goRoute(`shopping/providers/edit/${e.id}`)}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-providers"]],viewQuery:function(e,t){if(1&e&&(f.Zc(y,1),f.Zc(x,1)),2&e){let e;f.Hc(e=f.nc())&&(t.customGrid=e.first),f.Hc(e=f.nc())&&(t.searchField=e.first)}},features:[f.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(e,t){1&e&&(f.cc(0,"div",0),f.cc(1,"div",1),f.cc(2,"h4",2),f.Uc(3),f.pc(4,"uppercase"),f.bc(),f.bc(),f.cc(5,"div",0),f.cc(6,"div",3),f.cc(7,"div",4),f.cc(8,"button",5),f.mc("click",function(){return t.searchQuery()}),f.Xb(9,"i",6),f.bc(),f.bc(),f.cc(10,"div",7),f.cc(11,"jqxMenu",8,9),f.mc("onItemclick",function(e){return t.itemclick(e)}),f.cc(13,"ul"),f.cc(14,"li",10),f.Xb(15,"i",11),f.Xb(16,"a",12),f.cc(17,"ul",13),f.cc(18,"li"),f.cc(19,"a",12),f.Xb(20,"i",14),f.Uc(21),f.pc(22,"translate"),f.bc(),f.bc(),f.cc(23,"li"),f.cc(24,"a",12),f.Xb(25,"i",15),f.Uc(26),f.pc(27,"translate"),f.bc(),f.bc(),f.cc(28,"li"),f.cc(29,"a",12),f.Xb(30,"i",14),f.Uc(31),f.pc(32,"translate"),f.bc(),f.bc(),f.Xb(33,"li",16),f.cc(34,"li"),f.cc(35,"a",12),f.Xb(36,"i",17),f.Uc(37),f.pc(38,"translate"),f.bc(),f.bc(),f.Xb(39,"li",16),f.cc(40,"li"),f.cc(41,"a",12),f.Xb(42,"i",18),f.Uc(43),f.pc(44,"translate"),f.bc(),f.bc(),f.cc(45,"li"),f.cc(46,"a",12),f.Xb(47,"i",18),f.Uc(48),f.pc(49,"translate"),f.bc(),f.bc(),f.cc(50,"li"),f.cc(51,"a",12),f.Xb(52,"i",18),f.Uc(53),f.pc(54,"translate"),f.bc(),f.bc(),f.Xb(55,"li",16),f.cc(56,"li"),f.cc(57,"a",12),f.Xb(58,"i",19),f.Uc(59),f.pc(60,"translate"),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(61,"div",20),f.cc(62,"button",21),f.mc("click",function(){return t.createData()}),f.Xb(63,"i",22),f.Uc(64),f.pc(65,"translate"),f.bc(),f.bc(),f.Sc(66,C,5,4,"div",23),f.bc(),f.cc(67,"div",24),f.cc(68,"fieldset"),f.cc(69,"div",25),f.cc(70,"input",26,27),f.mc("keyup",function(e){return t.inputKey(e)}),f.bc(),f.cc(72,"div",28),f.cc(73,"button",29),f.mc("click",function(){return t.searchQuery()}),f.Xb(74,"i",30),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(75,"jqxGrid",31,32),f.mc("onCellselect",function(e){return t.cellClick(e)})("onBindingcomplete",function(e){return t.Bindingcomplete(e)}),f.bc(),f.bc(),f.bc(),f.bc()),2&e&&(f.Ib(3),f.Vc(f.qc(4,18,t.title)),f.Ib(5),f.vc("disabled",t.loading),f.Ib(3),f.vc("height",36),f.Ib(10),f.Vc(f.qc(22,20,"export.excel")),f.Ib(5),f.Vc(f.qc(27,22,"export.csv")),f.Ib(5),f.Vc(f.qc(32,24,"export.xml")),f.Ib(6),f.Vc(f.qc(38,26,"export.pdf")),f.Ib(6),f.Vc(f.qc(44,28,"export.html")),f.Ib(5),f.Vc(f.qc(49,30,"export.json")),f.Ib(5),f.Vc(f.qc(54,32,"export.tsv")),f.Ib(6),f.Vc(f.qc(60,34,"export.print")),f.Ib(3),f.vc("disabled",t.loading),f.Ib(2),f.Wc(" ",f.qc(65,36,"buttons.new")," "),f.Ib(2),f.vc("ngIf",t.useImport),f.Ib(4),f.vc("placeholder",t.placeholderSearch),f.Ib(3),f.vc("disabled",t.loading),f.Ib(2),f.vc("disabled",t.loading)("auto-create",!1))},directives:[o.a,a.n,i.a],pipes:[a.v,m.c],encapsulation:2}),e})();var I=c("TK7J"),w=c("UnFQ"),U=c("Absx"),F=c("mm0L"),O=c("PcHl"),k=c("dKyG"),P=c("uHPU");const M=["focusElement"],W=["uploadFile"],N=["imgUp"];function q(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc("",e.description," ")}}function X(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Xb(1,"img",32),f.Uc(2),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.vc("src","assets/flags/"+e.image,f.Oc),f.Ib(1),f.Wc(" ",e.CurrencyName," ")}}function D(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Xb(1,"img",32),f.Uc(2),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.vc("src","assets/flags/"+e.image,f.Oc),f.Ib(1),f.Wc(" ",e.country_name," ")}}function V(e,t){if(1&e&&(f.cc(0,"div",12),f.cc(1,"div",13),f.cc(2,"div",14),f.cc(3,"label"),f.cc(4,"span",15),f.Uc(5),f.pc(6,"translate"),f.bc(),f.Uc(7),f.pc(8,"translate"),f.bc(),f.cc(9,"ng-select",16),f.Sc(10,q,2,2,"ng-option",17),f.bc(),f.bc(),f.bc(),f.cc(11,"div",13),f.cc(12,"div",14),f.cc(13,"label"),f.cc(14,"span",15),f.Uc(15),f.pc(16,"translate"),f.bc(),f.Uc(17,"Mostrar nombre como"),f.bc(),f.Xb(18,"input",18,19),f.bc(),f.bc(),f.bc(),f.cc(20,"div",12),f.cc(21,"div",13),f.cc(22,"div",14),f.cc(23,"label"),f.cc(24,"span",15),f.Uc(25),f.pc(26,"translate"),f.bc(),f.Uc(27),f.pc(28,"translate"),f.bc(),f.cc(29,"ng-select",20),f.Sc(30,X,3,3,"ng-option",17),f.bc(),f.bc(),f.bc(),f.cc(31,"div",13),f.cc(32,"div",14),f.cc(33,"label"),f.cc(34,"span",15),f.Uc(35),f.pc(36,"translate"),f.bc(),f.Uc(37),f.pc(38,"translate"),f.bc(),f.cc(39,"ng-select",21),f.Sc(40,D,3,3,"ng-option",17),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(41,"div",12),f.cc(42,"div",22),f.cc(43,"div",14),f.cc(44,"label"),f.Uc(45,"Titulo"),f.bc(),f.Xb(46,"input",23),f.bc(),f.bc(),f.cc(47,"div",24),f.cc(48,"div",14),f.cc(49,"label"),f.Uc(50,"Nombres"),f.bc(),f.Xb(51,"input",25),f.bc(),f.bc(),f.cc(52,"div",24),f.cc(53,"div",14),f.cc(54,"label"),f.Uc(55,"Apellidos"),f.bc(),f.Xb(56,"input",26),f.bc(),f.bc(),f.bc(),f.cc(57,"div",12),f.cc(58,"div",13),f.cc(59,"div",14),f.cc(60,"label"),f.Uc(61,"DNI"),f.bc(),f.Xb(62,"input",27),f.bc(),f.bc(),f.cc(63,"div",13),f.cc(64,"div",14),f.cc(65,"label"),f.Uc(66,"Nombre de la empresa"),f.bc(),f.Xb(67,"input",28),f.bc(),f.bc(),f.bc(),f.cc(68,"div",12),f.cc(69,"div",13),f.cc(70,"div",14),f.cc(71,"label"),f.Uc(72,"Correo electr\xf3nico"),f.bc(),f.Xb(73,"input",29),f.bc(),f.bc(),f.cc(74,"div",13),f.cc(75,"div",14),f.cc(76,"label"),f.Uc(77,"Web"),f.bc(),f.Xb(78,"input",30),f.bc(),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(5),f.Vc(f.qc(6,25,"general.asterisk")),f.Ib(2),f.Vc(f.qc(8,27,"companies.type_organization")),f.Ib(2),f.Ob("is-invalid",e.invalidOrganization),f.vc("virtualScroll",!0),f.Ib(1),f.vc("ngForOf",e.typeOrg),f.Ib(5),f.Vc(f.qc(16,29,"general.asterisk")),f.Ib(3),f.Ob("is-invalid",e.invalidFullName)("status-danger",e.invalidFullName),f.Ib(7),f.Vc(f.qc(26,31,"general.asterisk")),f.Ib(2),f.Vc(f.qc(28,33,"companies.currency")),f.Ib(2),f.Ob("is-invalid",e.invalidCurrency),f.vc("virtualScroll",!0),f.Ib(1),f.vc("ngForOf",e.currency),f.Ib(5),f.Vc(f.qc(36,35,"general.asterisk")),f.Ib(2),f.Vc(f.qc(38,37,"companies.country")),f.Ib(2),f.Ob("is-invalid",e.invalidCountry)("status-danger",e.invalidCountry),f.vc("virtualScroll",!0),f.Ib(1),f.vc("ngForOf",e.countries)}}function T(e,t){1&e&&(f.cc(0,"div",12),f.cc(1,"div",13),f.cc(2,"div",14),f.cc(3,"label"),f.Uc(4,"Direcci\xf3n principal"),f.bc(),f.Xb(5,"textarea",33),f.bc(),f.bc(),f.cc(6,"div",13),f.cc(7,"div",14),f.cc(8,"label"),f.Uc(9,"Direcci\xf3n postal"),f.bc(),f.Xb(10,"textarea",34),f.bc(),f.bc(),f.bc(),f.cc(11,"div",12),f.cc(12,"div",13),f.cc(13,"div",14),f.cc(14,"label"),f.Uc(15,"Ciudad/Distrito"),f.bc(),f.Xb(16,"input",35),f.bc(),f.bc(),f.cc(17,"div",13),f.cc(18,"label"),f.Uc(19,"Estado/Provincia"),f.bc(),f.Xb(20,"input",36),f.bc(),f.bc(),f.cc(21,"div",12),f.cc(22,"div",13),f.cc(23,"div",14),f.cc(24,"label"),f.Uc(25,"C\xf3digo postal"),f.bc(),f.Xb(26,"input",37),f.bc(),f.bc(),f.cc(27,"div",13),f.cc(28,"label"),f.Uc(29,"Movil"),f.bc(),f.Xb(30,"input",38),f.bc(),f.bc(),f.cc(31,"div",12),f.cc(32,"div",13),f.cc(33,"div",14),f.cc(34,"label"),f.Uc(35,"Fijo"),f.bc(),f.Xb(36,"input",39),f.bc(),f.bc(),f.bc())}function A(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.name_taxe," - ",e.rate_name," ")}}function E(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.account_number," - ",e.account_name," ")}}function B(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.payment_method," ")}}function R(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.term_name," ")}}function G(e,t){if(1&e&&(f.cc(0,"div",12),f.cc(1,"div",13),f.cc(2,"div",14),f.cc(3,"label"),f.Uc(4),f.pc(5,"translate"),f.bc(),f.cc(6,"ng-select",40),f.cc(7,"ng-option",41),f.Uc(8,"Seleccionar"),f.bc(),f.Sc(9,A,2,3,"ng-option",17),f.bc(),f.bc(),f.bc(),f.cc(10,"div",13),f.cc(11,"div",14),f.cc(12,"label"),f.Uc(13,"Cuenta contable"),f.bc(),f.cc(14,"ng-select",42),f.cc(15,"ng-option",41),f.Uc(16,"Seleccionar"),f.bc(),f.Sc(17,E,2,3,"ng-option",17),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(18,"div",12),f.cc(19,"div",13),f.cc(20,"div",14),f.cc(21,"label"),f.Uc(22,"Metodo de pago preferido"),f.bc(),f.cc(23,"ng-select",43),f.cc(24,"ng-option",41),f.Uc(25,"Seleccionar"),f.bc(),f.Sc(26,B,2,2,"ng-option",17),f.bc(),f.bc(),f.bc(),f.cc(27,"div",13),f.cc(28,"div",14),f.cc(29,"label"),f.Uc(30,"Condiciones de pago"),f.bc(),f.cc(31,"ng-select",44),f.cc(32,"ng-option",41),f.Uc(33,"Seleccionar"),f.bc(),f.Sc(34,R,2,2,"ng-option",17),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(35,"div",12),f.cc(36,"div",13),f.cc(37,"div",14),f.cc(38,"label"),f.Uc(39,"Saldo inicial"),f.bc(),f.Xb(40,"input",45),f.bc(),f.bc(),f.cc(41,"div",13),f.cc(42,"div",14),f.cc(43,"label"),f.Uc(44,"A partir de la fecha"),f.bc(),f.Xb(45,"input",46),f.bc(),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.Vc(f.qc(5,8,"general.tax")),f.Ib(5),f.vc("ngForOf",e.tax),f.Ib(5),f.vc("virtualScroll",!0),f.Ib(3),f.vc("ngForOf",e.accounts),f.Ib(6),f.vc("virtualScroll",!0),f.Ib(3),f.vc("ngForOf",e.payments),f.Ib(5),f.vc("virtualScroll",!0),f.Ib(3),f.vc("ngForOf",e.timelimits)}}let L=(()=>{class e extends I.a{constructor(e,t,c,a,i,o,r,l,s,d,b,u,p,m,g,f){super(e,t,c,a,i,o,s),this.fb=e,this.msg=t,this.api=c,this.router=a,this.translate=i,this.aRouter=o,this.termsSer=r,this.attrSer=l,this.spinner=s,this.docs=d,this.cnt=b,this.curr=u,this.tor=p,this.taxSer=m,this.accountSer=g,this.custSer=f,this.typepersons=[],this.identityDocs=[],this.typeOrg=[],this.countries=[],this.currency=[],this.tax=[],this.persons=[],this.accounts=[],this.payments=[],this.timelimits=[],this.active=1,this.title="Proveedor",this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({address:[""],city_name:[""],company_name:[""],description:[""],dni:[""],email:[""],last_name:[""],location:[""],mobile:[""],names:[""],phone:[""],postal_code:[""],state_name:[""],title:[""],web:[""],currency_id:["",[n.y.required]],country_id:[113,[n.y.required]],type_organization_id:[1,[n.y.required]],person_type_id:[1,[n.y.required]],tax_rate_id:["0"],means_payment_id:["0"],sales_term:["0"],accounting_account_id:["0"],initial_balance:[""],initial_date:[(new Date).toISOString().split("T")[0]],full_name:["",[n.y.required,n.y.minLength(6)]]})}get invalidFullName(){return this.customForm.get("full_name").invalid&&this.customForm.get("full_name").touched}get invalidPersonType(){return this.customForm.get("person_type_id").value<=0}get invalidCountry(){return this.customForm.get("country_id").value<=0}get invalidCurrency(){return this.customForm.get("currency_id").value<=0}get invalidOrganization(){return this.customForm.get("type_organization_id").value<=0}ngOnInit(){super.ngOnInit();const e=this;e.PutURL="/persons/update/",e.PostURL="/persons/create/provider",e.docs.getData({}).subscribe(t=>{e.identityDocs=t}),e.cnt.getData().subscribe(t=>{e.countries=t}),e.curr.getData().subscribe(t=>{e.currency=t,t.length>0&&(t.length>1?t.map(t=>{if(t.national_currency)return e.customForm.get("currency_id").setValue(t.id),!1}):e.customForm.get("currency_id").setValue(t[0].id))}),this.tor.getData({}).subscribe(e=>{this.typeOrg=e}),e.taxSer.getData({isVat:1}).subscribe(t=>{e.tax=t}),e.accountSer.getsubAccounts({}).subscribe(t=>{e.accounts=t}),e.custSer.getMeansPayment({}).subscribe(t=>{e.payments=t}),e.custSer.getTimeLimit({}).subscribe(t=>{e.timelimits=t})}loadData(e=0){const t=this.customForm;this.editing=!0,this.custSer.getCustomers({uid:e}).subscribe(e=>{var c,a,n,i,o,r;t.setValue({address:e[0].address,city_name:e[0].city_name,company_name:e[0].company_name,country_id:e[0].country_id,currency_id:e[0].currency_id,description:e[0].description,dni:e[0].dni,email:e[0].email,full_name:e[0].full_name,last_name:e[0].last_name,location:e[0].location,mobile:e[0].mobile,names:e[0].names,person_type_id:e[0].person_type_id,type_organization_id:e[0].type_organization_id,tax_rate_id:null!==(c=e[0].tax_rate_id)&&void 0!==c?c:"0",means_payment_id:null!==(a=e[0].means_payment_id)&&void 0!==a?a:"0",sales_term:null!==(n=e[0].sales_term)&&void 0!==n?n:"0",accounting_account_id:null!==(i=e[0].accounting_account_id)&&void 0!==i?i:"0",initial_balance:null!==(o=e[0].initial_balance)&&void 0!==o?o:0,initial_date:null!==(r=e[0].initial_date)&&void 0!==r?r:(new Date).toISOString().split("T")[0],phone:e[0].phone,postal_code:e[0].postal_code,state_name:e[0].state_name,title:e[0].title,web:e[0].web})})}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(n.e),f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a),f.Wb(w.h),f.Wb(w.a),f.Wb(p.c),f.Wb(U.c),f.Wb(U.a),f.Wb(U.b),f.Wb(F.d),f.Wb(O.f),f.Wb(k.b),f.Wb(O.b))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-customer-form"]],viewQuery:function(e,t){if(1&e&&(f.Zc(M,1),f.Zc(W,1),f.Zc(N,1)),2&e){let e;f.Hc(e=f.nc())&&(t.focusElement=e.first),f.Hc(e=f.nc())&&(t.uploadFile=e.first),f.Hc(e=f.nc())&&(t.imgUp=e.first)}},features:[f.Fb],decls:25,vars:18,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"display-none"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["formControlName","type_organization_id","required","","name","type_organization_id",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","full_name","required","","autofocus","",1,"form-control"],["focusElement",""],["formControlName","currency_id","name","currency_id","required","",3,"virtualScroll"],["formControlName","country_id","required","",3,"virtualScroll"],[1,"col-md-2"],["type","text","formControlName","title","name","title",1,"form-control"],[1,"col-md-5"],["type","text","formControlName","names",1,"form-control"],["type","text","formControlName","last_name",1,"form-control"],["type","text","formControlName","dni",1,"form-control"],["type","text","formControlName","company_name",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","web",1,"form-control"],[3,"value"],["height","15","width","15",3,"src"],["formControlName","address","rows","2",1,"form-control"],["formControlName","location","rows","2",1,"form-control"],["type","text","formControlName","city_name",1,"form-control"],["type","text","formControlName","state_name",1,"form-control"],["type","text","formControlName","postal_code",1,"form-control"],["type","text","formControlName","mobile",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["formControlName","tax_rate_id"],["value","0"],["formControlName","accounting_account_id",3,"virtualScroll"],["formControlName","means_payment_id",3,"virtualScroll"],["formControlName","sales_term",3,"virtualScroll"],["currencyMask","","name","initial_balance","formControlName","initial_balance",1,"form-control"],["type","date","name","initial_date","formControlName","initial_date",1,"form-control"]],template:function(e,t){if(1&e&&(f.cc(0,"div",0),f.cc(1,"div",1),f.Uc(2),f.pc(3,"uppercase"),f.pc(4,"translate"),f.pc(5,"uppercase"),f.bc(),f.cc(6,"div",2),f.cc(7,"form",3),f.cc(8,"ul",4,5),f.mc("activeIdChange",function(e){return t.active=e}),f.cc(10,"li",6),f.cc(11,"a",7),f.Uc(12,"General"),f.bc(),f.Sc(13,V,79,39,"ng-template",8),f.bc(),f.cc(14,"li",6),f.cc(15,"a",7),f.Uc(16,"Ubicaci\xf3n/Direcci\xf3n"),f.bc(),f.Sc(17,T,37,0,"ng-template",8),f.bc(),f.cc(18,"li",6),f.cc(19,"a",7),f.Uc(20,"Pago y facturaci\xf3n"),f.bc(),f.Sc(21,G,46,10,"ng-template",8),f.bc(),f.bc(),f.Xb(22,"div",9),f.bc(),f.bc(),f.cc(23,"div",10),f.cc(24,"app-footer-form",11),f.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),f.bc(),f.bc(),f.bc()),2&e){const e=f.Ic(9);f.Ib(2),f.Xc(" ",f.qc(3,12,f.qc(4,14,"general.createEdit"))," ",f.qc(5,16,t.title)," "),f.Ib(5),f.vc("formGroup",t.customForm),f.Ib(1),f.vc("activeId",t.active),f.Ib(2),f.vc("ngbNavItem",1),f.Ib(4),f.vc("ngbNavItem",2),f.Ib(4),f.vc("ngbNavItem",3),f.Ib(4),f.vc("ngbNavOutlet",e),f.Ib(2),f.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose)}},directives:[n.z,n.q,n.h,d.u,d.w,d.x,d.v,d.z,P.a,s.a,n.p,n.g,n.w,a.m,n.c,s.d,b.a],pipes:[a.v,m.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),e})();var H=c("PSD3"),z=c.n(H);const $=["customGrid"],Z=["detailGrid"],Q=["searchField"],j=["myTabs"];function K(e,t){if(1&e){const e=f.dc();f.cc(0,"div"),f.cc(1,"button",24),f.mc("click",function(){return f.Lc(e),f.oc().importData()}),f.Xb(2,"i",39),f.Uc(3),f.pc(4,"translate"),f.bc(),f.bc()}if(2&e){const e=f.oc();f.Ib(1),f.vc("disabled",e.loading),f.Ib(2),f.Wc(" ",f.qc(4,2,"buttons.import")," ")}}let J=(()=>{class e extends v.a{constructor(e,t,c,a,n,i){super(e,t,c,a,n),this.msg=e,this.api=t,this.router=c,this.translate=a,this.aRouter=n,this.shopSer=i,this.title="Registro de compras",this.invoiceName="",this.source2={localdata:[],datafields:[{name:"active",type:"boolean"},{name:"admission_date",type:"string"},{name:"amount",type:"number"},{name:"barcode",type:"string"},{name:"batch",type:"string"},{name:"expiration_date",type:"string"},{name:"fabrication_date",type:"string"},{name:"freight",type:"number"},{name:"id",type:"number"},{name:"internal_code",type:"string"},{name:"invoice_id",type:"number"},{name:"perishable",type:"boolean"},{name:"product_id",type:"number"},{name:"product_name",type:"string"},{name:"sale_price",type:"number"},{name:"state",type:"number"},{name:"tax_bill",type:"number"},{name:"tax_bill_id",type:"number"},{name:"tax_sale",type:"number"},{name:"tax_sale_id",type:"number"},{name:"total_cost",type:"number"},{name:"unit_cost",type:"number"},{name:"vat_included",type:"boolean"}],datatype:"array"},this.dataAdapter2=new jqx.dataAdapter(this.source2),this.columnsDet=[{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#edit_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>'<span><i class="fas fa-pen fas-fa-edit fa-cursor"></i></span>'},{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#delete_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>'<span><i class="fas fa-trash-alt fas-fa-delete fa-cursor"></i></span>'},{text:"Cantidad",datafield:"amount",align:"center",width:80,cellsalign:"right"},{text:"Producto",datafield:"product_name",align:"center",minWidth:250},{text:"Precio unitario",datafield:"unit_cost",align:"center",cellsalign:"right",cellsformat:"c2",width:120},{text:"Precio de venta",datafield:"sale_price",align:"center",cellsalign:"right",cellsformat:"c2",width:120},{text:"Total",datafield:"total_cost",align:"center",cellsalign:"right",cellsformat:"c2",width:120}]}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const e=this;e.crudApi={create:"/shopping/create",read:"/shopping/read",update:"/shopping/update/",delete:"/shopping/delete/"},e.showActions=!0,e.showRowNumber=!0,e.pagesize=10,e.datafields=[{name:"id",type:"number"},{name:"invoice_nro",type:"string"},{name:"total",type:"number"},{name:"branch_name",type:"string"},{name:"full_name",type:"string"},{name:"winery_name",type:"string"}],e.sourceColumns=[{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#edit_shopping_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>'<span><i class="fas fa-shopping-cart fas-fa-edit fa-cursor"></i></span>'},{text:"N\xba. Factura",datafield:"invoice_nro",align:"center",minwidth:80,width:100},{text:"Proveedor",datafield:"full_name",align:"center",minwidth:100},{text:"Bodega",datafield:"branch_name",align:"center",minwidth:100},{text:"Total",datafield:"total",align:"center",cellsalign:"right",cellsformat:"c2",minwidth:100}],this.prepareGrid()}cellDetailClick(e){const t=e.args,c=this.detailGrid.getrowdata(t.rowindex);"#edit_#"===t.datafield?this.goRoute(`shopping/invoices/detail/edit/${c.id}`):"#delete_#"===t.datafield&&this.deleteDetail(c)}cellClick(e){const t=e.args,c=this.customGrid.getrowdata(t.rowindex),a=this;a.invoiceName=c.invoice_nro,"#edit_shopping_#"===t.datafield?a.goRoute(`shopping/invoices/create/detail/${c.id}`):"#edit_#"===t.datafield?a.editData(c):"#delete_#"===t.datafield?a.deleteData(c):a.refreshDetail(c.id)}deleteDetail(e){const t=this,c=t.translate;z.a.fire({title:c.instant("titleMessages.delete"),text:c.instant("bodyMessages.delete"),icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c.instant("buttons.yes"),cancelButtonText:c.instant("buttons.not")}).then(a=>{a.value&&t.api.delete(`/shopping/delete/detail/${e.id}`).subscribe(c=>{t.refreshDetail(e.invoice_id)},e=>{t.msg.toastMessage(c.instant("general.error"),e.error.message,4)})})}refreshDetail(e){const t=this;t.source2.localdata=[],t.detailGrid.updatebounddata("cells"),t.detailGrid.showloadelement(),t.shopSer.getDetail(e).subscribe(e=>{t.source2.localdata=e,t.detailGrid.updatebounddata("cells"),t.detailGrid.hideloadelement()},()=>t.detailGrid.hideloadelement())}createData(){super.createData(),this.goRoute("shopping/invoices/create")}editData(e){super.editData(e),this.goRoute(`shopping/invoices/edit/${e.id}`)}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a),f.Wb(U.d))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-invoices"]],viewQuery:function(e,t){if(1&e&&(f.Zc($,1),f.Zc(Z,1),f.Zc(Q,1),f.Zc(j,1)),2&e){let e;f.Hc(e=f.nc())&&(t.customGrid=e.first),f.Hc(e=f.nc())&&(t.detailGrid=e.first),f.Hc(e=f.nc())&&(t.searchField=e.first),f.Hc(e=f.nc())&&(t.myTabs=e.first)}},features:[f.Fb],decls:93,vars:56,consts:[[3,"width","height","position","animationType","selectionTracker","theme"],["myTabs",""],[2,"margin-left","30px"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"example-items-col"],["width","100%",3,"source","columns","theme","disabled","selectionmode","columnsresize","sortable","filterable","showfilterrow","onCellselect"],["detailGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(e,t){1&e&&(f.cc(0,"jqxTabs",0,1),f.cc(2,"ul"),f.cc(3,"li",2),f.Uc(4,"Facturas"),f.bc(),f.cc(5,"li"),f.Uc(6,"Detalle de la factura"),f.bc(),f.bc(),f.cc(7,"div"),f.cc(8,"div",3),f.cc(9,"div",4),f.cc(10,"h4",5),f.Uc(11),f.pc(12,"uppercase"),f.bc(),f.bc(),f.cc(13,"div",3),f.cc(14,"div",6),f.cc(15,"div",7),f.cc(16,"button",8),f.mc("click",function(){return t.searchQuery()}),f.Xb(17,"i",9),f.bc(),f.bc(),f.cc(18,"div",10),f.cc(19,"jqxMenu",11,12),f.mc("onItemclick",function(e){return t.itemclick(e)}),f.cc(21,"ul"),f.cc(22,"li",13),f.Xb(23,"i",14),f.Xb(24,"a",15),f.cc(25,"ul",16),f.cc(26,"li"),f.cc(27,"a",15),f.Xb(28,"i",17),f.Uc(29),f.pc(30,"translate"),f.bc(),f.bc(),f.cc(31,"li"),f.cc(32,"a",15),f.Xb(33,"i",18),f.Uc(34),f.pc(35,"translate"),f.bc(),f.bc(),f.cc(36,"li"),f.cc(37,"a",15),f.Xb(38,"i",17),f.Uc(39),f.pc(40,"translate"),f.bc(),f.bc(),f.Xb(41,"li",19),f.cc(42,"li"),f.cc(43,"a",15),f.Xb(44,"i",20),f.Uc(45),f.pc(46,"translate"),f.bc(),f.bc(),f.Xb(47,"li",19),f.cc(48,"li"),f.cc(49,"a",15),f.Xb(50,"i",21),f.Uc(51),f.pc(52,"translate"),f.bc(),f.bc(),f.cc(53,"li"),f.cc(54,"a",15),f.Xb(55,"i",21),f.Uc(56),f.pc(57,"translate"),f.bc(),f.bc(),f.cc(58,"li"),f.cc(59,"a",15),f.Xb(60,"i",21),f.Uc(61),f.pc(62,"translate"),f.bc(),f.bc(),f.Xb(63,"li",19),f.cc(64,"li"),f.cc(65,"a",15),f.Xb(66,"i",22),f.Uc(67),f.pc(68,"translate"),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(69,"div",23),f.cc(70,"button",24),f.mc("click",function(){return t.createData()}),f.Xb(71,"i",25),f.Uc(72),f.pc(73,"translate"),f.bc(),f.bc(),f.Sc(74,K,5,4,"div",26),f.bc(),f.cc(75,"div",27),f.cc(76,"fieldset"),f.cc(77,"div",28),f.cc(78,"input",29,30),f.mc("keyup",function(e){return t.inputKey(e)}),f.bc(),f.cc(80,"div",31),f.cc(81,"button",32),f.mc("click",function(){return t.searchQuery()}),f.Xb(82,"i",33),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(83,"jqxGrid",34,35),f.mc("onCellselect",function(e){return t.cellClick(e)})("onBindingcomplete",function(e){return t.Bindingcomplete(e)}),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(85,"div"),f.cc(86,"div",3),f.cc(87,"div",4),f.Uc(88),f.pc(89,"uppercase"),f.bc(),f.cc(90,"div",36),f.cc(91,"jqxGrid",37,38),f.mc("onCellselect",function(e){return t.cellDetailClick(e)}),f.bc(),f.bc(),f.bc(),f.bc(),f.bc()),2&e&&(f.vc("width","100%")("height",600)("position","top")("animationType","fade")("selectionTracker",!1)("theme",t.theme),f.Ib(11),f.Vc(f.qc(12,34,t.title)),f.Ib(5),f.vc("disabled",t.loading),f.Ib(3),f.vc("height",36),f.Ib(10),f.Vc(f.qc(30,36,"export.excel")),f.Ib(5),f.Vc(f.qc(35,38,"export.csv")),f.Ib(5),f.Vc(f.qc(40,40,"export.xml")),f.Ib(6),f.Vc(f.qc(46,42,"export.pdf")),f.Ib(6),f.Vc(f.qc(52,44,"export.html")),f.Ib(5),f.Vc(f.qc(57,46,"export.json")),f.Ib(5),f.Vc(f.qc(62,48,"export.tsv")),f.Ib(6),f.Vc(f.qc(68,50,"export.print")),f.Ib(3),f.vc("disabled",t.loading),f.Ib(2),f.Wc(" ",f.qc(73,52,"buttons.new")," "),f.Ib(2),f.vc("ngIf",t.useImport),f.Ib(4),f.vc("placeholder",t.placeholderSearch),f.Ib(3),f.vc("disabled",t.loading),f.Ib(2),f.vc("disabled",t.loading)("auto-create",!1),f.Ib(5),f.Wc("FACTURA N\xba: ",f.qc(89,54,t.invoiceName),""),f.Ib(3),f.vc("source",t.dataAdapter2)("columns",t.columnsDet)("theme",t.theme)("disabled",t.loading)("selectionmode","singlecell")("columnsresize",!0)("sortable",!0)("filterable",!0)("showfilterrow",!0))},directives:[r.a,o.a,a.n,i.a],pipes:[a.v,m.c],encapsulation:2}),e})();var Y=c("52YP"),ee=c("4IXu"),te=c("Cx/d");const ce=["focusElement"];function ae(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Yc(" ",e.dni," - ",e.company_name," ",e.full_name," ")}}function ne(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.branch_name," ")}}function ie(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.winery_name," ")}}function oe(e,t){if(1&e&&(f.cc(0,"ng-option",31),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.payment_method," ")}}let re=(()=>{class e extends I.a{constructor(e,t,c,a,i,o,r,l,s,d,b,u){super(e,t,c,a,i,o,u),this.fb=e,this.msg=t,this.api=c,this.router=a,this.translate=i,this.aRouter=o,this.provSer=r,this.docsSer=l,this.shopSer=s,this.branchSer=d,this.wareHouseServ=b,this.spinner=u,this.providers=[],this.payments=[],this.ware_house=[],this.pointsOfSale=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({admission_date:[(new Date).toISOString().split("T")[0],[n.y.required]],discount:[0],freight:[0],rfte:[0],invoice_nro:["",[n.y.required,n.y.minLength(2)]],vat:[0],notes:[""],pay_day:[(new Date).toISOString().split("T")[0],[n.y.required]],payment_method_id:["",[n.y.required]],point_of_sale_id:["0",[n.y.required]],warehouse_id:["0"],provider_id:["0",[n.y.required]],sub_total:[0,[n.y.required]],total:[0,[n.y.required]]})}get invalidName(){return this.customForm.get("invoice_nro").invalid&&this.customForm.get("invoice_nro").touched}get invalidBranch(){return this.customForm.get("point_of_sale_id").invalid&&this.customForm.get("point_of_sale_id").touched}ngOnInit(){super.ngOnInit();const e=this;e.title="Crear/Editar factura de compra",e.PutURL="/shopping/update/",e.PostURL="/shopping/create",e.wareHouseServ.getData({}).subscribe(t=>{e.ware_house=t}),e.provSer.getProviders({}).subscribe(t=>{e.providers=t}),e.docsSer.getPaymentMethods({}).subscribe(t=>{e.payments=t,t.length>0&&e.customForm.get("payment_method_id").setValue(t[0].id)}),e.branchSer.getPointsOfSale({}).subscribe(t=>{e.pointsOfSale=t,t.length>0&&e.customForm.get("point_of_sale_id").setValue(t[0].id)})}loadData(e=0){const t=this.customForm;this.editing=!0,this.shopSer.getData({uid:e}).subscribe(e=>{var c;t.setValue({admission_date:e[0].admission_date,discount:e[0].discount,freight:e[0].freight,invoice_nro:e[0].invoice_nro,vat:e[0].vat,rfte:e[0].rfte,notes:e[0].notes,pay_day:e[0].pay_day,warehouse_id:null!==(c=e[0].warehouse_id)&&void 0!==c?c:"0",payment_method_id:e[0].payment_method_id,point_of_sale_id:e[0].point_of_sale_id,provider_id:e[0].provider_id,sub_total:e[0].sub_total,total:e[0].total})})}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(n.e),f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a),f.Wb(Y.a),f.Wb(ee.a),f.Wb(te.a),f.Wb(F.a),f.Wb(F.e),f.Wb(p.c))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-invoices-form"]],viewQuery:function(e,t){if(1&e&&f.Zc(ce,1),2&e){let e;f.Hc(e=f.nc())&&(t.focusElement=e.first)}},features:[f.Fb],decls:122,vars:41,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],[1,"asterisk"],["type","text","nbinput","","formControlName","invoice_nro","required","","autofocus","",1,"form-control"],["focusElement",""],[1,"col-md-8"],["formControlName","provider_id","required",""],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["formControlName","point_of_sale_id","required",""],["formControlName","warehouse_id"],["formControlName","payment_method_id","required",""],["type","date","formControlName","admission_date","nbinput","","required","",1,"form-control"],["type","date","formControlName","pay_day","nbinput","","required","",1,"form-control"],["currencyMask","","formControlName","sub_total","nbinput","","required","",1,"form-control"],["currencyMask","","formControlName","discount","nbinput","",1,"form-control"],["currencyMask","","formControlName","vat","nbinput","",1,"form-control"],["currencyMask","","formControlName","freight","nbinput","",1,"form-control"],["currencyMask","","formControlName","rfte","nbinput","",1,"form-control"],["currencyMask","","formControlName","total","ngbTooltip","Total","nbinput","","required","",1,"form-control"],[1,"col"],["formControlName","notes","nbinput","",1,"form-control"],[1,"card-footer"],[3,"showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(e,t){1&e&&(f.cc(0,"div",0),f.cc(1,"div",1),f.cc(2,"div",2),f.cc(3,"div",3),f.Uc(4),f.pc(5,"uppercase"),f.pc(6,"translate"),f.bc(),f.cc(7,"div",4),f.cc(8,"form",5),f.cc(9,"div",0),f.cc(10,"div",6),f.cc(11,"div",7),f.cc(12,"label"),f.cc(13,"span",8),f.Uc(14),f.pc(15,"translate"),f.bc(),f.Uc(16,"N\xba. de la factura"),f.bc(),f.Xb(17,"input",9,10),f.bc(),f.bc(),f.cc(19,"div",11),f.cc(20,"div",7),f.cc(21,"label"),f.cc(22,"span",8),f.Uc(23),f.pc(24,"translate"),f.bc(),f.Uc(25,"Proveedor"),f.bc(),f.cc(26,"ng-select",12),f.cc(27,"ng-option",13),f.Uc(28,"Seleccionar proveedor"),f.bc(),f.Sc(29,ae,2,4,"ng-option",14),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(30,"div",0),f.cc(31,"div",15),f.cc(32,"div",7),f.cc(33,"label"),f.cc(34,"span",8),f.Uc(35),f.pc(36,"translate"),f.bc(),f.Uc(37,"Punto de venta"),f.bc(),f.cc(38,"ng-select",16),f.cc(39,"ng-option",13),f.Uc(40,"Seleccionar punto de venta"),f.bc(),f.Sc(41,ne,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(42,"div",15),f.cc(43,"div",7),f.cc(44,"label"),f.Uc(45,"Bodega"),f.bc(),f.cc(46,"ng-select",17),f.cc(47,"ng-option",13),f.Uc(48,"Seleccionar bopdega"),f.bc(),f.Sc(49,ie,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(50,"div",0),f.cc(51,"div",6),f.cc(52,"div",7),f.cc(53,"label"),f.cc(54,"span",8),f.Uc(55),f.pc(56,"translate"),f.bc(),f.Uc(57,"Forma de pago"),f.bc(),f.cc(58,"ng-select",18),f.Sc(59,oe,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(60,"div",6),f.cc(61,"div",7),f.cc(62,"label"),f.cc(63,"span",8),f.Uc(64),f.pc(65,"translate"),f.bc(),f.Uc(66,"Fecha de emisi\xf3n"),f.bc(),f.Xb(67,"input",19),f.bc(),f.bc(),f.cc(68,"div",6),f.cc(69,"div",7),f.cc(70,"label"),f.cc(71,"span",8),f.Uc(72),f.pc(73,"translate"),f.bc(),f.Uc(74,"Fecha de pago"),f.bc(),f.Xb(75,"input",20),f.bc(),f.bc(),f.bc(),f.cc(76,"div",0),f.cc(77,"div",6),f.cc(78,"div",7),f.cc(79,"label"),f.cc(80,"span",8),f.Uc(81),f.pc(82,"translate"),f.bc(),f.Uc(83,"Subtotal"),f.bc(),f.Xb(84,"input",21),f.bc(),f.bc(),f.cc(85,"div",6),f.cc(86,"div",7),f.cc(87,"label"),f.Uc(88,"Descuento"),f.bc(),f.Xb(89,"input",22),f.bc(),f.bc(),f.cc(90,"div",6),f.cc(91,"div",7),f.cc(92,"label"),f.Uc(93,"IVA"),f.bc(),f.Xb(94,"input",23),f.bc(),f.bc(),f.bc(),f.cc(95,"div",0),f.cc(96,"div",6),f.cc(97,"div",7),f.cc(98,"label"),f.Uc(99,"Cargo/Seguro/Flete"),f.bc(),f.Xb(100,"input",24),f.bc(),f.bc(),f.cc(101,"div",6),f.cc(102,"div",7),f.cc(103,"label"),f.Uc(104,"Retefuente"),f.bc(),f.Xb(105,"input",25),f.bc(),f.bc(),f.cc(106,"div",6),f.cc(107,"div",7),f.cc(108,"label"),f.cc(109,"span",8),f.Uc(110),f.pc(111,"translate"),f.bc(),f.Uc(112,"Total"),f.bc(),f.Xb(113,"input",26),f.bc(),f.bc(),f.bc(),f.cc(114,"div",0),f.cc(115,"div",27),f.cc(116,"div",7),f.cc(117,"label"),f.Uc(118,"Notas"),f.bc(),f.Xb(119,"textarea",28),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(120,"div",29),f.cc(121,"app-footer-form",30),f.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),f.bc(),f.bc(),f.bc(),f.bc(),f.bc()),2&e&&(f.Ib(4),f.Wc("",f.qc(5,21,f.qc(6,23,"general.createEdit"))," FACTURA DE COMPRA "),f.Ib(4),f.vc("formGroup",t.customForm),f.Ib(6),f.Wc(" ",f.qc(15,25,"general.asterisk"),""),f.Ib(3),f.Ob("status-danger",t.invalidName)("is-invalid",t.invalidName),f.Ib(6),f.Wc(" ",f.qc(24,27,"general.asterisk"),""),f.Ib(6),f.vc("ngForOf",t.providers),f.Ib(6),f.Wc(" ",f.qc(36,29,"general.asterisk"),""),f.Ib(6),f.vc("ngForOf",t.pointsOfSale),f.Ib(8),f.vc("ngForOf",t.ware_house),f.Ib(6),f.Wc(" ",f.qc(56,31,"general.asterisk"),""),f.Ib(4),f.vc("ngForOf",t.payments),f.Ib(5),f.Wc(" ",f.qc(65,33,"general.asterisk"),""),f.Ib(8),f.Wc(" ",f.qc(73,35,"general.asterisk"),""),f.Ib(9),f.Wc(" ",f.qc(82,37,"general.asterisk"),""),f.Ib(29),f.Wc(" ",f.qc(111,39,"general.asterisk"),""),f.Ib(11),f.vc("showAaveACreate",!1)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[n.z,n.q,n.h,n.c,n.p,n.g,n.w,s.a,s.d,a.m,b.a,d.N,P.a],pipes:[a.v,m.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),e})();var le=c("xg8E"),se=c("PU63"),de=c("K56k");const be=["customGrid"],ue=["myDataTable"],pe=["searchField"],me=["focusElement"],ge=["amountElement"],fe=["cashele"],he=["searchbar"],ve=["myTabs"];function _e(e,t){1&e&&(f.cc(0,"label"),f.cc(1,"span",72),f.Uc(2),f.pc(3,"translate"),f.bc(),f.Uc(4,"N\xba. de la factura"),f.bc()),2&e&&(f.Ib(2),f.Wc(" ",f.qc(3,1,"general.asterisk"),""))}function ye(e,t){1&e&&(f.cc(0,"label"),f.cc(1,"span",72),f.Uc(2),f.pc(3,"translate"),f.bc(),f.Uc(4,"Proveedor"),f.bc()),2&e&&(f.Ib(2),f.Wc(" ",f.qc(3,1,"general.asterisk"),""))}function xe(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Yc(" ",e.dni," - ",e.full_name," ",e.company_name," ")}}function Ce(e,t){1&e&&(f.cc(0,"label"),f.cc(1,"span",72),f.Uc(2),f.pc(3,"translate"),f.bc(),f.Uc(4,"Punto de venta"),f.bc()),2&e&&(f.Ib(2),f.Wc(" ",f.qc(3,1,"general.asterisk"),""))}function Se(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.branch_name," ")}}function Ie(e,t){1&e&&(f.cc(0,"label"),f.Uc(1,"Bodega"),f.bc())}function we(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.winery_name," ")}}function Ue(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Wc(" ",e.payment_method," ")}}function Fe(e,t){if(1&e&&(f.cc(0,"div",5),f.cc(1,"div",6),f.cc(2,"div",7),f.cc(3,"label"),f.cc(4,"span",72),f.Uc(5),f.pc(6,"translate"),f.bc(),f.Uc(7,"Forma de pago"),f.bc(),f.cc(8,"ng-select",74),f.Sc(9,Ue,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(10,"div",6),f.cc(11,"div",7),f.cc(12,"label"),f.cc(13,"span",72),f.Uc(14),f.pc(15,"translate"),f.bc(),f.Uc(16,"Fecha de emisi\xf3n"),f.bc(),f.Xb(17,"input",75),f.bc(),f.bc(),f.cc(18,"div",6),f.cc(19,"div",7),f.cc(20,"label"),f.cc(21,"span",72),f.Uc(22),f.pc(23,"translate"),f.bc(),f.Uc(24,"Fecha de pago"),f.bc(),f.Xb(25,"input",76),f.bc(),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(5),f.Wc(" ",f.qc(6,6,"general.asterisk"),""),f.Ib(4),f.vc("ngForOf",e.payments),f.Ib(5),f.Wc(" ",f.qc(15,8,"general.asterisk"),""),f.Ib(3),f.vc("readOnly",e.editing),f.Ib(5),f.Wc(" ",f.qc(23,10,"general.asterisk"),""),f.Ib(3),f.vc("readOnly",e.editing)}}function Oe(e,t){if(1&e&&(f.cc(0,"div",5),f.cc(1,"div",6),f.cc(2,"div",7),f.cc(3,"label"),f.cc(4,"span",72),f.Uc(5),f.pc(6,"translate"),f.bc(),f.Uc(7,"Subtotal"),f.bc(),f.Xb(8,"input",77),f.bc(),f.bc(),f.cc(9,"div",6),f.cc(10,"div",7),f.cc(11,"label"),f.Uc(12,"Descuento"),f.bc(),f.Xb(13,"input",78),f.bc(),f.bc(),f.cc(14,"div",6),f.cc(15,"div",7),f.cc(16,"label"),f.Uc(17,"IVA"),f.bc(),f.Xb(18,"input",79),f.bc(),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(5),f.Wc(" ",f.qc(6,4,"general.asterisk"),""),f.Ib(3),f.vc("readOnly",e.editing),f.Ib(5),f.vc("readOnly",e.editing),f.Ib(5),f.vc("readOnly",e.editing)}}function ke(e,t){1&e&&(f.cc(0,"label"),f.Uc(1,"Cargo/Seguro/Flete"),f.bc())}function Pe(e,t){1&e&&(f.cc(0,"label"),f.Uc(1,"Retefuente"),f.bc())}function Me(e,t){1&e&&(f.cc(0,"label"),f.cc(1,"span",72),f.Uc(2),f.pc(3,"translate"),f.bc(),f.Uc(4,"Total"),f.bc()),2&e&&(f.Ib(2),f.Wc(" ",f.qc(3,1,"general.asterisk"),""))}function We(e,t){if(1&e&&(f.cc(0,"div",5),f.cc(1,"div",23),f.cc(2,"div",7),f.cc(3,"label"),f.Uc(4,"Notas"),f.bc(),f.Xb(5,"textarea",80),f.bc(),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(5),f.vc("readOnly",e.editing)}}function Ne(e,t){if(1&e){const e=f.dc();f.cc(0,"div",81),f.mc("click",function(){f.Lc(e);const c=t.$implicit;return f.oc().onClickItem(c)}),f.Xb(1,"img",82),f.cc(2,"div",2),f.cc(3,"h6",83),f.Uc(4),f.pc(5,"currency"),f.bc(),f.cc(6,"p",84),f.Uc(7),f.bc(),f.bc(),f.bc()}if(2&e){const e=t.$implicit;f.Ib(1),f.vc("src",e.image,f.Oc),f.Ib(3),f.Wc(" ",f.qc(5,3,e.sale_price),""),f.Ib(3),f.Vc(e.product_name)}}function qe(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.name_taxe," - ",e.rate_value," % ")}}function Xe(e,t){if(1&e&&(f.cc(0,"ng-option",73),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.name_taxe," - ",e.rate_value," % ")}}function De(e,t){if(1&e&&(f.cc(0,"div",45),f.cc(1,"label",85),f.Uc(2,"Lote #"),f.bc(),f.cc(3,"div",86),f.Xb(4,"input",87),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}function Ve(e,t){if(1&e&&(f.cc(0,"div",45),f.cc(1,"label",85),f.Uc(2,"Fecha de fabricaci\xf3n"),f.bc(),f.cc(3,"div",86),f.Xb(4,"input",88),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}function Te(e,t){if(1&e&&(f.cc(0,"div",45),f.cc(1,"label",85),f.Uc(2,"Fecha de vencimiento"),f.bc(),f.cc(3,"div",86),f.Xb(4,"input",89),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}let Ae=(()=>{class e extends le.a{constructor(e,t,c,a,n,i,o,r,l,s,d,b,u,p,m,g,f){super(e,t,c,a,n,i,b),this.fb=e,this.msg=t,this.api=c,this.router=a,this.translate=n,this.aRouter=i,this.branchSer=o,this.perSer=r,this.currSer=l,this.reporstSer=s,this.itemsSer=d,this.spinner=b,this.documents=u,this.shopSer=p,this.taxSer=m,this.docsSer=g,this.wareHouseServ=f,this.title="Productos/Servicios",this.aDocuments=[],this.ware_house=[],this.providers=[],this.currency=[],this.items=[],this.itemsResult=[],this.lines=[],this.timeLimits=[],this.paymentMethods=[],this.payments=[],this.meansPayment=[],this.taxBill=[],this.taxSales=[],this.pointsOfSale=[],this.selectedRow=!1,this.isCounted=!0,this.perishable=!1,this.rowIndex=-1,this.pathfile="",this.itemName="",this.source={localdata:this.lines,datatype:"array",datafields:[{name:"quantity",type:"number"},{name:"price",type:"number"},{name:"discount",type:"number"},{name:"vat",type:"number"},{name:"total",type:"number"},{name:"product_class_name",type:"string"},{name:"reason",type:"string"},{name:"sku",type:"string"},{name:"image",type:"string"},{name:"qr_code",type:"string"},{name:"product_name",type:"string"},{name:"notes",type:"string"},{name:"description_sales",type:"string"},{name:"shopping_description",type:"string"},{name:"barcode",type:"string"},{name:"rate_name",type:"string"},{name:"internal_code",type:"string"},{name:"state",type:"number"},{name:"sale_price",type:"number"},{name:"purchase_cost",type:"number"},{name:"tax_sales",type:"number"},{name:"tax_bill",type:"number"},{name:"stock_min",type:"number"},{name:"stock_max",type:"number"},{name:"tax_sales_id",type:"number"},{name:"brand_id",type:"number"},{name:"category_id",type:"number"},{name:"sub_category_id",type:"number"},{name:"percentage_gain",type:"number"},{name:"tax_bill_id",type:"number"},{name:"item_type_id",type:"number"},{name:"class_id",type:"number"},{name:"average_cost",type:"number"},{name:"recipe",type:"boolean"},{name:"perishable",type:"boolean"},{name:"id",type:"number"}]},this.dataAdapter=new jqx.dataAdapter(this.source),this.columns=[{text:"Cant",dataField:"quantity",width:60,align:"center",cellsAlign:"right"},{text:"Detalle",dataField:"product_name",minWidth:200,align:"center",cellsAlign:"center",editable:!1},{text:"Precio",dataField:"sale_price",width:100,align:"center",cellsAlign:"right",cellsFormat:"c2"},{text:"IVA",editable:!1,dataField:"tax_sales",width:50,align:"center",cellsAlign:"right"},{text:"Descuento",dataField:"discount",width:120,align:"right",cellsAlign:"right",cellsFormat:"c2"},{text:"Motivo Dtco",dataField:"reason",width:150,align:"right",cellsAlign:"right"},{text:"Total",dataField:"total",width:100,align:"right",cellsAlign:"right",cellsFormat:"c2",editable:!1}],this.editSettings={saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!0,editOnDoubleClick:!0,editOnF2:!0},this.theme="bootstrap",this.source2={localdata:[],datafields:[{name:"CurrencyISO",type:"string"},{name:"Money",type:"string"},{name:"active",type:"number"},{name:"address",type:"string"},{name:"apply_notes",type:"boolean"},{name:"cash",type:"number"},{name:"code_ad",type:"string"},{name:"company_id",type:"number"},{name:"company_name",type:"string"},{name:"cufe",type:"string"},{name:"currency_id",type:"number"},{name:"customer_id",type:"number"},{name:"denomination",type:"string"},{name:"discount",type:"number"},{name:"dni",type:"string"},{name:"document_name",type:"string"},{name:"dv",type:"string"},{name:"electronic",type:"boolean"},{name:"email",type:"string"},{name:"expiration_date",type:"string"},{name:"id",type:"number"},{name:"image",type:"string"},{name:"invoice_date",type:"string"},{name:"invoice_name",type:"string"},{name:"invoice_nro",type:"string"},{name:"invoice_time",type:"string"},{name:"invoice_type_id",type:"number"},{name:"location",type:"string"},{name:"means_name",type:"string"},{name:"means_payment_id",type:"number"},{name:"merchant_registration",type:"string"},{name:"mobile",type:"string"},{name:"months",type:"number"},{name:"name_city",type:"string"},{name:"name_department",type:"string"},{name:"notes",type:"string"},{name:"path_report",type:"string"},{name:"payment_change",type:"string"},{name:"payment_method",type:"string"},{name:"payment_method_id",type:"number"},{name:"phone",type:"string"},{name:"plural_name",type:"string"},{name:"postal_code",type:"string"},{name:"prefix",type:"string"},{name:"prefix_doc",type:"string"},{name:"qrcode",type:"string"},{name:"singular_name",type:"string"},{name:"status",type:"number"},{name:"subtotal",type:"number"},{name:"tax_value",type:"number"},{name:"taxlevel",type:"string"},{name:"taxregime",type:"string"},{name:"term_value",type:"number"},{name:"time_limit",type:"string"},{name:"total",type:"number"},{name:"total_allowance",type:"number"},{name:"total_charges",type:"number"},{name:"typeorganization",type:"string"},{name:"username",type:"string"},{name:"voucher_name",type:"string"},{name:"zipkey",type:"string"}],datatype:"array"},this.dataAdapter2=new jqx.dataAdapter(this.source2),this.cellClass=(e,t,c)=>{const a=this.customGrid.getrowdata(e);return console.log(a),1==a.status?"fas-fa-ok-thumbs fa-cursor":2==a.status?"fas-fa-error fa-cursor":0==a.electronic?"fas-fa-ok fa-cursor":"fas-fa-warning fa-cursor"},this.columns2=[{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#mail_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>'<span><i class="fas fa-envelope-open-text fa-cursor fas-fa-mail"></span>'},{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#pdf_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>'<span><i class="fas fa-file-pdf fa-cursor fas-fa-pdf"></i></span>'},{columngroup:"Actions",text:"",sortable:!1,filterable:!1,editable:!1,align:"center",groupable:!1,draggable:!1,resizable:!1,datafield:"#send_#",columntype:"text",width:32,cellsrenderer:(e,t,c)=>{const a=this.customGrid.getrowdata(e);return 1==a.status?'<i class="fas fa-thumbs-up fas-fa-ok-thumbs fa-cursor"></i>':2==a.status?'<i class="fas fa-bug fas-fa-error fa-cursor"></i>':a.electronic?'<i class="fas fa-exclamation-circle fas-fa-warning fa-cursor">':'<i class="fas fa-check fas-fa-ok fa-cursor"></i>'}},{text:"Factura N\xba.",dataField:"invoice_nro",width:80,cellsalign:"right"},{text:"Pref",dataField:"prefix",width:50},{text:"Adquiriente",dataField:"company_name",minwidth:350},{text:"Documento",dataField:"dni",width:90,cellsalign:"right"},{text:"Total",dataField:"total",cellsalign:"right",width:120,cellsformat:"c2"},{text:"Moneda",dataField:"Money",width:90},{text:"Fecha",dataField:"invoice_date",width:90},{text:"Estado",dataField:"active",width:90,cellsrenderer:(e,t,c)=>{switch(c){case 1:return'<p class="active-green">Activa</p>';case 2:return'<p class="active-red">Anulada</p>';default:return'<p class="active-orange">Inactiva</p>'}}}]}get invalidName(){return this.customForm.get("invoice_nro").invalid&&this.customForm.get("invoice_nro").touched}get invalidBranch(){return this.customForm.get("branch_id").invalid&&this.customForm.get("branch_id").touched}ngOnInit(){const e=this;e.uid=e.aRouter.snapshot.paramMap.get("id"),e.showSpinner(),e.uid?e.customForm=this.fb.group({provider_id:new n.f({value:"0",disabled:!0}),warehouse_id:new n.f({value:"0",disabled:!0}),point_of_sale_id:new n.f({value:"0",disabled:!0}),payment_id:new n.f({value:"0",disabled:!0}),invoice_nro:["0"],discount:[0],vat:[0],total:[0],admission_date:[""],freight:[0],rfte:[0],notes:[""],pay_day:[""],tax_sale_id:[0],tax_bill_id:[0],product_id:[0],invoice_id:[0],gain:[0],batch:[""],fabrication_date:[""],expiration_date:[""],percentage_gain:["0"],vat_included:[!1],amount:[0],unit_cost:[0],unit_price:[0],total_cost:[0],sale_price:[0],quantity:[0],sub_total:[0]}):(e.customForm=this.fb.group({admission_date:[(new Date).toISOString().split("T")[0],[n.y.required]],discount:[0],freight:[0],rfte:[0],invoice_nro:["",[n.y.required,n.y.minLength(2)]],vat:[0],notes:[""],pay_day:[(new Date).toISOString().split("T")[0],[n.y.required]],payment_id:["",[n.y.required]],warehouse_id:["0",[n.y.required]],point_of_sale_id:["0",[n.y.required]],provider_id:["0",[n.y.required]],sub_total:[0,[n.y.required]],total:[0,[n.y.required]],tax_sale_id:[0],tax_bill_id:[0],product_id:[0],invoice_id:[0],gain:[0],batch:[""],fabrication_date:[""],expiration_date:[""],percentage_gain:["0"],vat_included:[!1],amount:[0],unit_cost:[0],unit_price:[0],total_cost:[0],sale_price:[0],quantity:[0]}),e.onRefresh());let t=e.customForm;e.wareHouseServ.getData({}).subscribe(t=>{e.ware_house=t}),e.docsSer.getPaymentMethods({}).subscribe(t=>{e.payments=t,t.length>0&&e.customForm.get("payment_id").setValue(t[0].id)}),e.branchSer.getPointsOfSale({}).subscribe(t=>{e.pointsOfSale=t,t.length>0&&e.customForm.get("point_of_sale_id").setValue(t[0].id)}),e.perSer.getProviders({}).subscribe(t=>{e.providers=t}),e.taxSer.getData({isVat:!0}).subscribe(c=>{e.taxBill=c,e.taxSales=c,c.length>0&&(t.get("tax_bill_id").setValue(c[0].id),t.get("tax_sale_id").setValue(c[0].id),e.taxBillSelect=c[0],e.taxSaleSelect=c[0])}),super.ngOnInit()}ngAfterViewInit(){}loadData(e=0){const t=this,c=t.customForm;t.editing=!0,t.shopSer.getData({uid:e}).subscribe(e=>{c.get("invoice_nro").setValue(e[0].invoice_nro),c.get("total").setValue(e[0].total),c.get("provider_id").setValue(e[0].provider_id),c.get("admission_date").setValue(e[0].admission_date),c.get("discount").setValue(e[0].discount),c.get("freight").setValue(e[0].freight),c.get("rfte").setValue(e[0].rfte),c.get("vat").setValue(e[0].vat),c.get("notes").setValue(e[0].notes),c.get("pay_day").setValue(e[0].pay_day),c.get("payment_id").setValue(e[0].payment_id),c.get("warehouse_id").setValue(e[0].warehouse_id),c.get("point_of_sale_id").setValue(e[0].point_of_sale_id),c.get("sub_total").setValue(e[0].sub_total),t.onRefresh()})}onChangeUnitPrice(){this.onPurchaseData()}onChangeSalePrice(){this.onSalesData()}onClickItem(e){const t=this,c=t.customForm;let a=e;if(2!==a.class_id){t.perishable=a.perishable;const e=parseFloat(a.purchase_cost.toString())/parseFloat(a.tax_bill_rate.toString());c.get("amount").setValue(1),c.get("unit_price").setValue(e),c.get("tax_bill_id").setValue(a.tax_bill_id),c.get("tax_sale_id").setValue(a.tax_sales_id);let n=parseFloat((e*a.percentage_gain/100).toString())+e;a.sale_price>n&&(n=a.sale_price),c.get("sale_price").setValue(n),t.itemSelect=a,t.itemName=a.product_name,t.onChageTaxBill(a.tax_bill_id),t.onChangeTaxSale(a.tax_sales_id)}else t.msg.toastMessage("","El item seleccionado no maneja inventarios.",4),t.onClearForm()}onClearFilter(){this.onClearForm(),this.focusElement.nativeElement.value="",this.itemsResult=this.items}onRefresh(){const e=this;e.showSpinner("Cargando listado de productos."),e.itemsSer.getDataSales({}).subscribe(t=>{e.items=t,e.hideSpinner(),e.itemsResult=e.items},()=>e.hideSpinner()),e.onClearForm()}onSearchProducts(e){const t=this;t.showSpinner(),t.onClearForm(),0===t.items.length&&e.length>0?t.itemsSer.getDataSales({}).subscribe(c=>{t.items=c,t.hideSpinner(),t.itemsResult=t.items.filter(t=>t.product_name.toLowerCase().indexOf(e.toLowerCase())>=0)}):e.length>0?(t.itemsResult=t.items.filter(t=>t.product_name.toLowerCase().indexOf(e.toLowerCase())>=0),t.hideSpinner()):(t.itemsResult=t.items,t.hideSpinner())}onClearForm(){const e=this,t=e.customForm;e.itemSelect=null,e.itemName="",t.get("amount").setValue(0),t.get("unit_cost").setValue(0),t.get("unit_price").setValue(0),t.get("total_cost").setValue(0),t.get("sale_price").setValue(0),t.get("gain").setValue(0),t.get("expiration_date").setValue(""),t.get("fabrication_date").setValue(""),e.taxBill.length>0&&(t.get("tax_bill_id").setValue(e.taxBill[0].id),t.get("tax_sale_id").setValue(e.taxSales[0].id),e.onChageTaxBill(e.taxBill[0].id),e.onChangeTaxSale(e.taxSales[0].id))}onChageTaxBill(e){this.taxBillSelect=this.taxBill.find(t=>t.id===e),this.onPurchaseData()}onChageAmount(e){this.onPurchaseData()}onChageIncluded(e){this.onPurchaseData()}onChangeTaxSale(e){this.taxSaleSelect=this.taxSales.find(t=>t.id===e),this.onSalesData()}onSalesData(){const e=this.customForm,t=parseFloat(e.get("unit_price").value),c=parseFloat(e.get("sale_price").value),a=parseFloat(this.taxBillSelect.decimal_rate.toString()),n=parseFloat(this.taxSaleSelect.decimal_rate.toString());let i=0,o=0,r=0,l=0;o=1==e.get("vat_included").value?t/a:t,i=c/n,r=i-o,l=r/i*100,e.get("gain").setValue(r),e.get("percentage_gain").setValue(`${l.toFixed(2)} %`)}onPurchaseData(){const e=this.customForm,t=parseFloat(e.get("amount").value),c=parseFloat(e.get("unit_price").value),a=parseFloat(this.taxBillSelect.decimal_rate.toString()),n=a>0?c*a:c,i=n*t;1==e.get("vat_included").value?(e.get("unit_cost").setValue(c),e.get("total_cost").setValue(c*t)):(e.get("unit_cost").setValue(n),e.get("total_cost").setValue(i)),t>0&&this.onSalesData()}onSave(e={}){const t=this;let c=t.customForm;const a=t.uid,n=t.itemSelect;let i=c.getRawValue();return n?parseFloat(i.amount)<=0||parseFloat(i.sale_price)<=0||parseFloat(i.unit_cost)<=0?(t.msg.toastMessage("","Hay un error en las cantidades.",4),!1):c.invalid?(t.msg.toastMessage("","Hay campos sin llenar.",4),!1):void(a?(i.invoice_id=a,i.product_id=n.id,t.onSaveDetail(i)):(i.product_id=n.id,t.showSpinner("Guardando factura"),t.api.post("/shopping/create",i).subscribe(e=>{if(t.hideSpinner(),e.success){const c=e.records;t.uid=c.id,t.editing=!0,i.invoice_id=c.id,t.onSaveDetail(i)}else t.msg.toastMessage("",e.message,4)},e=>{t.hideSpinner()}))):(t.msg.toastMessage("","No ha seleccionado un producto.",4),!1)}onSaveDetail(e){const t=this;t.showSpinner("Guardando detalle"),t.itemSelect.perishable||(e.batch=null,e.fabrication_date=null,e.expiration_date=null);let c={records:JSON.stringify(e)};t.api.post("/shopping/create/detail",c).subscribe(e=>{e.success?(t.msg.toastMessage("","Se ha guardado correctamente el producto en el inventario."),t.onClearForm()):t.msg.toastMessage("",e.message,4),t.hideSpinner()},e=>{t.hideSpinner()})}getWidth(){return"100%"}onClose(){this.goRoute("shopping/invoices")}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(n.e),f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a),f.Wb(F.a),f.Wb(O.b),f.Wb(O.a),f.Wb(se.a),f.Wb(w.e),f.Wb(p.c),f.Wb(ee.a),f.Wb(te.a),f.Wb(O.f),f.Wb(ee.a),f.Wb(de.a))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-shopping"]],viewQuery:function(e,t){if(1&e&&(f.Zc(be,1),f.Zc(ue,1),f.Zc(pe,1),f.Zc(me,1),f.Zc(ge,1),f.Zc(fe,1),f.Zc(he,1),f.Zc(ve,1)),2&e){let e;f.Hc(e=f.nc())&&(t.customGrid=e.first),f.Hc(e=f.nc())&&(t.myDataTable=e.first),f.Hc(e=f.nc())&&(t.searchField=e.first),f.Hc(e=f.nc())&&(t.focusElement=e.first),f.Hc(e=f.nc())&&(t.amountElement=e.first),f.Hc(e=f.nc())&&(t.cashele=e.first),f.Hc(e=f.nc())&&(t.searchbar=e.first),f.Hc(e=f.nc())&&(t.myTabs=e.first)}},features:[f.Fb],decls:154,vars:39,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"container-fluid","padding-top-bottom"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[4,"ngIf"],["type","text","nbinput","","fullWidth","","formControlName","invoice_nro","required","","autofocus","","placement","bottom","ngbTooltip","N\xba. de la factura",1,"form-control",3,"readOnly"],["focusElement",""],[1,"col-md-8"],["fullWidth","","formControlName","provider_id","required","","placement","bottom","ngbTooltip","Proveedor"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["fullWidth","","formControlName","point_of_sale_id","required","","placement","bottom","ngbTooltip","Punto de venta"],["fullWidth","","formControlName","warehouse_id","required","","placement","bottom","ngbTooltip","Bodega"],["class","row",4,"ngIf"],["currencyMask","","formControlName","freight","nbinput","","fullWidth","",1,"form-control",3,"readOnly"],["currencyMask","","formControlName","rfte","nbinput","","fullWidth","",1,"form-control",3,"readOnly"],["currencyMask","","formControlName","total","nbinput","","fullWidth","","required","","ngbTooltip","Total",1,"form-control",3,"readOnly"],[1,"col-md-7"],[1,"col"],[1,"page-search-input","form-group"],[1,"input-group"],["type","search","id","searchbar","placeholder","B\xfasqueda","autofocus","",1,"form-control","rounded-right","form-control-lg","shadow","pl-2",3,"keyup.enter"],["searchField",""],[1,"input-group-append"],["type","button",1,"btn","btn-primary","search-btn","rounded","space-right",3,"click"],[1,"d-none","d-sm-block"],[1,"fas","fa-search"],["type","button","ngbTooltip","Crear nuevo producto",1,"btn","btn-success","space-right","radius-button"],[1,"fas","fa-plus","fas-fa-22"],["type","button","ngbTooltip","Refrescar",1,"btn","btn-info","space-right","radius-button",3,"click"],[1,"fas","fa-sync","fas-fa-22"],["type","button","ngbTooltip","Limpiar",1,"btn","btn-danger","space-right","radius-button",3,"click"],[1,"fas","fa-broom","fas-fa-22"],["type","button","ngbTooltip","Cerrar",1,"btn","btn-danger","radius-button",3,"click"],[1,"fas","fa-times","fas-fa-22"],[1,"col","product-name-header"],[1,"col","card-col"],[1,"card-columns"],["class","card card-sales",3,"click",4,"ngFor","ngForOf"],[1,"col-md-5","card-col"],[1,"form-group","row"],["for","inputQuantity",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","number","id","inputQuantity","placeholder","Cantidad","formControlName","amount",1,"form-control",3,"change"],["amountElement",""],["for","selectBill",1,"col-sm-3","col-form-label"],["id","selectBill","formControlName","tax_bill_id",3,"change"],[1,"form-check"],["type","checkbox","id","ckInclude","formControlName","vat_included",1,"form-check-input",3,"change"],["for","ckInclude",1,"form-check-label"],["for","inputAmount1",1,"col-sm-3","col-form-label"],["formControlName","unit_price","currencyMask","","type","text","id","inputAmount1","ngbTooltip","Costo unitario sin impuesto","placeholder","Costo unitario",1,"form-control",3,"keyup"],[1,"col-sm-6"],["formControlName","unit_cost","currencyMask","","type","text","id","inputAmount","ngbTooltip","Costo unitario con impuesto","placeholder","Costo unitario","readonly","",1,"form-control","radius-button","total"],["formControlName","total_cost","type","text","currencyMask","","placeholder","Total","readonly","",1,"form-control","radius-button","total"],["for","selectSale",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","selectSale","formControlName","tax_sale_id",3,"change"],["for","salePrice",1,"col-sm-4","col-form-label"],["formControlName","sale_price","currencyMask","","type","text","id","salePrice","placement","bottom","ngbTooltip","Precio de venta con impuesto incluido","placeholder","Precio de venta",1,"form-control",3,"keyup"],[1,"col-sm-4","col-form-label"],["readonly","","formControlName","gain","currencyMask","","type","text","placement","bottom","ngbTooltip","Ganancia posible","placeholder","Ganancia posible",1,"form-control"],["readonly","","formControlName","percentage_gain","type","text","placement","bottom","ngbTooltip","Procentaje Ganancia posible",1,"form-control"],["class","form-group row",4,"ngIf"],["type","button",1,"btn","radius-button","btn-primary","space-right","radius-button","btn-block",3,"disabled","click"],[1,"fas","fa-save","fas-fa-22"],[2,"color","white"],[1,"asterisk"],[3,"value"],["fullWidth","","formControlName","payment_id","required",""],["type","date","formControlName","admission_date","nbinput","","fullWidth","","required","",1,"form-control",3,"readOnly"],["type","date","formControlName","pay_day","nbinput","","fullWidth","","required","",1,"form-control",3,"readOnly"],["currencyMask","","formControlName","sub_total","nbinput","","fullWidth","","required","",1,"form-control",3,"readOnly"],["currencyMask","","formControlName","discount","nbinput","","fullWidth","",1,"form-control",3,"readOnly"],["currencyMask","","formControlName","vat","nbinput","","fullWidth","",1,"form-control",3,"readOnly"],["formControlName","notes","nbinput","","fullWidth","",1,"form-control",3,"readOnly"],[1,"card","card-sales",3,"click"],["fallimg","product",1,"img-product","card-img-top",3,"src"],[1,"price"],[1,"product-name"],[1,"col-sm-5","col-form-label"],[1,"col-sm-7"],["formControlName","batch","type","text",1,"form-control",3,"readonly"],["formControlName","fabrication_date","type","date",1,"form-control",3,"readonly"],["formControlName","expiration_date","type","date",1,"form-control",3,"readonly"]],template:function(e,t){if(1&e){const e=f.dc();f.cc(0,"div",0),f.cc(1,"div",1),f.Uc(2),f.pc(3,"uppercase"),f.pc(4,"translate"),f.bc(),f.cc(5,"div",2),f.cc(6,"form",3),f.cc(7,"div",4),f.cc(8,"div",5),f.cc(9,"div",6),f.cc(10,"div",7),f.Sc(11,_e,5,3,"label",8),f.Xb(12,"input",9,10),f.bc(),f.bc(),f.cc(14,"div",11),f.cc(15,"div",7),f.Sc(16,ye,5,3,"label",8),f.cc(17,"ng-select",12),f.cc(18,"ng-option",13),f.Uc(19,"Seleccionar proveedor"),f.bc(),f.Sc(20,xe,2,4,"ng-option",14),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(21,"div",5),f.cc(22,"div",15),f.cc(23,"div",7),f.Sc(24,Ce,5,3,"label",8),f.cc(25,"ng-select",16),f.cc(26,"ng-option",13),f.Uc(27,"Seleccionar punto de venta"),f.bc(),f.Sc(28,Se,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(29,"div",15),f.cc(30,"div",7),f.Sc(31,Ie,2,0,"label",8),f.cc(32,"ng-select",17),f.cc(33,"ng-option",13),f.Uc(34,"Seleccionar una bodega"),f.bc(),f.Sc(35,we,2,2,"ng-option",14),f.bc(),f.bc(),f.bc(),f.bc(),f.Sc(36,Fe,26,12,"div",18),f.Sc(37,Oe,19,6,"div",18),f.cc(38,"div",5),f.cc(39,"div",6),f.cc(40,"div",7),f.Sc(41,ke,2,0,"label",8),f.Xb(42,"input",19),f.bc(),f.bc(),f.cc(43,"div",6),f.cc(44,"div",7),f.Sc(45,Pe,2,0,"label",8),f.Xb(46,"input",20),f.bc(),f.bc(),f.cc(47,"div",6),f.cc(48,"div",7),f.Sc(49,Me,5,3,"label",8),f.Xb(50,"input",21),f.bc(),f.bc(),f.bc(),f.Sc(51,We,6,1,"div",18),f.cc(52,"div",5),f.cc(53,"div",22),f.cc(54,"div",5),f.cc(55,"div",23),f.cc(56,"div",24),f.cc(57,"fieldset"),f.cc(58,"div",25),f.cc(59,"input",26,27),f.mc("keyup.enter",function(){f.Lc(e);const c=f.Ic(60);return t.onSearchProducts(c.value)}),f.bc(),f.cc(61,"div",28),f.cc(62,"button",29),f.mc("click",function(){f.Lc(e);const c=f.Ic(60);return t.onSearchProducts(c.value)}),f.Xb(63,"span",30),f.Xb(64,"i",31),f.bc(),f.cc(65,"button",32),f.Xb(66,"i",33),f.bc(),f.cc(67,"button",34),f.mc("click",function(){return t.onRefresh()}),f.Xb(68,"i",35),f.bc(),f.cc(69,"button",36),f.mc("click",function(){return t.onClearFilter()}),f.Xb(70,"i",37),f.bc(),f.cc(71,"button",38),f.mc("click",function(){return t.onClose()}),f.Xb(72,"i",39),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(73,"div",5),f.cc(74,"div",40),f.cc(75,"label"),f.cc(76,"span"),f.Uc(77),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(78,"div",5),f.cc(79,"div",41),f.cc(80,"div",42),f.Sc(81,Ne,8,5,"div",43),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(82,"div",44),f.cc(83,"div",5),f.cc(84,"div",23),f.cc(85,"div",0),f.cc(86,"div",1),f.Uc(87," Datos de compra "),f.bc(),f.cc(88,"div",2),f.cc(89,"div",45),f.cc(90,"label",46),f.Uc(91,"Cantidad"),f.bc(),f.cc(92,"div",47),f.cc(93,"input",48,49),f.mc("change",function(e){return t.onChageAmount(e)}),f.bc(),f.bc(),f.bc(),f.cc(95,"div",45),f.cc(96,"label",50),f.Uc(97,"Impuesto"),f.bc(),f.cc(98,"div",47),f.cc(99,"ng-select",51),f.mc("change",function(e){return t.onChageTaxBill(e)}),f.Sc(100,qe,2,3,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(101,"div",45),f.cc(102,"div",52),f.cc(103,"input",53),f.mc("change",function(e){return t.onChageIncluded(e)}),f.bc(),f.cc(104,"label",54),f.Uc(105," Incluido "),f.bc(),f.bc(),f.bc(),f.cc(106,"div",45),f.cc(107,"label",55),f.Uc(108,"Costo U."),f.bc(),f.cc(109,"div",47),f.cc(110,"input",56),f.mc("keyup",function(){return t.onChangeUnitPrice()}),f.bc(),f.bc(),f.bc(),f.cc(111,"div",45),f.cc(112,"div",57),f.Xb(113,"input",58),f.bc(),f.cc(114,"div",57),f.Xb(115,"input",59),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(116,"div",5),f.cc(117,"div",23),f.cc(118,"div",0),f.cc(119,"div"),f.Uc(120," Datos de venta "),f.bc(),f.cc(121,"div"),f.cc(122,"div",45),f.cc(123,"label",60),f.Uc(124,"Impuesto"),f.bc(),f.cc(125,"div",61),f.cc(126,"ng-select",62),f.mc("change",function(e){return t.onChangeTaxSale(e)}),f.Sc(127,Xe,2,3,"ng-option",14),f.bc(),f.bc(),f.bc(),f.cc(128,"div",45),f.cc(129,"label",63),f.Uc(130,"Precio de venta"),f.bc(),f.cc(131,"div",61),f.cc(132,"input",64),f.mc("keyup",function(){return t.onChangeSalePrice()}),f.bc(),f.bc(),f.bc(),f.cc(133,"div",45),f.cc(134,"label",65),f.Uc(135,"Ganancia posible"),f.bc(),f.cc(136,"div",61),f.Xb(137,"input",66),f.bc(),f.bc(),f.cc(138,"div",45),f.cc(139,"label",65),f.Uc(140,"% Ganancia"),f.bc(),f.cc(141,"div",61),f.Xb(142,"input",67),f.bc(),f.bc(),f.Sc(143,De,5,1,"div",68),f.Sc(144,Ve,5,1,"div",68),f.Sc(145,Te,5,1,"div",68),f.cc(146,"div",7),f.cc(147,"button",69),f.mc("click",function(){return t.onSave()}),f.Xb(148,"i",70),f.Uc(149),f.pc(150,"translate"),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(151,"ngx-spinner"),f.cc(152,"p",71),f.Uc(153),f.bc(),f.bc()}2&e&&(f.Ib(2),f.Wc(" ",f.qc(3,33,f.qc(4,35,"general.createEdit"))," DETALLE DE LA FACTURA "),f.Ib(4),f.vc("formGroup",t.customForm),f.Ib(5),f.vc("ngIf",!t.editing),f.Ib(1),f.Ob("status-danger",t.invalidName)("is-invalid",t.invalidName),f.vc("readOnly",t.editing),f.Ib(4),f.vc("ngIf",!t.editing),f.Ib(4),f.vc("ngForOf",t.providers),f.Ib(4),f.vc("ngIf",!t.editing),f.Ib(4),f.vc("ngForOf",t.pointsOfSale),f.Ib(3),f.vc("ngIf",!t.editing),f.Ib(4),f.vc("ngForOf",t.ware_house),f.Ib(1),f.vc("ngIf",!t.editing),f.Ib(1),f.vc("ngIf",!t.editing),f.Ib(4),f.vc("ngIf",!t.editing),f.Ib(1),f.vc("readOnly",t.editing),f.Ib(3),f.vc("ngIf",!t.editing),f.Ib(1),f.vc("readOnly",t.editing),f.Ib(3),f.vc("ngIf",!t.editing),f.Ib(1),f.vc("readOnly",t.editing),f.Ib(1),f.vc("ngIf",!t.editing),f.Ib(26),f.Wc(" ",t.itemName," "),f.Ib(4),f.vc("ngForOf",t.itemsResult),f.Ib(19),f.vc("ngForOf",t.taxBill),f.Ib(27),f.vc("ngForOf",t.taxSales),f.Ib(16),f.vc("ngIf",t.perishable),f.Ib(1),f.vc("ngIf",t.perishable),f.Ib(1),f.vc("ngIf",t.perishable),f.Ib(2),f.vc("disabled",!t.customForm.valid),f.Ib(2),f.Wc(" ",f.qc(150,37,"buttons.save")," "),f.Ib(4),f.Wc(" ",t.maskSpinner," "))},directives:[n.z,n.q,n.h,a.n,n.c,n.p,n.g,n.w,d.N,s.a,s.d,a.m,b.a,n.u,n.a,p.a],pipes:[a.v,m.c,a.d],styles:[".create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}"]}),e})();const Ee=["customGrid"],Be=["myDataTable"],Re=["searchField"],Ge=["focusElement"],Le=["amountElement"],He=["cashele"],ze=["searchbar"],$e=["myTabs"];function Ze(e,t){if(1&e){const e=f.dc();f.cc(0,"div",59),f.mc("click",function(){f.Lc(e);const c=t.$implicit;return f.oc().onClickItem(c)}),f.Xb(1,"img",60),f.cc(2,"div",2),f.cc(3,"h6",61),f.Uc(4),f.pc(5,"currency"),f.bc(),f.cc(6,"p",62),f.Uc(7),f.bc(),f.bc(),f.bc()}if(2&e){const e=t.$implicit;f.Ib(1),f.vc("src",e.image,f.Oc),f.Ib(3),f.Wc(" ",f.qc(5,3,e.sale_price),""),f.Ib(3),f.Vc(e.product_name)}}function Qe(e,t){if(1&e&&(f.cc(0,"ng-option",63),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.name_taxe," - ",e.rate_value," % ")}}function je(e,t){if(1&e&&(f.cc(0,"ng-option",63),f.Uc(1),f.bc()),2&e){const e=t.$implicit;f.vc("value",e.id),f.Ib(1),f.Xc(" ",e.name_taxe," - ",e.rate_value," % ")}}function Ke(e,t){if(1&e&&(f.cc(0,"div",31),f.cc(1,"label",64),f.Uc(2,"Lote #"),f.bc(),f.cc(3,"div",65),f.Xb(4,"input",66),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}function Je(e,t){if(1&e&&(f.cc(0,"div",31),f.cc(1,"label",64),f.Uc(2,"Fecha de fabricaci\xf3n"),f.bc(),f.cc(3,"div",65),f.Xb(4,"input",67),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}function Ye(e,t){if(1&e&&(f.cc(0,"div",31),f.cc(1,"label",64),f.Uc(2,"Fecha de vencimiento"),f.bc(),f.cc(3,"div",65),f.Xb(4,"input",68),f.bc(),f.bc()),2&e){const e=f.oc();f.Ib(4),f.vc("readonly",!e.perishable)}}const et=[{path:"",component:h,children:[{path:"invoices",component:J},{path:"invoices/create",component:Ae},{path:"invoices/edit/:id",component:re},{path:"invoices/create/detail/:id",component:Ae},{path:"invoices/detail/edit/:id",component:(()=>{class e extends le.a{constructor(e,t,c,a,n,i,o,r,l,s,d,b,u){super(e,t,c,a,n,i,s),this.fb=e,this.msg=t,this.api=c,this.router=a,this.translate=n,this.aRouter=i,this.currSer=o,this.reporstSer=r,this.itemsSer=l,this.spinner=s,this.documents=d,this.shopSer=b,this.taxSer=u,this.title="Productos/Servicios",this.items=[],this.itemsResult=[],this.lines=[],this.taxBill=[],this.taxSales=[],this.perishable=!1,this.itemName="",this.oldItem=[],this.customForm=this.fb.group({amount:[""],batch:[""],expiration_date:[""],fabrication_date:[""],product_name:[""],sale_price:[""],tax_bill_id:[""],tax_sale_id:[""],total_cost:[""],unit_cost:[""],unit_price:[""],gain:[""],percentage_gain:[""],vat_included:[""]})}ngOnInit(){const e=this;e.showSpinner(),e.taxSer.getData({isVat:!0}).subscribe(t=>{e.taxBill=t,e.taxSales=t,super.ngOnInit()})}ngAfterViewInit(){}loadData(e=0){const t=this;t.editing=!0,t.shopSer.getDetailID(e).subscribe(e=>{t.oldItem=e,t.onClearForm(),t.onRefresh()})}onChangeUnitPrice(){this.onPurchaseData()}onChangeSalePrice(){this.onSalesData()}onClickItem(e){const t=this,c=t.customForm;let a=e;const n=t.translate;2!==a.class_id?z.a.fire({title:"Cambiar item",text:"Est\xe1 a punto de cambiar el ITEM, \xbfDesea continuar.?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n.instant("buttons.yes"),cancelButtonText:n.instant("buttons.not")}).then(e=>{if(e.value){t.perishable=a.perishable;const e=parseFloat(a.purchase_cost.toString())/parseFloat(a.tax_bill_rate.toString());c.get("amount").setValue(1),c.get("unit_price").setValue(e),c.get("tax_bill_id").setValue(a.tax_bill_id),c.get("tax_sale_id").setValue(a.tax_sales_id);let n=parseFloat((e*a.percentage_gain/100).toString())+e;a.sale_price>n&&(n=a.sale_price),c.get("sale_price").setValue(n),t.itemSelect=a,t.itemName=a.product_name,t.onChageTaxBill(a.tax_bill_id),t.onChangeTaxSale(a.tax_sales_id)}}):(t.msg.toastMessage("","El item seleccionado no maneja inventarios.",4),t.onClearForm())}onClearFilter(){this.onClearForm(),this.searchField.nativeElement.value="",this.itemsResult=this.items}onRefresh(){const e=this;e.showSpinner("Cargando listado de productos."),e.itemsSer.getDataSales({}).subscribe(t=>{e.items=t,e.hideSpinner(),e.itemsResult=e.items},()=>e.hideSpinner())}onSearchProducts(e){const t=this;t.showSpinner(),t.onClearForm(),0===t.items.length&&e.length>0?t.itemsSer.getDataSales({}).subscribe(c=>{t.items=c,t.hideSpinner(),t.itemsResult=t.items.filter(t=>t.product_name.toLowerCase().indexOf(e.toLowerCase())>=0)}):e.length>0?(t.itemsResult=t.items.filter(t=>t.product_name.toLowerCase().indexOf(e.toLowerCase())>=0),t.hideSpinner()):(t.itemsResult=t.items,t.hideSpinner())}onClearForm(){const e=this,t=e.customForm,c=e.oldItem;e.itemSelect=null,e.itemName="",e.taxBillSelect=e.taxBill.find(e=>e.id===c[0].tax_bill_id);let a=c[0].unit_cost;c[0].vat_included||(a=parseFloat(c[0].unit_cost.toString())/parseFloat(e.taxBillSelect.decimal_rate.toString())),t.setValue({amount:c[0].amount,batch:c[0].batch,expiration_date:c[0].expiration_date,fabrication_date:c[0].fabrication_date,product_name:c[0].product_name,sale_price:c[0].sale_price,tax_bill_id:c[0].tax_bill_id,tax_sale_id:c[0].tax_sale_id,total_cost:c[0].total_cost,unit_cost:c[0].unit_cost,unit_price:a,gain:0,percentage_gain:0,vat_included:c[0].vat_included}),e.perishable=c[0].perishable,e.onChageTaxBill(c[0].tax_bill_id),e.onChangeTaxSale(c[0].tax_sale_id),e.onPurchaseData()}onChageTaxBill(e){this.taxBillSelect=this.taxBill.find(t=>t.id===e),this.onPurchaseData()}onChageAmount(e){this.onPurchaseData()}onChageIncluded(e){this.onPurchaseData()}onChangeTaxSale(e){this.taxSaleSelect=this.taxSales.find(t=>t.id===e),this.onSalesData()}onSalesData(){const e=this;if(e.taxSaleSelect){const t=e.customForm,c=parseFloat(t.get("unit_price").value),a=parseFloat(t.get("sale_price").value),n=parseFloat(e.taxBillSelect.decimal_rate.toString()),i=parseFloat(e.taxSaleSelect.decimal_rate.toString());let o=0,r=0,l=0,s=0;r=1==t.get("vat_included").value?c/n:c,o=a/i,l=o-r,s=l/o*100,t.get("gain").setValue(l),t.get("percentage_gain").setValue(`${s.toFixed(2)} %`)}}onPurchaseData(){const e=this;if(e.taxBillSelect){const t=e.customForm,c=parseFloat(t.get("amount").value),a=parseFloat(t.get("unit_price").value),n=parseFloat(e.taxBillSelect.decimal_rate.toString()),i=n>0?a*n:a,o=i*c;1==t.get("vat_included").value?(t.get("unit_cost").setValue(a),t.get("total_cost").setValue(a*c)):(t.get("unit_cost").setValue(i),t.get("total_cost").setValue(o)),c>0&&e.onSalesData()}}onSave(e={}){const t=this;let c=t.customForm;const a=t.uid;let n=c.getRawValue();return parseFloat(n.amount)<=0||parseFloat(n.sale_price)<=0||parseFloat(n.unit_cost)<=0?(t.msg.toastMessage("","Hay un error en las cantidades.",4),!1):c.invalid?(t.msg.toastMessage("","Hay campos sin llenar.",4),!1):void(a?t.onSaveDetail(n):t.msg.toastMessage("Error","Error en la aplicaci\xf3n"))}onSaveDetail(e){const t=this;t.showSpinner("Guardando cambios"),t.itemSelect?(t.itemSelect.perishable||(e.batch=null,e.fabrication_date=null,e.expiration_date=null),e.product_id=t.itemSelect.id):t.oldItem[0].perishable||(e.batch=null,e.fabrication_date=null,e.expiration_date=null);let c={records:JSON.stringify(e)};t.api.put(`/shopping/update/detail/${t.uid}`,c).subscribe(e=>{e.success?(t.msg.toastMessage("","Los cambios se han guardado correctamente."),t.onClose()):t.msg.toastMessage("",e.message,4),t.hideSpinner()},e=>{t.hideSpinner()})}onClose(){this.goRoute("shopping/invoices")}}return e.\u0275fac=function(t){return new(t||e)(f.Wb(n.e),f.Wb(_.b),f.Wb(_.a),f.Wb(g.c),f.Wb(m.d),f.Wb(g.a),f.Wb(O.a),f.Wb(se.a),f.Wb(w.e),f.Wb(p.c),f.Wb(ee.a),f.Wb(te.a),f.Wb(O.f))},e.\u0275cmp=f.Qb({type:e,selectors:[["app-detail-edit"]],viewQuery:function(e,t){if(1&e&&(f.Zc(Ee,1),f.Zc(Be,1),f.Zc(Re,1),f.Zc(Ge,1),f.Zc(Le,1),f.Zc(He,1),f.Zc(ze,1),f.Zc($e,1)),2&e){let e;f.Hc(e=f.nc())&&(t.customGrid=e.first),f.Hc(e=f.nc())&&(t.myDataTable=e.first),f.Hc(e=f.nc())&&(t.searchField=e.first),f.Hc(e=f.nc())&&(t.focusElement=e.first),f.Hc(e=f.nc())&&(t.amountElement=e.first),f.Hc(e=f.nc())&&(t.cashele=e.first),f.Hc(e=f.nc())&&(t.searchbar=e.first),f.Hc(e=f.nc())&&(t.myTabs=e.first)}},features:[f.Fb],decls:114,vars:14,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"container-fluid","padding-top-bottom"],[1,"row"],[1,"col"],[1,"form-group"],["type","text","nbinput","","fullWidth","","formControlName","product_name",1,"form-control",3,"readOnly"],[1,"col-md-7"],[1,"page-search-input","form-group"],[1,"input-group"],["type","search","id","searchbar","placeholder","B\xfasqueda","autofocus","",1,"form-control","rounded-right","form-control-lg","shadow","pl-2",3,"keyup.enter"],["searchField",""],[1,"input-group-append"],["type","button",1,"btn","btn-primary","search-btn","rounded","space-right",3,"click"],[1,"d-none","d-sm-block"],[1,"fas","fa-search"],["type","button","ngbTooltip","Crear nuevo producto",1,"btn","btn-success","space-right","radius-button"],[1,"fas","fa-plus","fas-fa-22"],["type","button","ngbTooltip","Refrescar",1,"btn","btn-info","space-right","radius-button",3,"click"],[1,"fas","fa-sync","fas-fa-22"],["type","button","ngbTooltip","Limpiar",1,"btn","btn-danger","space-right","radius-button",3,"click"],[1,"fas","fa-broom","fas-fa-22"],["type","button","ngbTooltip","Cerrar",1,"btn","btn-danger","radius-button",3,"click"],[1,"fas","fa-times","fas-fa-22"],[1,"col","product-name-header"],[1,"col","card-col"],[1,"card-columns"],["class","card card-sales",3,"click",4,"ngFor","ngForOf"],[1,"col-md-5","card-col"],[1,"form-group","row"],["for","inputQuantity",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","number","id","inputQuantity","placeholder","Cantidad","formControlName","amount",1,"form-control",3,"change"],["amountElement",""],["for","selectBill",1,"col-sm-3","col-form-label"],["id","selectBill","formControlName","tax_bill_id",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox","id","ckInclude","formControlName","vat_included",1,"form-check-input",3,"change"],["for","ckInclude",1,"form-check-label"],["for","inputAmount1",1,"col-sm-3","col-form-label"],["formControlName","unit_price","currencyMask","","type","text","id","inputAmount1","ngbTooltip","Costo unitario sin impuesto","placeholder","Costo unitario",1,"form-control",3,"keyup"],[1,"col-sm-6"],["formControlName","unit_cost","currencyMask","","type","text","id","inputAmount","ngbTooltip","Costo unitario con impuesto","placeholder","Costo unitario","readonly","",1,"form-control","radius-button","total"],["formControlName","total_cost","type","text","currencyMask","","placeholder","Total","readonly","",1,"form-control","radius-button","total"],["for","selectSale",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["id","selectSale","formControlName","tax_sale_id",3,"change"],["for","salePrice",1,"col-sm-4","col-form-label"],["formControlName","sale_price","currencyMask","","type","text","id","salePrice","placement","bottom","ngbTooltip","Precio de venta con impuesto incluido","placeholder","Precio de venta",1,"form-control",3,"keyup"],[1,"col-sm-4","col-form-label"],["readonly","","formControlName","gain","currencyMask","","type","text","placement","bottom","ngbTooltip","Ganancia posible","placeholder","Ganancia posible",1,"form-control"],["readonly","","formControlName","percentage_gain","type","text","placement","bottom","ngbTooltip","Procentaje Ganancia posible",1,"form-control"],["class","form-group row",4,"ngIf"],["type","button",1,"btn","radius-button","btn-primary","space-right","radius-button","btn-block",3,"disabled","click"],[1,"fas","fa-save","fas-fa-22"],[2,"color","white"],[1,"card","card-sales",3,"click"],["fallimg","product",1,"img-product","card-img-top",3,"src"],[1,"price"],[1,"product-name"],[3,"value"],[1,"col-sm-5","col-form-label"],[1,"col-sm-7"],["formControlName","batch","type","text",1,"form-control",3,"readonly"],["formControlName","fabrication_date","type","date",1,"form-control",3,"readonly"],["formControlName","expiration_date","type","date",1,"form-control",3,"readonly"]],template:function(e,t){if(1&e){const e=f.dc();f.cc(0,"div",0),f.cc(1,"div",1),f.Uc(2," EDITAR DETALLE DEL ITEM "),f.bc(),f.cc(3,"div",2),f.cc(4,"form",3),f.cc(5,"div",4),f.cc(6,"div",5),f.cc(7,"div",6),f.cc(8,"div",7),f.cc(9,"label"),f.Uc(10,"Nombre del producto."),f.bc(),f.Xb(11,"input",8),f.bc(),f.bc(),f.bc(),f.cc(12,"div",5),f.cc(13,"div",9),f.cc(14,"div",5),f.cc(15,"div",6),f.cc(16,"div",10),f.cc(17,"fieldset"),f.cc(18,"div",11),f.cc(19,"input",12,13),f.mc("keyup.enter",function(){f.Lc(e);const c=f.Ic(20);return t.onSearchProducts(c.value)}),f.bc(),f.cc(21,"div",14),f.cc(22,"button",15),f.mc("click",function(){f.Lc(e);const c=f.Ic(20);return t.onSearchProducts(c.value)}),f.Xb(23,"span",16),f.Xb(24,"i",17),f.bc(),f.cc(25,"button",18),f.Xb(26,"i",19),f.bc(),f.cc(27,"button",20),f.mc("click",function(){return t.onRefresh()}),f.Xb(28,"i",21),f.bc(),f.cc(29,"button",22),f.mc("click",function(){return t.onClearFilter()}),f.Xb(30,"i",23),f.bc(),f.cc(31,"button",24),f.mc("click",function(){return t.onClose()}),f.Xb(32,"i",25),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(33,"div",5),f.cc(34,"div",26),f.cc(35,"label"),f.cc(36,"span"),f.Uc(37),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(38,"div",5),f.cc(39,"div",27),f.cc(40,"div",28),f.Sc(41,Ze,8,5,"div",29),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(42,"div",30),f.cc(43,"div",5),f.cc(44,"div",6),f.cc(45,"div",0),f.cc(46,"div",1),f.Uc(47," Datos de compra "),f.bc(),f.cc(48,"div"),f.cc(49,"div",31),f.cc(50,"label",32),f.Uc(51,"Cantidad"),f.bc(),f.cc(52,"div",33),f.cc(53,"input",34,35),f.mc("change",function(e){return t.onChageAmount(e)}),f.bc(),f.bc(),f.bc(),f.cc(55,"div",31),f.cc(56,"label",36),f.Uc(57,"Impuesto"),f.bc(),f.cc(58,"div",33),f.cc(59,"ng-select",37),f.mc("change",function(e){return t.onChageTaxBill(e)}),f.Sc(60,Qe,2,3,"ng-option",38),f.bc(),f.bc(),f.bc(),f.cc(61,"div",31),f.cc(62,"div",39),f.cc(63,"input",40),f.mc("change",function(e){return t.onChageIncluded(e)}),f.bc(),f.cc(64,"label",41),f.Uc(65," Incluido "),f.bc(),f.bc(),f.bc(),f.cc(66,"div",31),f.cc(67,"label",42),f.Uc(68,"Costo U."),f.bc(),f.cc(69,"div",33),f.cc(70,"input",43),f.mc("keyup",function(){return t.onChangeUnitPrice()}),f.bc(),f.bc(),f.bc(),f.cc(71,"div",31),f.cc(72,"div",44),f.Xb(73,"input",45),f.bc(),f.cc(74,"div",44),f.Xb(75,"input",46),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(76,"div",5),f.cc(77,"div",6),f.cc(78,"div",0),f.cc(79,"div"),f.Uc(80," Datos de venta "),f.bc(),f.cc(81,"div"),f.cc(82,"div",31),f.cc(83,"label",47),f.Uc(84,"Impuesto"),f.bc(),f.cc(85,"div",48),f.cc(86,"ng-select",49),f.mc("change",function(e){return t.onChangeTaxSale(e)}),f.Sc(87,je,2,3,"ng-option",38),f.bc(),f.bc(),f.bc(),f.cc(88,"div",31),f.cc(89,"label",50),f.Uc(90,"Precio de venta"),f.bc(),f.cc(91,"div",48),f.cc(92,"input",51),f.mc("keyup",function(){return t.onChangeSalePrice()}),f.bc(),f.bc(),f.bc(),f.cc(93,"div",31),f.cc(94,"label",52),f.Uc(95,"Ganancia posible"),f.bc(),f.cc(96,"div",48),f.Xb(97,"input",53),f.bc(),f.bc(),f.cc(98,"div",31),f.cc(99,"label",52),f.Uc(100,"% Ganancia"),f.bc(),f.cc(101,"div",48),f.Xb(102,"input",54),f.bc(),f.bc(),f.Sc(103,Ke,5,1,"div",55),f.Sc(104,Je,5,1,"div",55),f.Sc(105,Ye,5,1,"div",55),f.cc(106,"div",7),f.cc(107,"button",56),f.mc("click",function(){return t.onSave()}),f.Xb(108,"i",57),f.Uc(109),f.pc(110,"translate"),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(111,"ngx-spinner"),f.cc(112,"p",58),f.Uc(113),f.bc(),f.bc()}2&e&&(f.Ib(4),f.vc("formGroup",t.customForm),f.Ib(7),f.vc("readOnly",t.editing),f.Ib(26),f.Wc(" ",t.itemName," "),f.Ib(4),f.vc("ngForOf",t.itemsResult),f.Ib(19),f.vc("ngForOf",t.taxBill),f.Ib(27),f.vc("ngForOf",t.taxSales),f.Ib(16),f.vc("ngIf",t.perishable),f.Ib(1),f.vc("ngIf",t.perishable),f.Ib(1),f.vc("ngIf",t.perishable),f.Ib(2),f.vc("disabled",!t.customForm.valid),f.Ib(2),f.Wc(" ",f.qc(110,12,"buttons.save")," "),f.Ib(4),f.Wc(" ",t.maskSpinner," "))},directives:[n.z,n.q,n.h,n.c,n.p,n.g,d.N,a.m,n.u,s.a,n.a,b.a,a.n,p.a,s.d],pipes:[m.c,a.d],styles:[".create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}"]}),e})()},{path:"providers",component:S},{path:"providers/create",component:L},{path:"providers/edit/:id",component:L}]}];let tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Ub({type:e}),e.\u0275inj=f.Tb({imports:[[g.f.forChild(et)],g.f]}),e})();const ct={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!0};let at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.Ub({type:e}),e.\u0275inj=f.Tb({imports:[[a.c,p.b,l.b,d.t,u.a,d.C,b.b.forRoot(ct),o.b,s.c,i.b,r.b,n.v,m.b,tt]]}),e})()}}]);