(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{WLUK:function(c,t,e){"use strict";e.r(t),e.d(t,"customCurrencyMaskConfig",function(){return Jc}),e.d(t,"ProductsModule",function(){return Zc});var a=e("ofXK"),i=e("3Pt+"),n=e("aSZe"),r=e("7M0M"),s=e("ZOsW"),o=e("wjyA"),l=e("1kSV"),d=e("TT0I"),b=e("sYmb"),u=e("tyNb"),p=e("fXoL");let m=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=p.Qb({type:c,selectors:[["app-products"]],decls:1,vars:0,template:function(c,t){1&c&&p.Xb(0,"router-outlet")},directives:[u.g],encapsulation:2}),c})();var f=e("py8Q"),g=e("YMfE");const v=["customGrid"],h=["searchField"];function _(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let I=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Productos o Servicios"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/items/create",read:"/products/items/read",update:"/products/items/update/",delete:"/products/items/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"sku",type:"string"},{name:"qr_code",type:"string"},{name:"product_name",type:"string"},{name:"location",type:"string"},{name:"notes",type:"string"},{name:"description_sales",type:"string"},{name:"shopping_description",type:"string"},{name:"product_class_name",type:"string"},{name:"barcode",type:"string"},{name:"description",type:"string"},{name:"rate_name",type:"string"},{name:"internal_code",type:"string"},{name:"state",type:"number"},{name:"initial_date",type:"date"},{name:"sale_price",type:"float"},{name:"purchase_cost",type:"float"},{name:"tax_sales",type:"number"},{name:"tax_bill",type:"number"},{name:"stock_min",type:"number"},{name:"stock_max",type:"number"},{name:"tax_sales_id",type:"number"},{name:"percentage_gain",type:"number"},{name:"tax_bill_id",type:"number"},{name:"tax_rate_id",type:"number"},{name:"item_type_id",type:"number"},{name:"class_id",type:"number"},{name:"average_cost",type:"float"},{name:"recipe",type:"bool"},{name:"selling_out_of_inventory",type:"bool"},{name:"vat_included",type:"bool"},{name:"perishable",type:"bool"},{name:"id",type:"number"}],c.sourceColumns=[{text:"C\xf3digo",datafield:"internal_code",align:"center",cellsalign:"left",width:120},{text:"Clase",align:"center",datafield:"product_class_name",minWidth:50,width:120},{text:"Nombre del item",align:"center",datafield:"product_name",minWidth:250},{text:"Precio",align:"center",datafield:"sale_price",minWidth:60,width:150,cellsalign:"right",cellsformat:"c2"},{text:"Impuesto",align:"center",datafield:"tax_sales",minWidth:60,width:100,cellsalign:"right"},{text:"Descripci\xf3n",align:"center",datafield:"product_description",minWidth:100,width:250}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/items/create")}editData(c){super.editData(c),this.goRoute(`products/items/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-items"]],viewQuery:function(c,t){if(1&c&&(p.ad(v,1),p.ad(h,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,_,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();var y=e("xg8E"),C=e("JqCM"),U=e("UnFQ"),x=e("zC4a"),k=e("7q1N"),A=e("uHPU");const W=["focusElement"],X=["subCatElement"],q=["uploadFile"],S=["imgUp"];function w(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.product_class_name," ")}}function F(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.name_taxe," - ",c.rate_name," ")}}function E(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.name_taxe," - ",c.rate_name," ")}}function O(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.brand_name," ")}}function N(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.category_name," ")}}function M(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.category_name," ")}}function V(c,t){if(1&c){const c=p.dc();p.cc(0,"div",0),p.cc(1,"div",15),p.cc(2,"div",16),p.cc(3,"label"),p.cc(4,"span",17),p.Uc(5),p.pc(6,"translate"),p.bc(),p.Uc(7," Nombre del item"),p.bc(),p.Xb(8,"input",18,19),p.bc(),p.bc(),p.cc(10,"div",15),p.cc(11,"div",16),p.cc(12,"label"),p.cc(13,"span",17),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Clase"),p.bc(),p.cc(17,"ng-select",20),p.mc("change",function(t){return p.Lc(c),p.oc().classChange(t)}),p.Sc(18,w,2,2,"ng-option",21),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(19,"div",0),p.cc(20,"div",15),p.cc(21,"div",16),p.cc(22,"label"),p.cc(23,"span",17),p.Uc(24),p.pc(25,"translate"),p.bc(),p.Uc(26," Impuesto en compras"),p.bc(),p.cc(27,"ng-select",22),p.Sc(28,F,2,3,"ng-option",21),p.bc(),p.bc(),p.bc(),p.cc(29,"div",15),p.cc(30,"div",16),p.cc(31,"label"),p.cc(32,"span",17),p.Uc(33),p.pc(34,"translate"),p.bc(),p.Uc(35," Impuesto en ventas"),p.bc(),p.cc(36,"ng-select",23),p.Sc(37,E,2,3,"ng-option",21),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(38,"div",0),p.cc(39,"div",15),p.cc(40,"div",16),p.cc(41,"label"),p.Uc(42,"Descripci\xf3n para compras"),p.bc(),p.Xb(43,"input",24),p.bc(),p.bc(),p.cc(44,"div",15),p.cc(45,"div",16),p.cc(46,"label"),p.Uc(47,"Descripci\xf3n para ventas"),p.bc(),p.Xb(48,"input",25),p.bc(),p.bc(),p.bc(),p.cc(49,"div",0),p.cc(50,"div",15),p.cc(51,"div",16),p.cc(52,"label"),p.Uc(53,"Marca"),p.bc(),p.cc(54,"ng-select",26),p.cc(55,"ng-option",27),p.Uc(56,"Sin marca"),p.bc(),p.Sc(57,O,2,2,"ng-option",21),p.bc(),p.bc(),p.bc(),p.cc(58,"div",15),p.cc(59,"div",16),p.cc(60,"label"),p.Uc(61,"Categoria"),p.bc(),p.cc(62,"ng-select",28),p.mc("change",function(t){return p.Lc(c),p.oc().categoryChange(t)}),p.cc(63,"ng-option",27),p.Uc(64,"Sin categoria"),p.bc(),p.Sc(65,N,2,2,"ng-option",21),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(66,"div",0),p.cc(67,"div",15),p.cc(68,"div",16),p.cc(69,"label"),p.Uc(70,"Sub categoria"),p.bc(),p.cc(71,"ng-select",29,30),p.cc(73,"ng-option",27),p.Uc(74,"Sin subcategoria"),p.bc(),p.Sc(75,M,2,2,"ng-option",21),p.bc(),p.bc(),p.bc(),p.cc(76,"div",15),p.cc(77,"div",16),p.cc(78,"label"),p.Uc(79,"Costo unitario"),p.bc(),p.Xb(80,"input",31),p.bc(),p.bc(),p.bc(),p.cc(81,"div",0),p.cc(82,"div",15),p.cc(83,"div",16),p.cc(84,"label"),p.Uc(85,"Porcentaje de ganancia"),p.bc(),p.cc(86,"input",32),p.mc("keyup",function(){return p.Lc(c),p.oc().onPercentageGain()})("change",function(){return p.Lc(c),p.oc().onPercentageGain()}),p.bc(),p.bc(),p.bc(),p.cc(87,"div",15),p.cc(88,"div",16),p.cc(89,"label"),p.Uc(90,"Precio de venta"),p.bc(),p.Xb(91,"input",33),p.bc(),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(5),p.Vc(p.qc(6,14,"general.asterisk")),p.Ib(9),p.Vc(p.qc(15,16,"general.asterisk")),p.Ib(3),p.vc("readonly",c.editing),p.Ib(1),p.vc("ngForOf",c.classof),p.Ib(6),p.Vc(p.qc(25,18,"general.asterisk")),p.Ib(4),p.vc("ngForOf",c.taxBill),p.Ib(5),p.Vc(p.qc(34,20,"general.asterisk")),p.Ib(4),p.vc("ngForOf",c.taxSale),p.Ib(17),p.vc("virtualScroll",!0),p.Ib(3),p.vc("ngForOf",c.brands),p.Ib(5),p.vc("virtualScroll",!0),p.Ib(3),p.vc("ngForOf",c.categories),p.Ib(6),p.vc("virtualScroll",!0),p.Ib(4),p.vc("ngForOf",c.subCateg)}}function L(c,t){1&c&&(p.cc(0,"div",15),p.cc(1,"div",16),p.Xb(2,"br"),p.Xb(3,"br"),p.Xb(4,"input",46),p.cc(5,"label",47),p.Uc(6,"Producto perecedero (Se aplica control de caducidad)"),p.bc(),p.bc(),p.bc())}function D(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",15),p.cc(2,"div",16),p.cc(3,"label"),p.Uc(4,"SKU"),p.bc(),p.Xb(5,"input",35),p.bc(),p.bc(),p.cc(6,"div",15),p.cc(7,"div",16),p.cc(8,"label"),p.Uc(9,"C\xf3digo de barras"),p.bc(),p.Xb(10,"input",36),p.bc(),p.bc(),p.bc(),p.cc(11,"div",0),p.cc(12,"div",15),p.cc(13,"div",16),p.cc(14,"label"),p.Uc(15,"C\xf3digo QR"),p.bc(),p.Xb(16,"input",37),p.bc(),p.bc(),p.Sc(17,L,7,0,"div",38),p.bc(),p.cc(18,"div",0),p.cc(19,"div",15),p.cc(20,"div",16),p.Xb(21,"br"),p.Xb(22,"br"),p.Xb(23,"input",39),p.cc(24,"label",40),p.Uc(25,"Iva incluido"),p.bc(),p.bc(),p.bc(),p.cc(26,"div",15),p.cc(27,"div",16),p.Xb(28,"br"),p.Xb(29,"br"),p.Xb(30,"input",41),p.cc(31,"label",42),p.Uc(32,"Verder sin inventario"),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(33,"div",0),p.cc(34,"div",43),p.cc(35,"div",16),p.cc(36,"label",44),p.Uc(37,"Informaci\xf3n adicional"),p.bc(),p.Xb(38,"textarea",45),p.bc(),p.bc(),p.bc()),2&c){const c=p.oc();p.Ib(17),p.vc("ngIf",!c.disabled)}}function P(c,t){if(1&c){const c=p.dc();p.cc(0,"div",0),p.cc(1,"div",48),p.cc(2,"div",16),p.cc(3,"label",49),p.Uc(4,"Seleccionar imagen"),p.bc(),p.cc(5,"input",50,51),p.mc("change",function(t){return p.Lc(c),p.oc().uploadImage(t)}),p.bc(),p.bc(),p.bc(),p.cc(7,"div",48),p.Xb(8,"img",52),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(8),p.vc("src",c.imgData,p.Oc)}}function R(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",53),p.cc(2,"div",16),p.cc(3,"label",54),p.Uc(4,"Inventario inicial"),p.bc(),p.Xb(5,"input",55),p.bc(),p.bc(),p.cc(6,"div",53),p.cc(7,"div",16),p.cc(8,"label",56),p.Uc(9,"Inventario actual"),p.bc(),p.Xb(10,"input",57),p.bc(),p.bc(),p.bc()),2&c){const c=p.oc();p.Ib(5),p.vc("readonly",c.editing)}}function G(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.abbre_unit," - ",c.unit_name," ")}}function Q(c,t){if(1&c){const c=p.dc();p.cc(0,"tr"),p.cc(1,"th",65),p.Uc(2),p.bc(),p.cc(3,"td",66),p.Uc(4),p.bc(),p.cc(5,"td",66),p.Uc(6),p.bc(),p.cc(7,"td",67),p.Uc(8),p.pc(9,"number"),p.bc(),p.cc(10,"td",68),p.Uc(11),p.pc(12,"currency"),p.bc(),p.cc(13,"td",68),p.Uc(14),p.pc(15,"currency"),p.bc(),p.cc(16,"td",69),p.cc(17,"button",70),p.mc("click",function(){p.Lc(c);const e=t.index,a=p.oc(3),i=p.Ic(35);return a.EditMeasurementUnit(e,i)}),p.Xb(18,"i",71),p.bc(),p.bc(),p.cc(19,"td",69),p.cc(20,"button",72),p.mc("click",function(){p.Lc(c);const e=t.index;return p.oc(3).delMeasurementUnit(e)}),p.Xb(21,"i",73),p.bc(),p.bc(),p.bc()}if(2&c){const c=t.$implicit,e=t.index;p.Ib(2),p.Vc(e+1),p.Ib(2),p.Xc(" ",c.abbre_unit," - ",c.unit_description," "),p.Ib(2),p.Wc(" ",c.unit_name," "),p.Ib(2),p.Wc(" ",p.qc(9,7,c.factor)," "),p.Ib(3),p.Wc(" ",p.qc(12,9,c.purchase_cost)," "),p.Ib(3),p.Wc(" ",p.qc(15,11,c.sale_price)," ")}}function T(c,t){if(1&c){const c=p.dc();p.cc(0,"button",74),p.mc("click",function(){p.Lc(c);const t=p.oc(3),e=p.Ic(35);return t.open(e,!1)}),p.Xb(1,"i",75),p.Uc(2," Agregar unidad "),p.bc()}}function $(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",43),p.cc(2,"table",61),p.cc(3,"thead"),p.cc(4,"tr"),p.cc(5,"th",62),p.Uc(6,"#"),p.bc(),p.cc(7,"th",62),p.Uc(8,"Unidade de medida"),p.bc(),p.cc(9,"th",62),p.Uc(10,"Nombre de la unidad"),p.bc(),p.cc(11,"th",62),p.Uc(12,"Factor"),p.bc(),p.cc(13,"th",62),p.Uc(14,"Costo"),p.bc(),p.cc(15,"th",62),p.Uc(16,"Precio"),p.bc(),p.Xb(17,"th",62),p.Xb(18,"th",62),p.bc(),p.bc(),p.cc(19,"tbody"),p.Sc(20,Q,22,13,"tr",63),p.bc(),p.bc(),p.Sc(21,T,3,0,"button",64),p.bc(),p.bc()),2&c){const c=p.oc(2);p.Ib(20),p.vc("ngForOf",c.measurementUnits),p.Ib(1),p.vc("ngIf",!c.disabled)}}function B(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",15),p.cc(2,"div",16),p.cc(3,"label"),p.Uc(4,"Unidad base o principal"),p.bc(),p.cc(5,"ng-select",58),p.Sc(6,G,2,3,"ng-option",21),p.bc(),p.bc(),p.bc(),p.cc(7,"div",15),p.cc(8,"div",16),p.cc(9,"label"),p.Uc(10,"Factor base de conversi\xf3n"),p.bc(),p.Xb(11,"input",59),p.bc(),p.bc(),p.bc(),p.Sc(12,$,22,2,"div",60)),2&c){const c=p.oc();p.Ib(6),p.vc("ngForOf",c.units),p.Ib(6),p.vc("ngIf",!c.disabled)}}function j(c,t){if(1&c&&(p.cc(0,"ng-option",34),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.abbre_unit," - ",c.unit_description," ")}}function H(c,t){if(1&c){const c=p.dc();p.cc(0,"div",76),p.cc(1,"h4",77),p.Uc(2),p.pc(3,"uppercase"),p.pc(4,"translate"),p.bc(),p.cc(5,"button",78),p.mc("click",function(){return t.$implicit.dismiss("Cross click")}),p.cc(6,"span",79),p.Uc(7,"\xd7"),p.bc(),p.bc(),p.bc(),p.cc(8,"div",80),p.cc(9,"form",5),p.cc(10,"div",16),p.cc(11,"label"),p.Uc(12,"Unida de medida"),p.bc(),p.cc(13,"ng-select",81),p.mc("change",function(t){return p.Lc(c),p.oc().onChangeUnits(t)}),p.Sc(14,j,2,3,"ng-option",21),p.bc(),p.bc(),p.cc(15,"div",16),p.cc(16,"label"),p.Uc(17,"Factor de conversi\xf3n"),p.bc(),p.Xb(18,"input",82),p.bc(),p.cc(19,"div",16),p.cc(20,"label"),p.Uc(21,"Nombre"),p.bc(),p.Xb(22,"input",83),p.bc(),p.cc(23,"div",16),p.cc(24,"label"),p.Uc(25,"Costo de compra"),p.bc(),p.Xb(26,"input",84),p.bc(),p.cc(27,"div",16),p.cc(28,"label"),p.Uc(29,"Precio de venta"),p.bc(),p.Xb(30,"input",85),p.bc(),p.bc(),p.bc(),p.cc(31,"div",86),p.cc(32,"button",87),p.mc("click",function(){return t.$implicit.close("Save")}),p.Xb(33,"i",88),p.Uc(34),p.pc(35,"translate"),p.bc(),p.cc(36,"button",89),p.mc("click",function(){return t.$implicit.close("Cancel")}),p.Xb(37,"i",90),p.cc(38,"strong"),p.Uc(39),p.pc(40,"translate"),p.bc(),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(2),p.Wc("",p.qc(3,5,p.qc(4,7,"general.createEdit"))," UNDS. DE MEDIDA"),p.Ib(7),p.vc("formGroup",c.modalForm),p.Ib(5),p.vc("ngForOf",c.mUnits),p.Ib(20),p.Wc(" ",p.qc(35,9,"buttons.saveAndClose")," "),p.Ib(5),p.Wc("",p.qc(40,11,"buttons.cancel")," ")}}let z=(()=>{class c extends y.a{constructor(c,t,e,a,n,r,s,o,l,d,b,u,p,m,f,g){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.termsSer=o,this.itemsSer=l,this.classSer=d,this.brandSer=b,this.cateSer=u,this.taxSer=p,this.attrSer=m,this.measSer=f,this.modalService=g,this.attributes=[],this.classof=[],this.brands=[],this.categories=[],this.subCateg=[],this.taxSale=[],this.taxBill=[],this.mUnits=[],this.units=[],this.active=1,this.disabled=!0,this.closeResult="",this.editModal=!1,this.measurementUnits=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({sku:[""],qr_code:[""],product_name:["",[i.y.required,i.y.minLength(2)]],notes:[""],shopping_description:[""],description_sales:[""],barcode:[""],initial_stock:[0],stock:[0],percentage_gain:[25],sale_price:[""],purchase_cost:[""],tax_sales_id:[""],tax_bill_id:[""],class_id:[1],brand_id:["0"],category_id:["0"],sub_category_id:["0"],perishable:[!1],vat_included:[!0],base_factor:[1],unit_id:[1],selling_out_of_inventory:[!0]}),this.modalForm=this.fb.group({unit_id:[""],unit_name:[""],factor:[0],purchase_cost:[0],sale_price:[0]})}get invalidName(){return this.customForm.get("term_name").invalid&&this.customForm.get("term_name").touched}get invalidAttributeId(){return 0===this.customForm.get("attribute_id").value}ngOnInit(){super.ngOnInit();const c=this;c.PutURL="/products/items/update/",c.PostURL="/products/items/create",c.showSpinner(),c.attrSer.getAll({}).subscribe(t=>{c.attributes=t}),c.classSer.getData().subscribe(t=>{c.classof=t}),c.brandSer.getAll().subscribe(t=>{c.brands=t}),c.cateSer.getParents({}).subscribe(t=>{c.categories=t}),c.taxSer.getData({isVat:1}).subscribe(t=>{c.taxBill=t,c.taxSale=t,t.length>0&&!c.editing&&(c.customForm.get("tax_bill_id").setValue(t[0].id),c.customForm.get("tax_sales_id").setValue(t[0].id))}),c.measSer.getAll({}).subscribe(t=>{c.mUnits=t,c.hideSpinner()}),c.measSer.getBase().subscribe(t=>{c.units=t})}saveData(){const c=this,t=c.customForm,e=c.translate;let a={};if(!t.invalid){c.showSpinner(),a=t.value,c.changeImage&&(a.imgdata=c.imgData,a.imgname=c.imgname);const i={records:JSON.stringify(a),units:JSON.stringify(c.measurementUnits)};c.editing?c.api.put(`${c.PutURL}${c.uid}`,i).subscribe(t=>{c.msg.toastMessage(e.instant("general.savedSuccessfully"),t.message,0),c.editing=!1,c.toClose?c.close():(c.onResetForm(),c.focusElement.nativeElement.focus()),c.hideSpinner(),c.disabledLoading()},t=>{c.msg.toastMessage(e.instant("general.error"),t.error.message,4),c.disabledLoading(),c.hideSpinner()}):c.api.post(c.PostURL,i).subscribe(t=>{c.msg.toastMessage(e.instant("general.successfullyCreated"),t.message,0),c.toClose?c.close():(c.onResetForm(),c.focusElement.nativeElement.focus()),c.disabledLoading(),c.hideSpinner()},t=>{c.msg.toastMessage(e.instant("general.error"),t.error.message,4),c.disabledLoading(),c.hideSpinner()})}}loadData(c=0){const t=this,e=t.customForm;t.editing=!0,t.itemsSer.getData({uid:c}).subscribe(c=>{e.setValue({sku:c[0].sku,qr_code:c[0].qr_code,product_name:c[0].product_name,notes:c[0].notes,shopping_description:c[0].shopping_description,description_sales:c[0].description_sales,barcode:c[0].barcode,sale_price:c[0].sale_price,purchase_cost:c[0].purchase_cost,initial_stock:c[0].initial_stock,stock:c[0].stock,percentage_gain:c[0].percentage_gain,tax_sales_id:c[0].tax_sales_id,tax_bill_id:c[0].tax_bill_id,class_id:c[0].class_id,brand_id:c[0].brand_id?c[0].brand_id:"0",sub_category_id:c[0].sub_category_id?c[0].sub_category_id:"0",category_id:c[0].category_id?c[0].category_id:"0",vat_included:c[0].vat_included,selling_out_of_inventory:c[0].selling_out_of_inventory,perishable:c[0].perishable,base_factor:c[0].base_factor,unit_id:c[0].unit_id}),t.imgData=c[0].image?c[0].image:"",t.categoryChange(c[0].category_id?c[0].category_id:0),t.classChange(c[0].class_id),t.measSer.getProduct({pid:c[0].id}).subscribe(c=>{t.measurementUnits=c})},()=>{t.fullLoad()})}delMeasurementUnit(c){const t=this,e=t.measurementUnits[c];if(-1!==t.measurementUnits.indexOf(e))if(e.id>0){const a=`/products/units/delete/product/${e.id}`;t.showSpinner(),t.api.delete(a).subscribe(e=>{t.measurementUnits.splice(c,1),t.hideSpinner()},c=>{t.hideSpinner(),t.msg.toastMessage("Error","Error al tratar de eliminar la unidad de medida.",4)})}else t.measurementUnits.splice(c,1)}EditMeasurementUnit(c,t){const e=this,a=e.measurementUnits[c];-1!==e.measurementUnits.indexOf(a)&&(e.modalForm.setValue({unit_id:a.unit_id,factor:a.factor,purchase_cost:a.purchase_cost,unit_name:a.unit_name,sale_price:a.sale_price}),e.selectEdit=a,e.open(t,!0))}classChange(c){this.disabled=2===c}categoryChange(c){const t=this;t.subCateg=[],t.showSpinner(),t.editing||t.customForm.get("sub_category_id").setValue("0"),t.cateSer.getChids({uid:c}).subscribe(c=>{t.hideSpinner(),t.subCateg=c},()=>t.hideSpinner())}open(c,t){const e=this;e.editModal=t,e.selectUnit=null,e.editModal?e.onUnitCost():(e.modalForm.setValue({unit_id:e.mUnits[0].id,factor:0,purchase_cost:0,unit_name:"",sale_price:0}),e.onChangeUnits(e.mUnits[0].id)),this.modalService.open(c,{ariaLabelledBy:"modal-basic-title"}).result.then(c=>{const t=this,e=t.modalForm.getRawValue();if("Save"===c)if(t.editModal){let c=t.measurementUnits.find(c=>c.unit_id===t.selectEdit.unit_id);if(t.selectEdit.id>0&&(c=t.measurementUnits.find(c=>c.id===t.selectEdit.id)),c){if(t.selectUnit){if(t.selectEdit.unit_id!==t.selectUnit.id&&t.measurementUnits.find(c=>c.unit_id===t.selectUnit.id))return;c.unit_name=t.selectUnit.unit_name,c.abbre_unit=t.selectUnit.abbre_unit,c.unit_id=t.selectUnit.id,c.unit_description=t.selectUnit.unit_description}c.factor=e.factor,c.purchase_cost=e.purchase_cost,c.sale_price=e.sale_price}}else t.measurementUnits.find(c=>c.unit_id===t.selectUnit.id)||t.measurementUnits.push({id:0,base_unit_id:0,unit_id:t.selectUnit.id,unit_description:t.selectUnit.unit_description,factor:e.factor,unit_name:e.unit_name,abbre_unit:t.selectUnit.abbre_unit,purchase_cost:e.purchase_cost,sale_price:e.sale_price})},c=>{console.log(c)})}onChangeUnits(c){const t=this,e=t.modalForm,a=t.mUnits.find(t=>t.id==c);if(a){const c=a.factor;t.selectUnit=a,e.get("factor").setValue(c),e.get("unit_name").setValue(a.unit_description),t.onUnitCost()}}onUnitCost(){const c=this.modalForm,t=this.customForm,e=parseFloat(c.get("factor").value),a=parseFloat(t.get("base_factor").value);let i=parseFloat(t.get("purchase_cost").value)/a*e;c.get("purchase_cost").setValue(i),parseFloat(c.get("sale_price").value)<i&&c.get("sale_price").setValue(i)}onResetForm(){super.onResetForm(this.customForm),this.customForm=this.fb.group({sku:"",qr_code:"",product_name:"",notes:"",shopping_description:"",description_sales:"",barcode:"",sale_price:0,purchase_cost:0,tax_sales_id:this.taxSale[0].id,tax_bill_id:this.taxBill[0].id,initial_stock:0,stock:0,percentage_gain:25,class_id:1,brand_id:"0",category_id:"0",sub_category_id:"0",perishable:!1,vat_included:!0,base_factor:1,unit_id:1,selling_out_of_inventory:!0})}onPercentageGain(){const c=this.customForm,t=parseFloat(c.get("purchase_cost").value),e=parseFloat(c.get("percentage_gain").value);let a=0;t>0&&e>0&&(a=t+t*(e/100),c.get("sale_price").setValue(a))}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.h),p.Wb(U.e),p.Wb(U.d),p.Wb(U.b),p.Wb(U.c),p.Wb(x.a),p.Wb(U.a),p.Wb(k.a),p.Wb(l.r))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-items-form"]],viewQuery:function(c,t){if(1&c&&(p.ad(W,1),p.ad(X,1),p.ad(q,1),p.ad(S,1)),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first),p.Hc(c=p.nc())&&(t.subCatElement=c.first),p.Hc(c=p.nc())&&(t.uploadFile=c.first),p.Hc(c=p.nc())&&(t.imgUp=c.first)}},features:[p.Fb],decls:36,vars:17,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"display-none"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],["content",""],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["autofocus","","nbInput","","fullWidth","","type","text","name","product_name","formControlName","product_name",1,"form-control"],["focusElement",""],["name","class_id","formControlName","class_id",3,"readonly","change"],[3,"value",4,"ngFor","ngForOf"],["name","tax_bill_id","formControlName","tax_bill_id"],["name","tax_sales_id","formControlName","tax_sales_id"],["nbInput","","fullWidth","","type","text","name","shopping_description","formControlName","shopping_description",1,"form-control"],["nbInput","","fullWidth","","type","text","name","description_sales","formControlName","description_sales",1,"form-control"],["name","brand_id","formControlName","brand_id",3,"virtualScroll"],["value","0"],["name","category_id","formControlName","category_id",3,"virtualScroll","change"],["name","sub_category_id","formControlName","sub_category_id",3,"virtualScroll"],["subCatElement",""],["nbInput","","fullWidth","","currencyMask","","name","purchase_cost","formControlName","purchase_cost",1,"form-control"],["type","number","nbInput","","fullWidth","","currencyMask","","formControlName","percentage_gain",1,"form-control",3,"keyup","change"],["nbInput","","fullWidth","","currencyMask","","formControlName","sale_price",1,"form-control"],[3,"value"],["nbInput","","fullWidth","","type","text","name","sku","formControlName","sku",1,"form-control"],["nbInput","","fullWidth","","type","text","name","barcode","formControlName","barcode",1,"form-control"],["nbInput","","fullWidth","","type","text","name","qr_code","formControlName","qr_code",1,"form-control"],["class","col-md-6",4,"ngIf"],["type","checkbox","formControlName","vat_included","id","vat_included","name","vat_included",1,"input-full-width","size-medium","status-basic","shape-rectangle","nb-transition",2,"margin-right","2%"],["for","vat_included"],["type","checkbox","formControlName","selling_out_of_inventory","id","selling_out_of_inventory","name","selling_out_of_inventory",1,"input-full-width","size-medium","status-basic","shape-rectangle","nb-transition",2,"margin-right","2%"],["for","selling_out_of_inventory"],[1,"col"],["for","notes"],["name","notes","id","notes","rows","4",1,"form-control"],["type","checkbox","formControlName","perishable","id","perishable","name","perishable",1,"input-full-width","size-medium","status-basic","shape-rectangle","nb-transition",2,"margin-right","2%"],["for","perishable"],["div","",1,"col-md-6"],["for","file"],["type","file","id","file",1,"form-control-file",3,"change"],["uploadFile",""],["width","128px","fallimg","",1,"img-thumbnail",3,"src"],[1,"col-sm-6"],["for","initStock"],["id","initStock","type","number","formControlName","initial_stock",1,"form-control",3,"readonly"],["for","stock"],["id","stock","type","number","formControlName","stock","readonly","",1,"form-control"],["fullWidth","","formControlName","unit_id"],["type","number","formControlName","base_factor",1,"form-control"],["class","row",4,"ngIf"],[1,"table","table-hover","table-sm","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-primary btn-sm radius-button",3,"click",4,"ngIf"],["scope","row"],[2,"min-width","200px"],[1,"text-right",2,"width","75px","min-width","75px"],[1,"text-right",2,"width","125px","min-width","150px"],[2,"width","40px","min-width","40px"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-pen"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-minus"],["type","button",1,"btn","btn-primary","btn-sm","radius-button",3,"click"],[1,"fas","fa-plus","fas-fa-22"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["formControlName","unit_id","ngbAutofocus","","autofocus","",3,"change"],["nbInput","","fullWidth","","name","factor","formControlName","factor","readonly","",1,"form-control"],["nbInput","","fullWidth","","formControlName","unit_name",1,"form-control"],["nbInput","","fullWidth","","currencyMask","","name","purchase_cost","readonly","","formControlName","purchase_cost",1,"form-control"],["nbInput","","fullWidth","","currencyMask","","name","sale_price","formControlName","sale_price",1,"form-control"],[1,"modal-footer"],["nbSuffix","","nbButton","","status","primary","type","button",1,"btn-sm","radius-button","space-right",3,"click"],[1,"fas","fa-save","fas-fa-22","space-right"],["nbSuffix","","nbButton","","status","danger",1,"radius-button",3,"click"],[1,"fas","fa-undo","fas-fa-22","space-right"]],template:function(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"ul",6,7),p.mc("activeIdChange",function(c){return t.active=c}),p.cc(11,"li",8),p.cc(12,"a",9),p.Uc(13,"General"),p.bc(),p.Sc(14,V,92,22,"ng-template",10),p.bc(),p.cc(15,"li",8),p.cc(16,"a",9),p.Uc(17,"Adicionales"),p.bc(),p.Sc(18,D,39,1,"ng-template",10),p.bc(),p.cc(19,"li",8),p.cc(20,"a",9),p.Uc(21,"Imagen"),p.bc(),p.Sc(22,P,9,1,"ng-template",10),p.bc(),p.cc(23,"li",8),p.cc(24,"a",9),p.Uc(25,"Stock"),p.bc(),p.Sc(26,R,11,1,"ng-template",10),p.bc(),p.cc(27,"li",8),p.cc(28,"a",9),p.Uc(29,"U. de medida"),p.bc(),p.Sc(30,B,13,2,"ng-template",10),p.bc(),p.bc(),p.Xb(31,"div",11),p.bc(),p.bc(),p.cc(32,"div",12),p.cc(33,"app-footer-form",13),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.Sc(34,H,41,13,"ng-template",null,14,p.Tc),p.bc(),p.bc()),2&c){const c=p.Ic(10);p.Ib(4),p.Wc("",p.qc(5,13,p.qc(6,15,"general.createEdit"))," ITEM"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(1),p.vc("activeId",t.active),p.Ib(2),p.vc("ngbNavItem",1),p.Ib(4),p.vc("ngbNavItem",2),p.Ib(4),p.vc("ngbNavItem",3),p.Ib(4),p.vc("ngbNavItem",4),p.Ib(4),p.vc("ngbNavItem",5),p.Ib(4),p.vc("ngbNavOutlet",c),p.Ib(2),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose)}},directives:[i.z,i.q,i.h,l.u,l.w,l.x,l.v,l.z,A.a,i.c,i.p,i.g,s.a,a.m,s.d,d.a,i.u,a.n,i.a,o.b],pipes:[a.v,b.c,a.f,a.d],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const K=["customGrid"],J=["searchField"];function Z(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let Y=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Atributos"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/attributes/create",read:"/products/attributes/read",update:"/products/attributes/update/",delete:"/products/attributes/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"attribute_name",type:"string"}],c.sourceColumns=[{text:"Nombre",datafield:"attribute_name",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/attributes/create")}editData(c){super.editData(c),this.goRoute(`products/attributes/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-attributes"]],viewQuery:function(c,t){if(1&c&&(p.ad(K,1),p.ad(J,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,Z,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();var cc=e("TK7J");const tc=["focusElement"];let ec=(()=>{class c extends cc.a{constructor(c,t,e,a,n,r,s,o){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.atSer=o,this.attributes=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({attribute_name:["",[i.y.required,i.y.minLength(2)]]})}get invalidName(){return this.customForm.get("attribute_name").invalid&&this.customForm.get("attribute_name").touched}ngOnInit(){super.ngOnInit(),this.PutURL="/products/attributes/update/",this.PostURL="/products/attributes/create"}loadData(c=0){const t=this.customForm;this.editing=!0,this.atSer.getData({uid:c}).subscribe(c=>{t.setValue({attribute_name:c[0].attribute_name})})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-attributes-form"]],viewQuery:function(c,t){if(1&c&&p.ad(tc,1),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first)}},features:[p.Fb],decls:21,vars:17,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col"],[1,"form-group"],[1,"asterisk"],["type","text","formControlName","attribute_name","required","","autofocus","",1,"form-control"],["focusElement",""],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"div",0),p.cc(10,"div",6),p.cc(11,"div",7),p.cc(12,"label"),p.cc(13,"strong",8),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Nombre del atributo"),p.bc(),p.Xb(17,"input",9,10),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(19,"div",11),p.cc(20,"app-footer-form",12),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(4),p.Wc("",p.qc(5,11,p.qc(6,13,"general.createEdit"))," ATRIBUTO"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(6),p.Wc(" ",p.qc(15,15,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidName)("is-invalid",t.invalidName),p.Ib(3),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[i.z,i.q,i.h,i.c,i.p,i.g,i.w,A.a],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const ac=["customGrid"],ic=["searchField"];function nc(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let rc=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Categorias"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/categories/create",read:"/products/categories/read",update:"/products/categories/update/",delete:"/products/categories/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"category_name",type:"string"},{name:"parent_name",type:"string"},{name:"image",type:"string"}],c.sourceColumns=[{text:"Nombre de la categoria",datafield:"category_name",align:"center"},{text:"Categoria padre",datafield:"parent_name",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/categories/create")}editData(c){super.editData(c),this.goRoute(`products/categories/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-categories"]],viewQuery:function(c,t){if(1&c&&(p.ad(ac,1),p.ad(ic,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,nc,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();const sc=["focusElement"];function oc(c,t){if(1&c&&(p.cc(0,"ng-option",16),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.category_name," ")}}let lc=(()=>{class c extends cc.a{constructor(c,t,e,a,n,r,s,o){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.catSer=o,this.categories=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({category_name:["",[i.y.required,i.y.minLength(2)]],parent_id:["0"]})}get invalidName(){return this.customForm.get("category_name").invalid&&this.customForm.get("category_name").touched}ngOnInit(){super.ngOnInit();const c=this;c.title="Crear/Editar categoria",c.PutURL="/products/categories/update/",c.PostURL="/products/categories/create",c.catSer.getAll({}).subscribe(t=>{c.categories=t})}loadData(c=0){const t=this.customForm;this.editing=!0,this.catSer.getData({uid:c}).subscribe(c=>{t.setValue({parent_id:c[0].parent_id||"0",category_name:c[0].category_name})})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.c))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-categories-form"]],viewQuery:function(c,t){if(1&c&&p.ad(sc,1),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first)}},features:[p.Fb],decls:29,vars:17,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["type","text","formControlName","category_name","required","","autofocus","",1,"form-control"],["focusElement",""],["fullWidth","","name","parent_id","formControlName","parent_id",3,"virtualScroll"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"div",0),p.cc(10,"div",6),p.cc(11,"div",7),p.cc(12,"label"),p.cc(13,"strong",8),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Nombre de la categoria "),p.bc(),p.Xb(17,"input",9,10),p.bc(),p.bc(),p.cc(19,"div",6),p.cc(20,"div",7),p.cc(21,"label"),p.Uc(22," Categoria padre"),p.bc(),p.cc(23,"ng-select",11),p.cc(24,"ng-option",12),p.Uc(25," Ninguna "),p.bc(),p.Sc(26,oc,2,2,"ng-option",13),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(27,"div",14),p.cc(28,"app-footer-form",15),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(4),p.Wc("",p.qc(5,11,p.qc(6,13,"general.createEdit"))," CATEGORIA"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(6),p.Wc(" ",p.qc(15,15,"general.asterisk"),""),p.Ib(3),p.Ob("is-invalid",t.invalidName),p.Ib(6),p.vc("virtualScroll",!0),p.Ib(3),p.vc("ngForOf",t.categories),p.Ib(2),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[i.z,i.q,i.h,i.c,i.p,i.g,i.w,s.a,s.d,a.m,A.a],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const dc=["customGrid"],bc=["searchField"];function uc(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let pc=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Marcas"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/brands/create",read:"/products/brands/read",update:"/products/brands/update/",delete:"/products/brands/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"brand_name",type:"string"}],c.sourceColumns=[{text:"Nombre de la marca",datafield:"brand_name",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/brands/create")}editData(c){super.editData(c),this.goRoute(`products/brands/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-brands"]],viewQuery:function(c,t){if(1&c&&(p.ad(dc,1),p.ad(bc,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,uc,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();const mc=["focusElement"];let fc=(()=>{class c extends cc.a{constructor(c,t,e,a,n,r,s,o){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.brands=o,this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({brand_name:["",[i.y.required,i.y.minLength(2)]]})}get invalidName(){return this.customForm.get("brand_name").invalid&&this.customForm.get("brand_name").touched}ngOnInit(){super.ngOnInit(),this.title="Crear/Editar marca",this.PutURL="/products/brands/update/",this.PostURL="/products/brands/create"}loadData(c=0){const t=this.customForm;this.editing=!0,this.brands.getData({uid:c}).subscribe(c=>{t.setValue({brand_name:c[0].brand_name})})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.b))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-brands-form"]],viewQuery:function(c,t){if(1&c&&p.ad(mc,1),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first)}},features:[p.Fb],decls:21,vars:15,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col"],[1,"form-group"],[1,"asterisk"],["type","text","formControlName","brand_name","required","","autofocus","",1,"form-control"],["focusElement",""],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"div",0),p.cc(10,"div",6),p.cc(11,"div",7),p.cc(12,"label"),p.cc(13,"strong",8),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Nombre de la marca "),p.bc(),p.Xb(17,"input",9,10),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(19,"div",11),p.cc(20,"app-footer-form",12),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(4),p.Wc("",p.qc(5,9,p.qc(6,11,"general.createEdit"))," MARCA"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(6),p.Wc(" ",p.qc(15,13,"general.asterisk"),""),p.Ib(3),p.Ob("is-invalid",t.invalidName),p.Ib(3),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[i.z,i.q,i.h,i.c,i.p,i.g,i.w,A.a],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const gc=["customGrid"],vc=["searchField"];function hc(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let _c=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Terminos de atributos"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/terms/create",read:"/products/terms/read",update:"/products/terms/update/",delete:"/products/terms/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"attribute_id",type:"number"},{name:"term_name",type:"string"},{name:"term_description",type:"string"},{name:"attribute_name",type:"string"},{name:"term_color",type:"string"},{name:"term_img",type:"string"}],c.sourceColumns=[{text:"Atributo",datafield:"attribute_name",align:"center"},{text:"Nombre del termino",datafield:"term_name",align:"center"},{text:"Descripci\xf3n",datafield:"term_description",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/terms/create")}editData(c){super.editData(c),this.goRoute(`products/terms/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-terms"]],viewQuery:function(c,t){if(1&c&&(p.ad(gc,1),p.ad(vc,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,hc,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();const Ic=["focusElement"],yc=["uploadFile"],Cc=["imgUp"];function Uc(c,t){if(1&c&&(p.cc(0,"ng-option",22),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.attribute_name," ")}}let xc=(()=>{class c extends cc.a{constructor(c,t,e,a,n,r,s,o,l){super(c,t,e,a,n,r,o),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.termsSer=s,this.spinner=o,this.attrSer=l,this.attributes=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({attribute_id:["",[i.y.required]],term_name:["",[i.y.required,i.y.minLength(1)]],term_description:[""],term_color:[""],term_img:[""]})}get invalidName(){return this.customForm.get("term_name").invalid&&this.customForm.get("term_name").touched}get invalidAttributeId(){return 0===this.customForm.get("attribute_id").value}ngOnInit(){super.ngOnInit();const c=this;c.PutURL="/products/terms/update/",c.PostURL="/products/terms/create",c.attrSer.getAll({}).subscribe(t=>{c.attributes=t})}loadData(c=0){const t=this,e=t.customForm;t.editing=!0,t.termsSer.getData({uid:c}).subscribe(c=>{e.setValue({attribute_id:c[0].attribute_id,term_name:c[0].term_name,term_description:c[0].term_description,term_color:c[0].term_color,term_img:c[0].term_img}),t.imgData=c[0].term_img?c[0].term_img:""})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(U.h),p.Wb(C.c),p.Wb(U.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-terms-form"]],viewQuery:function(c,t){if(1&c&&(p.ad(Ic,1),p.ad(yc,1),p.ad(Cc,1)),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first),p.Hc(c=p.nc())&&(t.uploadFile=c.first),p.Hc(c=p.nc())&&(t.imgUp=c.first)}},features:[p.Fb],decls:49,vars:27,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["type","text","nbInput","","formControlName","term_name","required","","autofocus","",1,"form-control"],["focusElement",""],["formControlName","attribute_id","required","",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf"],["div","",1,"col-md-6"],["type","color","formControlName","term_color",1,"form-control"],["formControlName","term_description",1,"form-control"],["for","file"],["type","file","id","file",1,"form-control-file",3,"change"],["uploadFile",""],["width","128px","fallimg","",1,"img-thumbnail",3,"src"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"div",0),p.cc(10,"div",6),p.cc(11,"div",7),p.cc(12,"label"),p.cc(13,"strong",8),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Nombre del termino"),p.bc(),p.Xb(17,"input",9,10),p.bc(),p.bc(),p.cc(19,"div",6),p.cc(20,"div",7),p.cc(21,"label"),p.cc(22,"strong",8),p.Uc(23),p.pc(24,"translate"),p.bc(),p.Uc(25," Atributo"),p.bc(),p.cc(26,"ng-select",11),p.Sc(27,Uc,2,2,"ng-option",12),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(28,"div",0),p.cc(29,"div",13),p.cc(30,"label"),p.Uc(31,"Color"),p.bc(),p.Xb(32,"input",14),p.bc(),p.cc(33,"div",13),p.cc(34,"label"),p.Uc(35,"Descripci\xf3n"),p.bc(),p.cc(36,"textarea",15),p.Uc(37,"              "),p.bc(),p.bc(),p.bc(),p.cc(38,"div",0),p.cc(39,"div",13),p.cc(40,"div",7),p.cc(41,"label",16),p.Uc(42,"Seleccionar imagen"),p.bc(),p.cc(43,"input",17,18),p.mc("change",function(c){return t.uploadImage(c)}),p.bc(),p.bc(),p.bc(),p.cc(45,"div",13),p.Xb(46,"img",19),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(47,"div",20),p.cc(48,"app-footer-form",21),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(4),p.Wc("",p.qc(5,19,p.qc(6,21,"general.createEdit"))," TERMINO"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(6),p.Wc(" ",p.qc(15,23,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidName)("is-invalid",t.invalidName),p.Ib(6),p.Wc(" ",p.qc(24,25,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidAttributeId)("is-invalid",t.invalidAttributeId),p.vc("virtualScroll",!0),p.Ib(1),p.vc("ngForOf",t.attributes),p.Ib(19),p.vc("src",t.imgData,p.Oc),p.Ib(2),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[i.z,i.q,i.h,i.c,i.p,i.g,i.w,s.a,a.m,o.b,A.a,s.d],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const kc=["customGrid"],Ac=["searchField"];function Wc(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let Xc=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Unidades de medida"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/units/create",read:"/products/units/read",update:"/products/units/update/",delete:"/products/units/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"base_unit_id",type:"number"},{name:"unit_description",type:"string"},{name:"unit_name",type:"string"},{name:"abbre_unit",type:"string"},{name:"factor",type:"float"},{name:"state",type:"number"}],c.sourceColumns=[{text:"Unidad base",datafield:"abbre_unit",align:"center"},{text:"Nombre de la unidad de medida",datafield:"unit_description",align:"center"},{text:"Factor",datafield:"factor",align:"center"}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/units/create")}editData(c){super.editData(c),this.goRoute(`products/units/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-measurement-units"]],viewQuery:function(c,t){if(1&c&&(p.ad(kc,1),p.ad(Ac,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,Wc,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();const qc=["focusElement"];function Sc(c,t){if(1&c&&(p.cc(0,"ng-option",16),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.abbre_unit," - ",c.unit_name," ")}}let wc=(()=>{class c extends cc.a{constructor(c,t,e,a,n,r,s,o){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.unitsSer=o,this.units=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({base_unit_id:["",[i.y.required]],unit_description:["",[i.y.required,i.y.minLength(2)]],factor:[1]})}get invalidName(){return this.customForm.get("unit_description").invalid&&this.customForm.get("unit_description").touched}get invalidFactor(){return this.customForm.get("factor").invalid&&this.customForm.get("factor").touched}get invalidAttributeId(){return 0===this.customForm.get("base_unit_id").value}ngOnInit(){super.ngOnInit();const c=this;c.PutURL="/products/units/update/",c.PostURL="/products/units/create",c.unitsSer.getBase().subscribe(t=>{c.units=t})}loadData(c=0){const t=this.customForm;this.editing=!0,this.unitsSer.getData({uid:c}).subscribe(c=>{t.setValue({base_unit_id:c[0].base_unit_id,unit_description:c[0].unit_description,factor:c[0].factor})})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.g))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-measurement-units-form"]],viewQuery:function(c,t){if(1&c&&p.ad(qc,1),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first)}},features:[p.Fb],decls:39,vars:33,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["type","text","name","unit_description","formControlName","unit_description","required","","autofocus","",1,"form-control"],["focusElement",""],["fullWidth","","name","base_unit_id","formControlName","base_unit_id","required","",3,"virtualScroll"],[3,"value",4,"ngFor","ngForOf"],["type","number","name","factor","formControlName","factor","required","",1,"form-control"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"div",0),p.cc(10,"div",6),p.cc(11,"div",7),p.cc(12,"label"),p.cc(13,"strong",8),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Nombre de la unidad"),p.bc(),p.Xb(17,"input",9,10),p.bc(),p.bc(),p.cc(19,"div",6),p.cc(20,"div",7),p.cc(21,"label"),p.cc(22,"strong",8),p.Uc(23),p.pc(24,"translate"),p.bc(),p.Uc(25," Unidad base"),p.bc(),p.cc(26,"ng-select",11),p.Sc(27,Sc,2,3,"ng-option",12),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(28,"div",0),p.cc(29,"div",6),p.cc(30,"div",7),p.cc(31,"label"),p.cc(32,"strong",8),p.Uc(33),p.pc(34,"translate"),p.bc(),p.Uc(35," Factor de conversi\xf3n"),p.bc(),p.Xb(36,"input",13),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(37,"div",14),p.cc(38,"app-footer-form",15),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(4),p.Wc("",p.qc(5,23,p.qc(6,25,"general.createEdit"))," UNIDAD DE MEDIDA"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(6),p.Wc(" ",p.qc(15,27,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidName)("is-invalid",t.invalidName),p.Ib(6),p.Wc(" ",p.qc(24,29,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidAttributeId)("is-invalid",t.invalidAttributeId),p.vc("virtualScroll",!0),p.Ib(1),p.vc("ngForOf",t.units),p.Ib(6),p.Wc(" ",p.qc(34,31,"general.asterisk"),""),p.Ib(3),p.Ob("status-danger",t.invalidFactor)("is-invalid",t.invalidFactor),p.Ib(2),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[i.z,i.q,i.h,i.c,i.p,i.g,i.w,s.a,a.m,i.u,A.a,s.d],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const Fc=["customGrid"],Ec=["searchField"];function Oc(c,t){if(1&c){const c=p.dc();p.cc(0,"div"),p.cc(1,"button",21),p.mc("click",function(){return p.Lc(c),p.oc().importData()}),p.Xb(2,"i",33),p.Uc(3),p.pc(4,"translate"),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(1),p.vc("disabled",c.loading),p.Ib(2),p.Wc(" ",p.qc(4,2,"buttons.import")," ")}}let Nc=(()=>{class c extends f.a{constructor(c,t,e,a,i){super(c,t,e,a,i),this.msg=c,this.api=t,this.router=e,this.translate=a,this.aRouter=i,this.title="Grupos contables"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const c=this;c.crudApi={create:"/products/groups/create",read:"/products/groups/read",update:"/products/groups/update/",delete:"/products/groups/delete/"},c.showActions=!0,c.showRowNumber=!0,c.pagesize=10,c.datafields=[{name:"id",type:"number"},{name:"product_class_id",type:"number"},{name:"name_type",type:"string"},{name:"product_class_name",type:"string"}],c.sourceColumns=[{text:"Nombre",align:"center",datafield:"name_type",minWidth:150},{text:"Clase de producto",align:"center",datafield:"product_class_name",minWidth:80}],this.prepareGrid()}createData(){super.createData(),this.goRoute("products/groups/create")}editData(c){super.editData(c),this.goRoute(`products/groups/edit/${c.id}`)}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-groups"]],viewQuery:function(c,t){if(1&c&&(p.ad(Fc,1),p.ad(Ec,1)),2&c){let c;p.Hc(c=p.nc())&&(t.customGrid=c.first),p.Hc(c=p.nc())&&(t.searchField=c.first)}},features:[p.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(c,t){1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"h4",2),p.Uc(3),p.pc(4,"uppercase"),p.bc(),p.bc(),p.cc(5,"div",0),p.cc(6,"div",3),p.cc(7,"div",4),p.cc(8,"button",5),p.mc("click",function(){return t.searchQuery()}),p.Xb(9,"i",6),p.bc(),p.bc(),p.cc(10,"div",7),p.cc(11,"jqxMenu",8,9),p.mc("onItemclick",function(c){return t.itemclick(c)}),p.cc(13,"ul"),p.cc(14,"li",10),p.Xb(15,"i",11),p.Xb(16,"a",12),p.cc(17,"ul",13),p.cc(18,"li"),p.cc(19,"a",12),p.Xb(20,"i",14),p.Uc(21),p.pc(22,"translate"),p.bc(),p.bc(),p.cc(23,"li"),p.cc(24,"a",12),p.Xb(25,"i",15),p.Uc(26),p.pc(27,"translate"),p.bc(),p.bc(),p.cc(28,"li"),p.cc(29,"a",12),p.Xb(30,"i",14),p.Uc(31),p.pc(32,"translate"),p.bc(),p.bc(),p.Xb(33,"li",16),p.cc(34,"li"),p.cc(35,"a",12),p.Xb(36,"i",17),p.Uc(37),p.pc(38,"translate"),p.bc(),p.bc(),p.Xb(39,"li",16),p.cc(40,"li"),p.cc(41,"a",12),p.Xb(42,"i",18),p.Uc(43),p.pc(44,"translate"),p.bc(),p.bc(),p.cc(45,"li"),p.cc(46,"a",12),p.Xb(47,"i",18),p.Uc(48),p.pc(49,"translate"),p.bc(),p.bc(),p.cc(50,"li"),p.cc(51,"a",12),p.Xb(52,"i",18),p.Uc(53),p.pc(54,"translate"),p.bc(),p.bc(),p.Xb(55,"li",16),p.cc(56,"li"),p.cc(57,"a",12),p.Xb(58,"i",19),p.Uc(59),p.pc(60,"translate"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(61,"div",20),p.cc(62,"button",21),p.mc("click",function(){return t.createData()}),p.Xb(63,"i",22),p.Uc(64),p.pc(65,"translate"),p.bc(),p.bc(),p.Sc(66,Oc,5,4,"div",23),p.bc(),p.cc(67,"div",24),p.cc(68,"fieldset"),p.cc(69,"div",25),p.cc(70,"input",26,27),p.mc("keyup",function(c){return t.inputKey(c)}),p.bc(),p.cc(72,"div",28),p.cc(73,"button",29),p.mc("click",function(){return t.searchQuery()}),p.Xb(74,"i",30),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(75,"jqxGrid",31,32),p.mc("onCellselect",function(c){return t.cellClick(c)})("onBindingcomplete",function(c){return t.Bindingcomplete(c)}),p.bc(),p.bc(),p.bc(),p.bc()),2&c&&(p.Ib(3),p.Vc(p.qc(4,18,t.title)),p.Ib(5),p.vc("disabled",t.loading),p.Ib(3),p.vc("height",36),p.Ib(10),p.Vc(p.qc(22,20,"export.excel")),p.Ib(5),p.Vc(p.qc(27,22,"export.csv")),p.Ib(5),p.Vc(p.qc(32,24,"export.xml")),p.Ib(6),p.Vc(p.qc(38,26,"export.pdf")),p.Ib(6),p.Vc(p.qc(44,28,"export.html")),p.Ib(5),p.Vc(p.qc(49,30,"export.json")),p.Ib(5),p.Vc(p.qc(54,32,"export.tsv")),p.Ib(6),p.Vc(p.qc(60,34,"export.print")),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.Wc(" ",p.qc(65,36,"buttons.new")," "),p.Ib(2),p.vc("ngIf",t.useImport),p.Ib(4),p.vc("placeholder",t.placeholderSearch),p.Ib(3),p.vc("disabled",t.loading),p.Ib(2),p.vc("disabled",t.loading)("auto-create",!1))},directives:[r.a,a.n,n.a],pipes:[a.v,b.c],encapsulation:2}),c})();var Mc=e("dKyG");const Vc=["focusElement"],Lc=["subCatElement"],Dc=["typeElement"];function Pc(c,t){if(1&c&&(p.cc(0,"ng-option",21),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.product_class_name," ")}}function Rc(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",14),p.cc(2,"div",15),p.cc(3,"label"),p.cc(4,"span",16),p.Uc(5),p.pc(6,"translate"),p.bc(),p.Uc(7," Nombre del grupo"),p.bc(),p.Xb(8,"input",17,18),p.bc(),p.bc(),p.cc(10,"div",14),p.cc(11,"div",15),p.cc(12,"label"),p.cc(13,"span",16),p.Uc(14),p.pc(15,"translate"),p.bc(),p.Uc(16," Clase de producto"),p.bc(),p.cc(17,"ng-select",19),p.Sc(18,Pc,2,2,"ng-option",20),p.bc(),p.bc(),p.bc(),p.bc()),2&c){const c=p.oc();p.Ib(5),p.Vc(p.qc(6,7,"general.asterisk")),p.Ib(3),p.Ob("status-danger",c.invalidName)("is-invalid",c.invalidName),p.Ib(6),p.Vc(p.qc(15,9,"general.asterisk")),p.Ib(4),p.vc("ngForOf",c.classof)}}function Gc(c,t){if(1&c&&(p.cc(0,"ng-option",21),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Xc(" ",c.account_number," - ",c.account_name," ")}}function Qc(c,t){if(1&c&&(p.cc(0,"ng-option",21),p.Uc(1),p.bc()),2&c){const c=t.$implicit;p.vc("value",c.id),p.Ib(1),p.Wc(" ",c.name_type," ")}}function Tc(c,t){if(1&c){const c=p.dc();p.cc(0,"div",29),p.cc(1,"h4",30),p.Uc(2),p.pc(3,"uppercase"),p.pc(4,"translate"),p.bc(),p.cc(5,"button",31),p.mc("click",function(){return t.$implicit.dismiss("Cross click")}),p.cc(6,"span",32),p.Uc(7,"\xd7"),p.bc(),p.bc(),p.bc(),p.cc(8,"div",33),p.cc(9,"form",5),p.cc(10,"div",15),p.cc(11,"label"),p.Uc(12,"Cuenta contable"),p.bc(),p.cc(13,"ng-select",34),p.mc("change",function(t){return p.Lc(c),p.oc(2).onChangeAccounts(t)}),p.Sc(14,Gc,2,3,"ng-option",20),p.bc(),p.bc(),p.cc(15,"div",15),p.cc(16,"label"),p.Uc(17,"Tipo"),p.bc(),p.cc(18,"ng-select",35),p.mc("change",function(t){return p.Lc(c),p.oc(2).onChangeTypes(t)}),p.Sc(19,Qc,2,2,"ng-option",20),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(20,"div",36),p.cc(21,"button",37),p.mc("click",function(){return t.$implicit.close("Save")}),p.Xb(22,"i",38),p.Uc(23),p.pc(24,"translate"),p.bc(),p.cc(25,"button",39),p.mc("click",function(){return t.$implicit.close("Cancel")}),p.Xb(26,"i",40),p.cc(27,"strong"),p.Uc(28),p.pc(29,"translate"),p.bc(),p.bc(),p.bc()}if(2&c){const c=p.oc(2);p.Ib(2),p.Wc("",p.qc(3,8,p.qc(4,10,"general.createEdit"))," CTA CONTABLE"),p.Ib(7),p.vc("formGroup",c.modalForm),p.Ib(4),p.vc("virtualScroll",!0),p.Ib(1),p.vc("ngForOf",c.accounts),p.Ib(4),p.vc("virtualScroll",!0),p.Ib(1),p.vc("ngForOf",c.accounttypes),p.Ib(4),p.Wc(" ",p.qc(24,12,"buttons.saveAndClose")," "),p.Ib(5),p.Wc("",p.qc(29,14,"buttons.cancel")," ")}}function $c(c,t){if(1&c){const c=p.dc();p.cc(0,"tr"),p.cc(1,"th",41),p.Uc(2),p.bc(),p.cc(3,"td",42),p.Uc(4),p.bc(),p.cc(5,"td",43),p.Uc(6),p.bc(),p.cc(7,"td",44),p.cc(8,"button",45),p.mc("click",function(){p.Lc(c);const e=t.index;p.oc();const a=p.Ic(1);return p.oc().EditMeasurementUnit(e,a)}),p.Xb(9,"i",46),p.bc(),p.bc(),p.cc(10,"td",44),p.cc(11,"button",47),p.mc("click",function(){p.Lc(c);const e=t.index;return p.oc(2).delMeasurementUnit(e)}),p.Xb(12,"i",48),p.bc(),p.bc(),p.bc()}if(2&c){const c=t.$implicit,e=t.index;p.Ib(2),p.Vc(e+1),p.Ib(2),p.Xc(" ",c.account_number," - ",c.account_name," "),p.Ib(2),p.Wc(" ",c.name_type," ")}}function Bc(c,t){if(1&c){const c=p.dc();p.Sc(0,Tc,30,16,"ng-template",null,22,p.Tc),p.cc(2,"div",0),p.cc(3,"div",23),p.cc(4,"table",24),p.cc(5,"thead"),p.cc(6,"tr"),p.cc(7,"th",25),p.Uc(8,"#"),p.bc(),p.cc(9,"th",25),p.Uc(10,"Nombre de la cuenta"),p.bc(),p.cc(11,"th",25),p.Uc(12,"Tipo"),p.bc(),p.Xb(13,"th",25),p.Xb(14,"th",25),p.bc(),p.bc(),p.cc(15,"tbody"),p.Sc(16,$c,13,4,"tr",26),p.bc(),p.bc(),p.cc(17,"button",27),p.mc("click",function(){p.Lc(c);const t=p.Ic(1);return p.oc().open(t,!1)}),p.Xb(18,"i",28),p.Uc(19," Agregar cuenta "),p.bc(),p.bc(),p.bc()}if(2&c){const c=p.oc();p.Ib(16),p.vc("ngForOf",c.itemTypeAccounts)}}let jc=(()=>{class c extends y.b{constructor(c,t,e,a,n,r,s,o,l,d,b){super(c,t,e,a,n,r,s),this.fb=c,this.msg=t,this.api=e,this.router=a,this.translate=n,this.aRouter=r,this.spinner=s,this.itemSer=o,this.classSer=l,this.accountSer=d,this.modalService=b,this.accounttypes=[],this.classof=[],this.mUnits=[],this.accounts=[],this.active=1,this.disabled=!0,this.closeResult="",this.editModal=!1,this.itemTypeAccounts=[],this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({product_class_id:[1],name_type:["",[i.y.required,i.y.minLength(2)]]}),this.modalForm=this.fb.group({account_type_id:[1],account_id:[""]})}get invalidName(){return this.customForm.get("name_type").invalid&&this.customForm.get("name_type").touched}get invalidClassId(){return 0===this.customForm.get("product_class_id").value}ngOnInit(){super.ngOnInit();const c=this;c.PutURL="/products/groups/update/",c.PostURL="/products/groups/create",c.showSpinner(),c.classSer.getData().subscribe(t=>{c.classof=t}),c.itemSer.getType({}).subscribe(t=>{c.accounttypes=t}),c.accountSer.getsubAccounts({}).subscribe(t=>{c.accounts=t,c.fullLoad()})}saveData(){const c=this,t=c.customForm,e=c.translate;let a={};if(!t.invalid){c.showSpinner(),a=t.value,c.changeImage&&(a.imgdata=c.imgData,a.imgname=c.imgname);const i={records:JSON.stringify(a),accounts:JSON.stringify(c.itemTypeAccounts)};c.editing?c.api.put(`${c.PutURL}${c.uid}`,i).subscribe(a=>{c.msg.toastMessage(e.instant("general.savedSuccessfully"),a.message,0),c.editing=!1,c.toClose?c.close():(c.onResetForm(t),c.focusElement.nativeElement.focus()),c.hideSpinner(),c.disabledLoading()},t=>{c.msg.toastMessage(e.instant("general.error"),t.error.message,4),c.disabledLoading(),c.hideSpinner()}):c.api.post(c.PostURL,i).subscribe(a=>{c.msg.toastMessage(e.instant("general.successfullyCreated"),a.message,0),c.toClose?c.close():(c.onResetForm(t),c.focusElement.nativeElement.focus()),c.disabledLoading(),c.hideSpinner()},t=>{c.msg.toastMessage(e.instant("general.error"),t.error.message,4),c.disabledLoading(),c.hideSpinner()})}}loadData(c=0){const t=this,e=t.customForm;t.editing=!0,t.itemSer.getData({uid:c}).subscribe(c=>{e.setValue({product_class_id:c[0].product_class_id,name_type:c[0].name_type}),t.itemSer.getItemTypeAccounts({pid:c[0].id}).subscribe(c=>{t.itemTypeAccounts=c,t.fullLoad()},()=>t.fullLoad())},()=>{t.fullLoad()})}delMeasurementUnit(c){const t=this,e=t.itemTypeAccounts[c];if(-1!==t.itemTypeAccounts.indexOf(e))if(e.id>0){const a=`/products/groups/delete/itemTypeAccounts/${e.id}`;t.showSpinner(),t.api.delete(a).subscribe(e=>{t.itemTypeAccounts.splice(c,1),t.hideSpinner()},c=>{t.hideSpinner(),t.msg.toastMessage("Error","Error al tratar de eliminar la unidad de medida.",4)})}else t.itemTypeAccounts.splice(c,1)}EditMeasurementUnit(c,t){const e=this,a=e.itemTypeAccounts[c];-1!==e.itemTypeAccounts.indexOf(a)&&(e.modalForm.setValue({account_id:a.account_id,account_type_id:a.account_type_id}),e.selectEdit=a,e.onChangeTypes(a.account_type_id),e.open(t,!0))}open(c,t){this.editModal=t,this.selectAccount=null,this.editModal||(this.modalForm.setValue({account_type_id:1,account_id:""}),this.onChangeTypes(1)),this.modalService.open(c,{ariaLabelledBy:"modal-basic-title"}).result.then(c=>{const t=this,e=t.modalForm.getRawValue();if("Save"===c)if(t.editModal){let c=t.selectEdit;t.selectAccount&&(c.account_id=t.selectAccount.id,c.account_name=t.selectAccount.account_name,c.account_number=t.selectAccount.account_number),c.name_type=t.selectTypes.name_type,c.account_type_id=e.account_type_id}else t.itemTypeAccounts.push({id:0,account_id:t.selectAccount.id,account_name:t.selectAccount.account_name,account_number:t.selectAccount.account_number,account_type_id:e.account_type_id,name_type:t.selectTypes.name_type})},c=>{console.log(c)})}onChangeAccounts(c){const t=this;t.showSpinner(),t.accountSer.getData({uid:c}).subscribe(c=>{t.selectAccount=c[0],t.hideSpinner()},c=>{console.log(c),t.hideSpinner()})}onChangeTypes(c){const t=this;t.showSpinner(),t.itemSer.getType({uid:c}).subscribe(c=>{t.selectTypes=c[0],t.hideSpinner()},c=>{console.log(c),t.hideSpinner()})}}return c.\u0275fac=function(t){return new(t||c)(p.Wb(i.e),p.Wb(g.b),p.Wb(g.a),p.Wb(u.c),p.Wb(b.d),p.Wb(u.a),p.Wb(C.c),p.Wb(U.f),p.Wb(U.d),p.Wb(Mc.b),p.Wb(l.r))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-groups-form"]],viewQuery:function(c,t){if(1&c&&(p.ad(Vc,1),p.ad(Lc,1),p.ad(Dc,1)),2&c){let c;p.Hc(c=p.nc())&&(t.focusElement=c.first),p.Hc(c=p.nc())&&(t.subCatElement=c.first),p.Hc(c=p.nc())&&(t.typeElement=c.first)}},features:[p.Fb],decls:22,vars:14,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"display-none"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card-footer"],[3,"loading","showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[1,"col-md-6"],[1,"form-group"],[1,"asterisk"],["autofocus","","nbInput","","fullWidth","","type","text","name","name_type","formControlName","name_type","required","",1,"form-control"],["focusElement",""],["name","product_class_id","formControlName","product_class_id","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["content",""],[1,"col"],[1,"table","table-hover","table-sm","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","btn-sm","radius-button",3,"click"],[1,"fas","fa-plus","fas-fa-22"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["formControlName","account_id","ngbAutofocus","","autofocus","",3,"virtualScroll","change"],["formControlName","account_type_id",3,"virtualScroll","change"],[1,"modal-footer"],["type","button",1,"btn-primary","btn-sm","radius-button","space-right",3,"click"],[1,"fas","fa-save","fas-fa-22","space-right"],[1,"btn-danger","radius-button",3,"click"],[1,"fas","fa-undo","fas-fa-22","space-right"],["scope","row"],[2,"min-width","200px"],[2,"width","150px","min-width","75px"],[2,"width","40px","min-width","40px"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-pen"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-minus"]],template:function(c,t){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.Uc(4),p.pc(5,"uppercase"),p.pc(6,"translate"),p.bc(),p.cc(7,"div",4),p.cc(8,"form",5),p.cc(9,"ul",6,7),p.mc("activeIdChange",function(c){return t.active=c}),p.cc(11,"li",8),p.cc(12,"a",9),p.Uc(13,"General"),p.bc(),p.Sc(14,Rc,19,11,"ng-template",10),p.bc(),p.cc(15,"li",8),p.cc(16,"a",9),p.Uc(17,"Cuentas contables"),p.bc(),p.Sc(18,Bc,20,1,"ng-template",10),p.bc(),p.bc(),p.Xb(19,"div",11),p.bc(),p.bc(),p.cc(20,"div",12),p.cc(21,"app-footer-form",13),p.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),p.bc(),p.bc(),p.bc(),p.bc(),p.bc()),2&c){const c=p.Ic(10);p.Ib(4),p.Wc("",p.qc(5,10,p.qc(6,12,"general.createEdit"))," GRUPO CONTABLE"),p.Ib(4),p.vc("formGroup",t.customForm),p.Ib(1),p.vc("activeId",t.active),p.Ib(2),p.vc("ngbNavItem",1),p.Ib(4),p.vc("ngbNavItem",2),p.Ib(4),p.vc("ngbNavOutlet",c),p.Ib(2),p.vc("loading",t.loading)("showAaveACreate",!0)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose)}},directives:[i.z,i.q,i.h,l.u,l.w,l.x,l.v,l.z,A.a,i.c,i.p,i.g,i.w,s.a,a.m,s.d],pipes:[a.v,b.c],styles:["nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),c})();const Hc=[{path:"",component:m,children:[{path:"items",component:I},{path:"items/create",component:z},{path:"items/edit/:id",component:z},{path:"categories",component:rc},{path:"categories/create",component:lc},{path:"categories/edit/:id",component:lc},{path:"brands",component:pc},{path:"brands/create",component:fc},{path:"brands/edit/:id",component:fc},{path:"groups",component:Nc},{path:"groups/create",component:jc},{path:"groups/edit/:id",component:jc},{path:"attributes",component:Y},{path:"attributes/create",component:ec},{path:"attributes/edit/:id",component:ec},{path:"terms",component:_c},{path:"terms/create",component:xc},{path:"terms/edit/:id",component:xc},{path:"units",component:Xc},{path:"units/create",component:wc},{path:"units/edit/:id",component:wc}]}];let zc=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=p.Ub({type:c}),c.\u0275inj=p.Tb({imports:[[u.f.forChild(Hc)],u.f]}),c})();var Kc=e("pKmL");const Jc={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!0};let Zc=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=p.Ub({type:c}),c.\u0275inj=p.Tb({imports:[[a.c,l.t,Kc.a,l.C,d.b.forRoot(Jc),r.b,s.c,zc,n.b,i.v,b.b,o.a]]}),c})()}}]);