{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{aAFz:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"customCurrencyMaskConfig\",function(){return customCurrencyMaskConfig}),__webpack_require__.d(__webpack_exports__,\"ShoppingModule\",function(){return shopping_module_ShoppingModule});var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),jqwidgets_ng_jqxgrid=__webpack_require__(\"aSZe\"),jqwidgets_ng_jqxmenu=__webpack_require__(\"7M0M\"),jqwidgets_ng_jqxtabs=__webpack_require__(\"Z1v9\"),jqwidgets_ng_jqxdatatable=__webpack_require__(\"3HhI\"),ng_select_ng_select=__webpack_require__(\"ZOsW\"),ng_bootstrap=__webpack_require__(\"1kSV\"),ngx_currency=__webpack_require__(\"TT0I\"),core_module=__webpack_require__(\"pKmL\"),ngx_spinner=__webpack_require__(\"JqCM\"),ngx_translate_core=__webpack_require__(\"sYmb\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\");let shopping_component_ShoppingComponent=(()=>{class ShoppingComponent{}return ShoppingComponent.ɵfac=function(t){return new(t||ShoppingComponent)},ShoppingComponent.ɵcmp=core.Qb({type:ShoppingComponent,selectors:[[\"app-shopping\"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.Xb(0,\"router-outlet\")},directives:[fesm2015_router.g],encapsulation:2}),ShoppingComponent})();var jqx_custom_grid_component=__webpack_require__(\"py8Q\"),utils=__webpack_require__(\"YMfE\");const _c0=[\"customGrid\"],_c1=[\"searchField\"];function ProvidersComponent_div_66_Template(rf,ctx){if(1&rf){const _r5=core.dc();core.cc(0,\"div\"),core.cc(1,\"button\",21),core.mc(\"click\",function(){return core.Lc(_r5),core.oc().importData()}),core.Xb(2,\"i\",33),core.Uc(3),core.pc(4,\"translate\"),core.bc(),core.bc()}if(2&rf){const ctx_r1=core.oc();core.Ib(1),core.vc(\"disabled\",ctx_r1.loading),core.Ib(2),core.Wc(\" \",core.qc(4,2,\"buttons.import\"),\" \")}}let providers_component_ProvidersComponent=(()=>{class ProvidersComponent extends jqx_custom_grid_component.a{constructor(msg,api,router,translate,aRouter){super(msg,api,router,translate,aRouter),this.msg=msg,this.api=api,this.router=router,this.translate=translate,this.aRouter=aRouter,this.title=\"Proveedores\"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const ts=this;ts.crudApi={create:\"/persons/create/provider\",read:\"/persons/providers\",update:\"/persons/update/\",delete:\"/persons/delete/\"},ts.showActions=!0,ts.showRowNumber=!0,ts.pagesize=10,ts.datafields=[{name:\"id\",type:\"number\"},{name:\"company_name\",type:\"string\"},{name:\"dni\",type:\"string\"},{name:\"description\",type:\"string\"},{name:\"full_name\",type:\"string\"}],ts.sourceColumns=[{text:\"Mostrar nombre como\",datafield:\"full_name\",align:\"center\"},{text:\"DNI\",datafield:\"dni\",align:\"center\",minWidth:100,cellsalign:\"right\"},{text:\"Empresa\",datafield:\"company_name\",align:\"center\"}],this.prepareGrid()}createData(){super.createData(),this.goRoute(\"shopping/providers/create\")}editData(data){super.editData(data),this.goRoute(`shopping/providers/edit/${data.id}`)}}return ProvidersComponent.ɵfac=function(t){return new(t||ProvidersComponent)(core.Wb(utils.b),core.Wb(utils.a),core.Wb(fesm2015_router.c),core.Wb(ngx_translate_core.d),core.Wb(fesm2015_router.a))},ProvidersComponent.ɵcmp=core.Qb({type:ProvidersComponent,selectors:[[\"app-providers\"]],viewQuery:function(rf,ctx){if(1&rf&&(core.ad(_c0,1),core.ad(_c1,1)),2&rf){let _t;core.Hc(_t=core.nc())&&(ctx.customGrid=_t.first),core.Hc(_t=core.nc())&&(ctx.searchField=_t.first)}},features:[core.Fb],decls:77,vars:38,consts:[[1,\"card\"],[1,\"card-header\"],[1,\"card-title\"],[1,\"menuExport\"],[1,\"space-right\"],[1,\"btn\",\"btn-danger\",\"round\",\"mr-1\",\"mb-1\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-sync\",\"mr-1\",\"fas-fa-22\"],[1,\"myMenu\",\"space-right\"],[1,\"clearColor\",3,\"height\",\"onItemclick\"],[\"myMenu\",\"\"],[\"id\",\"Exports\"],[1,\"fas\",\"fa-cog\",\"fas-fa-22\",\"fas-fa-red\"],[\"href\",\"javascript:void(0)\"],[2,\"width\",\"200px\"],[1,\"fas\",\"fa-file-excel\",\"fas-fa-xls\"],[1,\"fas\",\"fa-file-csv\",\"fas-fa-xls\"],[\"type\",\"separator\"],[1,\"fas\",\"fa-file-pdf\",\"fas-fa-pdf\"],[1,\"fas\",\"fa-file-code\",\"fas-fa-code\"],[1,\"fas\",\"fa-print\",\"fas-fa-print\"],[1,\"margin-left\",\"space-right\"],[1,\"btn\",\"btn-success\",\"round\",\"mr-1\",\"mb-1\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-plus\",\"mr-1\",\"fas-fa-22\"],[4,\"ngIf\"],[1,\"container-fluid\"],[1,\"input-group\"],[\"type\",\"text\",\"autofocus\",\"\",1,\"form-control\",3,\"placeholder\",\"keyup\"],[\"searchField\",\"\"],[1,\"input-group-append\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-search\"],[\"width\",\"100%\",3,\"disabled\",\"auto-create\",\"onCellselect\",\"onBindingcomplete\"],[\"customGrid\",\"\"],[1,\"fa\",\"fa-upload\",\"mr-1\",\"fas-fa-22\"]],template:function(rf,ctx){1&rf&&(core.cc(0,\"div\",0),core.cc(1,\"div\",1),core.cc(2,\"h4\",2),core.Uc(3),core.pc(4,\"uppercase\"),core.bc(),core.bc(),core.cc(5,\"div\",0),core.cc(6,\"div\",3),core.cc(7,\"div\",4),core.cc(8,\"button\",5),core.mc(\"click\",function(){return ctx.searchQuery()}),core.Xb(9,\"i\",6),core.bc(),core.bc(),core.cc(10,\"div\",7),core.cc(11,\"jqxMenu\",8,9),core.mc(\"onItemclick\",function($event){return ctx.itemclick($event)}),core.cc(13,\"ul\"),core.cc(14,\"li\",10),core.Xb(15,\"i\",11),core.Xb(16,\"a\",12),core.cc(17,\"ul\",13),core.cc(18,\"li\"),core.cc(19,\"a\",12),core.Xb(20,\"i\",14),core.Uc(21),core.pc(22,\"translate\"),core.bc(),core.bc(),core.cc(23,\"li\"),core.cc(24,\"a\",12),core.Xb(25,\"i\",15),core.Uc(26),core.pc(27,\"translate\"),core.bc(),core.bc(),core.cc(28,\"li\"),core.cc(29,\"a\",12),core.Xb(30,\"i\",14),core.Uc(31),core.pc(32,\"translate\"),core.bc(),core.bc(),core.Xb(33,\"li\",16),core.cc(34,\"li\"),core.cc(35,\"a\",12),core.Xb(36,\"i\",17),core.Uc(37),core.pc(38,\"translate\"),core.bc(),core.bc(),core.Xb(39,\"li\",16),core.cc(40,\"li\"),core.cc(41,\"a\",12),core.Xb(42,\"i\",18),core.Uc(43),core.pc(44,\"translate\"),core.bc(),core.bc(),core.cc(45,\"li\"),core.cc(46,\"a\",12),core.Xb(47,\"i\",18),core.Uc(48),core.pc(49,\"translate\"),core.bc(),core.bc(),core.cc(50,\"li\"),core.cc(51,\"a\",12),core.Xb(52,\"i\",18),core.Uc(53),core.pc(54,\"translate\"),core.bc(),core.bc(),core.Xb(55,\"li\",16),core.cc(56,\"li\"),core.cc(57,\"a\",12),core.Xb(58,\"i\",19),core.Uc(59),core.pc(60,\"translate\"),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(61,\"div\",20),core.cc(62,\"button\",21),core.mc(\"click\",function(){return ctx.createData()}),core.Xb(63,\"i\",22),core.Uc(64),core.pc(65,\"translate\"),core.bc(),core.bc(),core.Sc(66,ProvidersComponent_div_66_Template,5,4,\"div\",23),core.bc(),core.cc(67,\"div\",24),core.cc(68,\"fieldset\"),core.cc(69,\"div\",25),core.cc(70,\"input\",26,27),core.mc(\"keyup\",function($event){return ctx.inputKey($event)}),core.bc(),core.cc(72,\"div\",28),core.cc(73,\"button\",29),core.mc(\"click\",function(){return ctx.searchQuery()}),core.Xb(74,\"i\",30),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(75,\"jqxGrid\",31,32),core.mc(\"onCellselect\",function($event){return ctx.cellClick($event)})(\"onBindingcomplete\",function($event){return ctx.Bindingcomplete($event)}),core.bc(),core.bc(),core.bc(),core.bc()),2&rf&&(core.Ib(3),core.Vc(core.qc(4,18,ctx.title)),core.Ib(5),core.vc(\"disabled\",ctx.loading),core.Ib(3),core.vc(\"height\",36),core.Ib(10),core.Vc(core.qc(22,20,\"export.excel\")),core.Ib(5),core.Vc(core.qc(27,22,\"export.csv\")),core.Ib(5),core.Vc(core.qc(32,24,\"export.xml\")),core.Ib(6),core.Vc(core.qc(38,26,\"export.pdf\")),core.Ib(6),core.Vc(core.qc(44,28,\"export.html\")),core.Ib(5),core.Vc(core.qc(49,30,\"export.json\")),core.Ib(5),core.Vc(core.qc(54,32,\"export.tsv\")),core.Ib(6),core.Vc(core.qc(60,34,\"export.print\")),core.Ib(3),core.vc(\"disabled\",ctx.loading),core.Ib(2),core.Wc(\" \",core.qc(65,36,\"buttons.new\"),\" \"),core.Ib(2),core.vc(\"ngIf\",ctx.useImport),core.Ib(4),core.vc(\"placeholder\",ctx.placeholderSearch),core.Ib(3),core.vc(\"disabled\",ctx.loading),core.Ib(2),core.vc(\"disabled\",ctx.loading)(\"auto-create\",!1))},directives:[jqwidgets_ng_jqxmenu.a,common.n,jqwidgets_ng_jqxgrid.a],pipes:[common.v,ngx_translate_core.c],encapsulation:2}),ProvidersComponent})();var form_component=__webpack_require__(\"TK7J\"),products=__webpack_require__(\"UnFQ\"),global=__webpack_require__(\"Absx\"),companies=__webpack_require__(\"mm0L\"),general=__webpack_require__(\"PcHl\"),accounting=__webpack_require__(\"dKyG\"),footer_form_component=__webpack_require__(\"uHPU\");const provider_form_component_c0=[\"focusElement\"],provider_form_component_c1=[\"uploadFile\"],_c2=[\"imgUp\"];function ProviderFormComponent_ng_template_13_ng_option_10_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Uc(1),core.bc()),2&rf){const typeOrg_r8=ctx.$implicit;core.vc(\"value\",typeOrg_r8.id),core.Ib(1),core.Wc(\"\",typeOrg_r8.description,\" \")}}function ProviderFormComponent_ng_template_13_ng_option_30_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Xb(1,\"img\",32),core.Uc(2),core.bc()),2&rf){const curre_r9=ctx.$implicit;core.vc(\"value\",curre_r9.id),core.Ib(1),core.vc(\"src\",\"assets/flags/\"+curre_r9.image,core.Oc),core.Ib(1),core.Wc(\" \",curre_r9.CurrencyName,\" \")}}function ProviderFormComponent_ng_template_13_ng_option_40_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Xb(1,\"img\",32),core.Uc(2),core.bc()),2&rf){const country_r10=ctx.$implicit;core.vc(\"value\",country_r10.id),core.Ib(1),core.vc(\"src\",\"assets/flags/\"+country_r10.image,core.Oc),core.Ib(1),core.Wc(\" \",country_r10.country_name,\" \")}}function ProviderFormComponent_ng_template_13_Template(rf,ctx){if(1&rf&&(core.cc(0,\"div\",12),core.cc(1,\"div\",13),core.cc(2,\"div\",14),core.cc(3,\"label\"),core.cc(4,\"span\",15),core.Uc(5),core.pc(6,\"translate\"),core.bc(),core.Uc(7),core.pc(8,\"translate\"),core.bc(),core.cc(9,\"ng-select\",16),core.Sc(10,ProviderFormComponent_ng_template_13_ng_option_10_Template,2,2,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.cc(11,\"div\",13),core.cc(12,\"div\",14),core.cc(13,\"label\"),core.cc(14,\"span\",15),core.Uc(15),core.pc(16,\"translate\"),core.bc(),core.Uc(17,\"Mostrar nombre como\"),core.bc(),core.Xb(18,\"input\",18,19),core.bc(),core.bc(),core.bc(),core.cc(20,\"div\",12),core.cc(21,\"div\",13),core.cc(22,\"div\",14),core.cc(23,\"label\"),core.cc(24,\"span\",15),core.Uc(25),core.pc(26,\"translate\"),core.bc(),core.Uc(27),core.pc(28,\"translate\"),core.bc(),core.cc(29,\"ng-select\",20),core.Sc(30,ProviderFormComponent_ng_template_13_ng_option_30_Template,3,3,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.cc(31,\"div\",13),core.cc(32,\"div\",14),core.cc(33,\"label\"),core.cc(34,\"span\",15),core.Uc(35),core.pc(36,\"translate\"),core.bc(),core.Uc(37),core.pc(38,\"translate\"),core.bc(),core.cc(39,\"ng-select\",21),core.Sc(40,ProviderFormComponent_ng_template_13_ng_option_40_Template,3,3,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(41,\"div\",12),core.cc(42,\"div\",22),core.cc(43,\"div\",14),core.cc(44,\"label\"),core.Uc(45,\"Titulo\"),core.bc(),core.Xb(46,\"input\",23),core.bc(),core.bc(),core.cc(47,\"div\",24),core.cc(48,\"div\",14),core.cc(49,\"label\"),core.Uc(50,\"Nombres\"),core.bc(),core.Xb(51,\"input\",25),core.bc(),core.bc(),core.cc(52,\"div\",24),core.cc(53,\"div\",14),core.cc(54,\"label\"),core.Uc(55,\"Apellidos\"),core.bc(),core.Xb(56,\"input\",26),core.bc(),core.bc(),core.bc(),core.cc(57,\"div\",12),core.cc(58,\"div\",13),core.cc(59,\"div\",14),core.cc(60,\"label\"),core.Uc(61,\"DNI\"),core.bc(),core.Xb(62,\"input\",27),core.bc(),core.bc(),core.cc(63,\"div\",13),core.cc(64,\"div\",14),core.cc(65,\"label\"),core.Uc(66,\"Nombre de la empresa\"),core.bc(),core.Xb(67,\"input\",28),core.bc(),core.bc(),core.bc(),core.cc(68,\"div\",12),core.cc(69,\"div\",13),core.cc(70,\"div\",14),core.cc(71,\"label\"),core.Uc(72,\"Correo electrónico\"),core.bc(),core.Xb(73,\"input\",29),core.bc(),core.bc(),core.cc(74,\"div\",13),core.cc(75,\"div\",14),core.cc(76,\"label\"),core.Uc(77,\"Web\"),core.bc(),core.Xb(78,\"input\",30),core.bc(),core.bc(),core.bc()),2&rf){const ctx_r1=core.oc();core.Ib(5),core.Vc(core.qc(6,25,\"general.asterisk\")),core.Ib(2),core.Vc(core.qc(8,27,\"companies.type_organization\")),core.Ib(2),core.Ob(\"is-invalid\",ctx_r1.invalidOrganization),core.vc(\"virtualScroll\",!0),core.Ib(1),core.vc(\"ngForOf\",ctx_r1.typeOrg),core.Ib(5),core.Vc(core.qc(16,29,\"general.asterisk\")),core.Ib(3),core.Ob(\"is-invalid\",ctx_r1.invalidFullName)(\"status-danger\",ctx_r1.invalidFullName),core.Ib(7),core.Vc(core.qc(26,31,\"general.asterisk\")),core.Ib(2),core.Vc(core.qc(28,33,\"companies.currency\")),core.Ib(2),core.Ob(\"is-invalid\",ctx_r1.invalidCurrency),core.vc(\"virtualScroll\",!0),core.Ib(1),core.vc(\"ngForOf\",ctx_r1.currency),core.Ib(5),core.Vc(core.qc(36,35,\"general.asterisk\")),core.Ib(2),core.Vc(core.qc(38,37,\"companies.country\")),core.Ib(2),core.Ob(\"is-invalid\",ctx_r1.invalidCountry)(\"status-danger\",ctx_r1.invalidCountry),core.vc(\"virtualScroll\",!0),core.Ib(1),core.vc(\"ngForOf\",ctx_r1.countries)}}function ProviderFormComponent_ng_template_17_Template(rf,ctx){1&rf&&(core.cc(0,\"div\",12),core.cc(1,\"div\",13),core.cc(2,\"div\",14),core.cc(3,\"label\"),core.Uc(4,\"Dirección principal\"),core.bc(),core.Xb(5,\"textarea\",33),core.bc(),core.bc(),core.cc(6,\"div\",13),core.cc(7,\"div\",14),core.cc(8,\"label\"),core.Uc(9,\"Dirección postal\"),core.bc(),core.Xb(10,\"textarea\",34),core.bc(),core.bc(),core.bc(),core.cc(11,\"div\",12),core.cc(12,\"div\",13),core.cc(13,\"div\",14),core.cc(14,\"label\"),core.Uc(15,\"Ciudad/Distrito\"),core.bc(),core.Xb(16,\"input\",35),core.bc(),core.bc(),core.cc(17,\"div\",13),core.cc(18,\"label\"),core.Uc(19,\"Estado/Provincia\"),core.bc(),core.Xb(20,\"input\",36),core.bc(),core.bc(),core.cc(21,\"div\",12),core.cc(22,\"div\",13),core.cc(23,\"div\",14),core.cc(24,\"label\"),core.Uc(25,\"Código postal\"),core.bc(),core.Xb(26,\"input\",37),core.bc(),core.bc(),core.cc(27,\"div\",13),core.cc(28,\"label\"),core.Uc(29,\"Movil\"),core.bc(),core.Xb(30,\"input\",38),core.bc(),core.bc(),core.cc(31,\"div\",12),core.cc(32,\"div\",13),core.cc(33,\"div\",14),core.cc(34,\"label\"),core.Uc(35,\"Fijo\"),core.bc(),core.Xb(36,\"input\",39),core.bc(),core.bc(),core.bc())}function ProviderFormComponent_ng_template_21_ng_option_9_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Uc(1),core.bc()),2&rf){const tax_r15=ctx.$implicit;core.vc(\"value\",tax_r15.id),core.Ib(1),core.Xc(\" \",tax_r15.name_taxe,\" - \",tax_r15.rate_name,\" \")}}function ProviderFormComponent_ng_template_21_ng_option_17_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Uc(1),core.bc()),2&rf){const account_r16=ctx.$implicit;core.vc(\"value\",account_r16.id),core.Ib(1),core.Xc(\" \",account_r16.account_number,\" - \",account_r16.account_name,\" \")}}function ProviderFormComponent_ng_template_21_ng_option_26_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Uc(1),core.bc()),2&rf){const payment_r17=ctx.$implicit;core.vc(\"value\",payment_r17.id),core.Ib(1),core.Wc(\" \",payment_r17.payment_method,\" \")}}function ProviderFormComponent_ng_template_21_ng_option_34_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",31),core.Uc(1),core.bc()),2&rf){const timel_r18=ctx.$implicit;core.vc(\"value\",timel_r18.id),core.Ib(1),core.Wc(\" \",timel_r18.term_name,\" \")}}function ProviderFormComponent_ng_template_21_Template(rf,ctx){if(1&rf&&(core.cc(0,\"div\",12),core.cc(1,\"div\",13),core.cc(2,\"div\",14),core.cc(3,\"label\"),core.Uc(4),core.pc(5,\"translate\"),core.bc(),core.cc(6,\"ng-select\",40),core.cc(7,\"ng-option\",41),core.Uc(8,\"Seleccionar\"),core.bc(),core.Sc(9,ProviderFormComponent_ng_template_21_ng_option_9_Template,2,3,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.cc(10,\"div\",13),core.cc(11,\"div\",14),core.cc(12,\"label\"),core.Uc(13,\"Cuenta contable\"),core.bc(),core.cc(14,\"ng-select\",42),core.cc(15,\"ng-option\",41),core.Uc(16,\"Seleccionar\"),core.bc(),core.Sc(17,ProviderFormComponent_ng_template_21_ng_option_17_Template,2,3,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(18,\"div\",12),core.cc(19,\"div\",13),core.cc(20,\"div\",14),core.cc(21,\"label\"),core.Uc(22,\"Metodo de pago preferido\"),core.bc(),core.cc(23,\"ng-select\",43),core.cc(24,\"ng-option\",41),core.Uc(25,\"Seleccionar\"),core.bc(),core.Sc(26,ProviderFormComponent_ng_template_21_ng_option_26_Template,2,2,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.cc(27,\"div\",13),core.cc(28,\"div\",14),core.cc(29,\"label\"),core.Uc(30,\"Condiciones de pago\"),core.bc(),core.cc(31,\"ng-select\",44),core.cc(32,\"ng-option\",41),core.Uc(33,\"Seleccionar\"),core.bc(),core.Sc(34,ProviderFormComponent_ng_template_21_ng_option_34_Template,2,2,\"ng-option\",17),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(35,\"div\",12),core.cc(36,\"div\",13),core.cc(37,\"div\",14),core.cc(38,\"label\"),core.Uc(39,\"Saldo inicial\"),core.bc(),core.Xb(40,\"input\",45),core.bc(),core.bc(),core.cc(41,\"div\",13),core.cc(42,\"div\",14),core.cc(43,\"label\"),core.Uc(44,\"A partir de la fecha\"),core.bc(),core.Xb(45,\"input\",46),core.bc(),core.bc(),core.bc()),2&rf){const ctx_r3=core.oc();core.Ib(4),core.Vc(core.qc(5,8,\"general.tax\")),core.Ib(5),core.vc(\"ngForOf\",ctx_r3.tax),core.Ib(5),core.vc(\"virtualScroll\",!0),core.Ib(3),core.vc(\"ngForOf\",ctx_r3.accounts),core.Ib(6),core.vc(\"virtualScroll\",!0),core.Ib(3),core.vc(\"ngForOf\",ctx_r3.payments),core.Ib(5),core.vc(\"virtualScroll\",!0),core.Ib(3),core.vc(\"ngForOf\",ctx_r3.timelimits)}}let provider_form_component_ProviderFormComponent=(()=>{class ProviderFormComponent extends form_component.a{constructor(fb,msg,api,router,translate,aRouter,termsSer,attrSer,spinner,docs,cnt,curr,tor,taxSer,accountSer,custSer){super(fb,msg,api,router,translate,aRouter,spinner),this.fb=fb,this.msg=msg,this.api=api,this.router=router,this.translate=translate,this.aRouter=aRouter,this.termsSer=termsSer,this.attrSer=attrSer,this.spinner=spinner,this.docs=docs,this.cnt=cnt,this.curr=curr,this.tor=tor,this.taxSer=taxSer,this.accountSer=accountSer,this.custSer=custSer,this.typepersons=[],this.identityDocs=[],this.typeOrg=[],this.countries=[],this.currency=[],this.tax=[],this.persons=[],this.accounts=[],this.payments=[],this.timelimits=[],this.active=1,this.title=\"Proveedor\",this.translate.setDefaultLang(this.activeLang),this.customForm=this.fb.group({address:[\"\"],city_name:[\"\"],company_name:[\"\"],description:[\"\"],dni:[\"\"],email:[\"\"],last_name:[\"\"],location:[\"\"],mobile:[\"\"],names:[\"\"],phone:[\"\"],postal_code:[\"\"],state_name:[\"\"],title:[\"\"],web:[\"\"],currency_id:[\"\",[fesm2015_forms.y.required]],country_id:[113,[fesm2015_forms.y.required]],type_organization_id:[1,[fesm2015_forms.y.required]],person_type_id:[1,[fesm2015_forms.y.required]],tax_rate_id:[\"0\"],means_payment_id:[\"0\"],sales_term:[\"0\"],accounting_account_id:[\"0\"],initial_balance:[\"\"],initial_date:[(new Date).toISOString().split(\"T\")[0]],full_name:[\"\",[fesm2015_forms.y.required,fesm2015_forms.y.minLength(6)]]})}get invalidFullName(){return this.customForm.get(\"full_name\").invalid&&this.customForm.get(\"full_name\").touched}get invalidPersonType(){return this.customForm.get(\"person_type_id\").value<=0}get invalidCountry(){return this.customForm.get(\"country_id\").value<=0}get invalidCurrency(){return this.customForm.get(\"currency_id\").value<=0}get invalidOrganization(){return this.customForm.get(\"type_organization_id\").value<=0}ngOnInit(){super.ngOnInit();const ts=this;ts.PutURL=\"/persons/update/\",ts.PostURL=\"/persons/create/provider\",ts.docs.getData({}).subscribe(resp=>{ts.identityDocs=resp}),ts.cnt.getData().subscribe(resp=>{ts.countries=resp}),ts.curr.getData().subscribe(resp=>{ts.currency=resp,resp.length>0&&(resp.length>1?resp.map(val=>{if(val.national_currency)return ts.customForm.get(\"currency_id\").setValue(val.id),!1}):ts.customForm.get(\"currency_id\").setValue(resp[0].id))}),this.tor.getData({}).subscribe(resp=>{this.typeOrg=resp}),ts.taxSer.getData({isVat:1}).subscribe(resp=>{ts.tax=resp}),ts.accountSer.getsubAccounts({}).subscribe(resp=>{ts.accounts=resp}),ts.custSer.getMeansPayment({}).subscribe(resp=>{ts.payments=resp}),ts.custSer.getTimeLimit({}).subscribe(resp=>{ts.timelimits=resp})}loadData(id=0){const frm=this.customForm;this.editing=!0,this.custSer.getCustomers({uid:id}).subscribe(resp=>{var _a,_b,_c,_d,_e,_f;frm.setValue({address:resp[0].address,city_name:resp[0].city_name,company_name:resp[0].company_name,country_id:resp[0].country_id,currency_id:resp[0].currency_id,description:resp[0].description,dni:resp[0].dni,email:resp[0].email,full_name:resp[0].full_name,last_name:resp[0].last_name,location:resp[0].location,mobile:resp[0].mobile,names:resp[0].names,person_type_id:resp[0].person_type_id,type_organization_id:resp[0].type_organization_id,tax_rate_id:null!==(_a=resp[0].tax_rate_id)&&void 0!==_a?_a:\"0\",means_payment_id:null!==(_b=resp[0].means_payment_id)&&void 0!==_b?_b:\"0\",sales_term:null!==(_c=resp[0].sales_term)&&void 0!==_c?_c:\"0\",accounting_account_id:null!==(_d=resp[0].accounting_account_id)&&void 0!==_d?_d:\"0\",initial_balance:null!==(_e=resp[0].initial_balance)&&void 0!==_e?_e:0,initial_date:null!==(_f=resp[0].initial_date)&&void 0!==_f?_f:(new Date).toISOString().split(\"T\")[0],phone:resp[0].phone,postal_code:resp[0].postal_code,state_name:resp[0].state_name,title:resp[0].title,web:resp[0].web})})}}return ProviderFormComponent.ɵfac=function(t){return new(t||ProviderFormComponent)(core.Wb(fesm2015_forms.e),core.Wb(utils.b),core.Wb(utils.a),core.Wb(fesm2015_router.c),core.Wb(ngx_translate_core.d),core.Wb(fesm2015_router.a),core.Wb(products.h),core.Wb(products.a),core.Wb(ngx_spinner.c),core.Wb(global.c),core.Wb(global.a),core.Wb(global.b),core.Wb(companies.d),core.Wb(general.f),core.Wb(accounting.b),core.Wb(general.b))},ProviderFormComponent.ɵcmp=core.Qb({type:ProviderFormComponent,selectors:[[\"app-customer-form\"]],viewQuery:function(rf,ctx){if(1&rf&&(core.ad(provider_form_component_c0,1),core.ad(provider_form_component_c1,1),core.ad(_c2,1)),2&rf){let _t;core.Hc(_t=core.nc())&&(ctx.focusElement=_t.first),core.Hc(_t=core.nc())&&(ctx.uploadFile=_t.first),core.Hc(_t=core.nc())&&(ctx.imgUp=_t.first)}},features:[core.Fb],decls:25,vars:18,consts:[[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[3,\"formGroup\"],[\"ngbNav\",\"\",1,\"nav-tabs\",3,\"activeId\",\"activeIdChange\"],[\"nav\",\"ngbNav\"],[3,\"ngbNavItem\"],[\"ngbNavLink\",\"\",1,\"display-none\"],[\"ngbNavContent\",\"\"],[1,\"mt-2\",3,\"ngbNavOutlet\"],[1,\"card-footer\"],[3,\"loading\",\"showAaveACreate\",\"saveAClose\",\"closeEvent\",\"saveAndCreateEvent\",\"saveAndCloseEvent\"],[1,\"row\"],[1,\"col-md-6\"],[1,\"form-group\"],[1,\"asterisk\"],[\"formControlName\",\"type_organization_id\",\"required\",\"\",\"name\",\"type_organization_id\",3,\"virtualScroll\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"type\",\"text\",\"formControlName\",\"full_name\",\"required\",\"\",\"autofocus\",\"\",1,\"form-control\"],[\"focusElement\",\"\"],[\"formControlName\",\"currency_id\",\"name\",\"currency_id\",\"required\",\"\",3,\"virtualScroll\"],[\"formControlName\",\"country_id\",\"required\",\"\",3,\"virtualScroll\"],[1,\"col-md-2\"],[\"type\",\"text\",\"formControlName\",\"title\",\"name\",\"title\",1,\"form-control\"],[1,\"col-md-5\"],[\"type\",\"text\",\"formControlName\",\"names\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"last_name\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"dni\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"company_name\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"email\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"web\",1,\"form-control\"],[3,\"value\"],[\"height\",\"15\",\"width\",\"15\",3,\"src\"],[\"formControlName\",\"address\",\"rows\",\"2\",1,\"form-control\"],[\"formControlName\",\"location\",\"rows\",\"2\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"city_name\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"state_name\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"postal_code\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"mobile\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"phone\",1,\"form-control\"],[\"formControlName\",\"tax_rate_id\"],[\"value\",\"0\"],[\"formControlName\",\"accounting_account_id\",3,\"virtualScroll\"],[\"formControlName\",\"means_payment_id\",3,\"virtualScroll\"],[\"formControlName\",\"sales_term\",3,\"virtualScroll\"],[\"currencyMask\",\"\",\"name\",\"initial_balance\",\"formControlName\",\"initial_balance\",1,\"form-control\"],[\"type\",\"date\",\"name\",\"initial_date\",\"formControlName\",\"initial_date\",1,\"form-control\"]],template:function(rf,ctx){if(1&rf&&(core.cc(0,\"div\",0),core.cc(1,\"div\",1),core.Uc(2),core.pc(3,\"uppercase\"),core.pc(4,\"translate\"),core.pc(5,\"uppercase\"),core.bc(),core.cc(6,\"div\",2),core.cc(7,\"form\",3),core.cc(8,\"ul\",4,5),core.mc(\"activeIdChange\",function($event){return ctx.active=$event}),core.cc(10,\"li\",6),core.cc(11,\"a\",7),core.Uc(12,\"General\"),core.bc(),core.Sc(13,ProviderFormComponent_ng_template_13_Template,79,39,\"ng-template\",8),core.bc(),core.cc(14,\"li\",6),core.cc(15,\"a\",7),core.Uc(16,\"Ubicación/Dirección\"),core.bc(),core.Sc(17,ProviderFormComponent_ng_template_17_Template,37,0,\"ng-template\",8),core.bc(),core.cc(18,\"li\",6),core.cc(19,\"a\",7),core.Uc(20,\"Pago y facturación\"),core.bc(),core.Sc(21,ProviderFormComponent_ng_template_21_Template,46,10,\"ng-template\",8),core.bc(),core.bc(),core.Xb(22,\"div\",9),core.bc(),core.bc(),core.cc(23,\"div\",10),core.cc(24,\"app-footer-form\",11),core.mc(\"closeEvent\",function(){return ctx.cancel()})(\"saveAndCreateEvent\",function(){return ctx.saveAndCreate()})(\"saveAndCloseEvent\",function(){return ctx.saveAndClose()}),core.bc(),core.bc(),core.bc()),2&rf){const _r0=core.Ic(9);core.Ib(2),core.Xc(\" \",core.qc(3,12,core.qc(4,14,\"general.createEdit\")),\" \",core.qc(5,16,ctx.title),\" \"),core.Ib(5),core.vc(\"formGroup\",ctx.customForm),core.Ib(1),core.vc(\"activeId\",ctx.active),core.Ib(2),core.vc(\"ngbNavItem\",1),core.Ib(4),core.vc(\"ngbNavItem\",2),core.Ib(4),core.vc(\"ngbNavItem\",3),core.Ib(4),core.vc(\"ngbNavOutlet\",_r0),core.Ib(2),core.vc(\"loading\",ctx.loading)(\"showAaveACreate\",!0)(\"saveAClose\",ctx.saveAClose)(\"saveAClose\",ctx.saveAClose)}},directives:[fesm2015_forms.z,fesm2015_forms.q,fesm2015_forms.h,ng_bootstrap.u,ng_bootstrap.w,ng_bootstrap.x,ng_bootstrap.v,ng_bootstrap.z,footer_form_component.a,ng_select_ng_select.a,fesm2015_forms.p,fesm2015_forms.g,fesm2015_forms.w,common.m,fesm2015_forms.c,ng_select_ng_select.d,ngx_currency.a],pipes:[common.v,ngx_translate_core.c],styles:[\"nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}\"]}),ProviderFormComponent})();var sweetalert2_all=__webpack_require__(\"PSD3\"),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all);const invoices_component_c0=[\"customGrid\"],invoices_component_c1=[\"detailGrid\"],invoices_component_c2=[\"searchField\"],_c3=[\"myTabs\"];function InvoicesComponent_div_74_Template(rf,ctx){if(1&rf){const _r7=core.dc();core.cc(0,\"div\"),core.cc(1,\"button\",24),core.mc(\"click\",function(){return core.Lc(_r7),core.oc().importData()}),core.Xb(2,\"i\",39),core.Uc(3),core.pc(4,\"translate\"),core.bc(),core.bc()}if(2&rf){const ctx_r2=core.oc();core.Ib(1),core.vc(\"disabled\",ctx_r2.loading),core.Ib(2),core.Wc(\" \",core.qc(4,2,\"buttons.import\"),\" \")}}let invoices_component_InvoicesComponent=(()=>{class InvoicesComponent extends jqx_custom_grid_component.a{constructor(msg,api,router,translate,aRouter,shopSer){super(msg,api,router,translate,aRouter),this.msg=msg,this.api=api,this.router=router,this.translate=translate,this.aRouter=aRouter,this.shopSer=shopSer,this.title=\"Registro de compras\",this.invoiceName=\"\",this.source2={localdata:[],datafields:[{name:\"active\",type:\"boolean\"},{name:\"admission_date\",type:\"string\"},{name:\"amount\",type:\"number\"},{name:\"barcode\",type:\"string\"},{name:\"batch\",type:\"string\"},{name:\"expiration_date\",type:\"string\"},{name:\"fabrication_date\",type:\"string\"},{name:\"freight\",type:\"number\"},{name:\"id\",type:\"number\"},{name:\"internal_code\",type:\"string\"},{name:\"invoice_id\",type:\"number\"},{name:\"perishable\",type:\"boolean\"},{name:\"product_id\",type:\"number\"},{name:\"product_name\",type:\"string\"},{name:\"sale_price\",type:\"number\"},{name:\"state\",type:\"number\"},{name:\"tax_bill\",type:\"number\"},{name:\"tax_bill_id\",type:\"number\"},{name:\"tax_sale\",type:\"number\"},{name:\"tax_sale_id\",type:\"number\"},{name:\"total_cost\",type:\"number\"},{name:\"unit_cost\",type:\"number\"},{name:\"vat_included\",type:\"boolean\"}],datatype:\"array\"},this.dataAdapter2=new jqx.dataAdapter(this.source2),this.columnsDet=[{columngroup:\"Actions\",text:\"\",sortable:!1,filterable:!1,editable:!1,align:\"center\",groupable:!1,draggable:!1,resizable:!1,datafield:\"#delete_#\",columntype:\"text\",width:32,cellsrenderer:(row,column,value)=>'<span><i class=\"fas fa-trash-alt fas-fa-delete fa-cursor\"></i></span>'},{text:\"Cantidad\",datafield:\"amount\",align:\"center\",width:80,cellsalign:\"right\"},{text:\"Producto\",datafield:\"product_name\",align:\"center\",minWidth:250},{text:\"Precio unitario\",datafield:\"unit_cost\",align:\"center\",cellsalign:\"right\",cellsformat:\"c2\",width:120},{text:\"Precio de venta\",datafield:\"sale_price\",align:\"center\",cellsalign:\"right\",cellsformat:\"c2\",width:120},{text:\"Total\",datafield:\"total_cost\",align:\"center\",cellsalign:\"right\",cellsformat:\"c2\",width:120}]}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const ts=this;ts.crudApi={create:\"/shopping/create\",read:\"/shopping/read\",update:\"/shopping/update/\",delete:\"/shopping/delete/\"},ts.showActions=!0,ts.showRowNumber=!0,ts.pagesize=10,ts.datafields=[{name:\"id\",type:\"number\"},{name:\"invoice_nro\",type:\"string\"},{name:\"total\",type:\"number\"},{name:\"branch_name\",type:\"string\"},{name:\"full_name\",type:\"string\"},{name:\"winery_name\",type:\"string\"}],ts.sourceColumns=[{columngroup:\"Actions\",text:\"\",sortable:!1,filterable:!1,editable:!1,align:\"center\",groupable:!1,draggable:!1,resizable:!1,datafield:\"#edit_shopping_#\",columntype:\"text\",width:32,cellsrenderer:(row,column,value)=>'<span><i class=\"fas fa-shopping-cart fas-fa-edit fa-cursor\"></i></span>'},{text:\"Nº. Factura\",datafield:\"invoice_nro\",align:\"center\",minwidth:80,width:100},{text:\"Proveedor\",datafield:\"full_name\",align:\"center\",minwidth:100},{text:\"Bodega\",datafield:\"branch_name\",align:\"center\",minwidth:100},{text:\"Total\",datafield:\"total\",align:\"center\",cellsalign:\"right\",cellsformat:\"c2\",minwidth:100}],this.prepareGrid()}cellDetailClick(event){const data=event.args,row=this.detailGrid.getrowdata(data.rowindex);\"#edit_#\"===data.datafield?this.goRoute(`shopping/invoices/detail/edit/${row.id}`):\"#delete_#\"===data.datafield&&this.deleteDetail(row)}cellClick(event){const data=event.args,row=this.customGrid.getrowdata(data.rowindex),ts=this;ts.invoiceName=row.invoice_nro,\"#edit_shopping_#\"===data.datafield?ts.goRoute(`shopping/invoices/create/detail/${row.id}`):\"#edit_#\"===data.datafield?ts.editData(row):\"#delete_#\"===data.datafield?ts.deleteData(row):ts.refreshDetail(row.id)}deleteDetail(data){const ts=this,lang=ts.translate;sweetalert2_all_default.a.fire({title:lang.instant(\"titleMessages.delete\"),text:lang.instant(\"bodyMessages.delete\"),icon:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:lang.instant(\"buttons.yes\"),cancelButtonText:lang.instant(\"buttons.not\")}).then(result=>{result.value&&ts.api.delete(`/shopping/delete/detail/${data.id}`).subscribe(resp=>{ts.refreshDetail(data.invoice_id)},err=>{ts.msg.toastMessage(lang.instant(\"general.error\"),err.error.message,4)})})}refreshDetail(id){const ts=this;ts.source2.localdata=[],ts.detailGrid.updatebounddata(\"cells\"),ts.detailGrid.showloadelement(),ts.shopSer.getDetail(id).subscribe(resp=>{ts.source2.localdata=resp,ts.detailGrid.updatebounddata(\"cells\"),ts.detailGrid.hideloadelement()},()=>ts.detailGrid.hideloadelement())}createData(){super.createData(),this.goRoute(\"shopping/invoices/create\")}editData(data){super.editData(data),this.goRoute(`shopping/invoices/edit/${data.id}`)}}return InvoicesComponent.ɵfac=function(t){return new(t||InvoicesComponent)(core.Wb(utils.b),core.Wb(utils.a),core.Wb(fesm2015_router.c),core.Wb(ngx_translate_core.d),core.Wb(fesm2015_router.a),core.Wb(global.e))},InvoicesComponent.ɵcmp=core.Qb({type:InvoicesComponent,selectors:[[\"app-invoices\"]],viewQuery:function(rf,ctx){if(1&rf&&(core.ad(invoices_component_c0,1),core.ad(invoices_component_c1,1),core.ad(invoices_component_c2,1),core.ad(_c3,1)),2&rf){let _t;core.Hc(_t=core.nc())&&(ctx.customGrid=_t.first),core.Hc(_t=core.nc())&&(ctx.detailGrid=_t.first),core.Hc(_t=core.nc())&&(ctx.searchField=_t.first),core.Hc(_t=core.nc())&&(ctx.myTabs=_t.first)}},features:[core.Fb],decls:93,vars:56,consts:[[3,\"width\",\"height\",\"position\",\"animationType\",\"selectionTracker\",\"theme\"],[\"myTabs\",\"\"],[2,\"margin-left\",\"30px\"],[1,\"card\"],[1,\"card-header\"],[1,\"card-title\"],[1,\"menuExport\"],[1,\"space-right\"],[1,\"btn\",\"btn-danger\",\"round\",\"mr-1\",\"mb-1\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-sync\",\"mr-1\",\"fas-fa-22\"],[1,\"myMenu\",\"space-right\"],[1,\"clearColor\",3,\"height\",\"onItemclick\"],[\"myMenu\",\"\"],[\"id\",\"Exports\"],[1,\"fas\",\"fa-cog\",\"fas-fa-22\",\"fas-fa-red\"],[\"href\",\"javascript:void(0)\"],[2,\"width\",\"200px\"],[1,\"fas\",\"fa-file-excel\",\"fas-fa-xls\"],[1,\"fas\",\"fa-file-csv\",\"fas-fa-xls\"],[\"type\",\"separator\"],[1,\"fas\",\"fa-file-pdf\",\"fas-fa-pdf\"],[1,\"fas\",\"fa-file-code\",\"fas-fa-code\"],[1,\"fas\",\"fa-print\",\"fas-fa-print\"],[1,\"margin-left\",\"space-right\"],[1,\"btn\",\"btn-success\",\"round\",\"mr-1\",\"mb-1\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-plus\",\"mr-1\",\"fas-fa-22\"],[4,\"ngIf\"],[1,\"container-fluid\"],[1,\"input-group\"],[\"type\",\"text\",\"autofocus\",\"\",1,\"form-control\",3,\"placeholder\",\"keyup\"],[\"searchField\",\"\"],[1,\"input-group-append\"],[1,\"btn\",\"btn-primary\",3,\"disabled\",\"click\"],[1,\"fa\",\"fa-search\"],[\"width\",\"100%\",3,\"disabled\",\"auto-create\",\"onCellselect\",\"onBindingcomplete\"],[\"customGrid\",\"\"],[1,\"example-items-col\"],[\"width\",\"100%\",3,\"source\",\"columns\",\"theme\",\"disabled\",\"selectionmode\",\"columnsresize\",\"sortable\",\"filterable\",\"showfilterrow\",\"onCellselect\"],[\"detailGrid\",\"\"],[1,\"fa\",\"fa-upload\",\"mr-1\",\"fas-fa-22\"]],template:function(rf,ctx){1&rf&&(core.cc(0,\"jqxTabs\",0,1),core.cc(2,\"ul\"),core.cc(3,\"li\",2),core.Uc(4,\"Facturas\"),core.bc(),core.cc(5,\"li\"),core.Uc(6,\"Detalle de la factura\"),core.bc(),core.bc(),core.cc(7,\"div\"),core.cc(8,\"div\",3),core.cc(9,\"div\",4),core.cc(10,\"h4\",5),core.Uc(11),core.pc(12,\"uppercase\"),core.bc(),core.bc(),core.cc(13,\"div\",3),core.cc(14,\"div\",6),core.cc(15,\"div\",7),core.cc(16,\"button\",8),core.mc(\"click\",function(){return ctx.searchQuery()}),core.Xb(17,\"i\",9),core.bc(),core.bc(),core.cc(18,\"div\",10),core.cc(19,\"jqxMenu\",11,12),core.mc(\"onItemclick\",function($event){return ctx.itemclick($event)}),core.cc(21,\"ul\"),core.cc(22,\"li\",13),core.Xb(23,\"i\",14),core.Xb(24,\"a\",15),core.cc(25,\"ul\",16),core.cc(26,\"li\"),core.cc(27,\"a\",15),core.Xb(28,\"i\",17),core.Uc(29),core.pc(30,\"translate\"),core.bc(),core.bc(),core.cc(31,\"li\"),core.cc(32,\"a\",15),core.Xb(33,\"i\",18),core.Uc(34),core.pc(35,\"translate\"),core.bc(),core.bc(),core.cc(36,\"li\"),core.cc(37,\"a\",15),core.Xb(38,\"i\",17),core.Uc(39),core.pc(40,\"translate\"),core.bc(),core.bc(),core.Xb(41,\"li\",19),core.cc(42,\"li\"),core.cc(43,\"a\",15),core.Xb(44,\"i\",20),core.Uc(45),core.pc(46,\"translate\"),core.bc(),core.bc(),core.Xb(47,\"li\",19),core.cc(48,\"li\"),core.cc(49,\"a\",15),core.Xb(50,\"i\",21),core.Uc(51),core.pc(52,\"translate\"),core.bc(),core.bc(),core.cc(53,\"li\"),core.cc(54,\"a\",15),core.Xb(55,\"i\",21),core.Uc(56),core.pc(57,\"translate\"),core.bc(),core.bc(),core.cc(58,\"li\"),core.cc(59,\"a\",15),core.Xb(60,\"i\",21),core.Uc(61),core.pc(62,\"translate\"),core.bc(),core.bc(),core.Xb(63,\"li\",19),core.cc(64,\"li\"),core.cc(65,\"a\",15),core.Xb(66,\"i\",22),core.Uc(67),core.pc(68,\"translate\"),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(69,\"div\",23),core.cc(70,\"button\",24),core.mc(\"click\",function(){return ctx.createData()}),core.Xb(71,\"i\",25),core.Uc(72),core.pc(73,\"translate\"),core.bc(),core.bc(),core.Sc(74,InvoicesComponent_div_74_Template,5,4,\"div\",26),core.bc(),core.cc(75,\"div\",27),core.cc(76,\"fieldset\"),core.cc(77,\"div\",28),core.cc(78,\"input\",29,30),core.mc(\"keyup\",function($event){return ctx.inputKey($event)}),core.bc(),core.cc(80,\"div\",31),core.cc(81,\"button\",32),core.mc(\"click\",function(){return ctx.searchQuery()}),core.Xb(82,\"i\",33),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(83,\"jqxGrid\",34,35),core.mc(\"onCellselect\",function($event){return ctx.cellClick($event)})(\"onBindingcomplete\",function($event){return ctx.Bindingcomplete($event)}),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(85,\"div\"),core.cc(86,\"div\",3),core.cc(87,\"div\",4),core.Uc(88),core.pc(89,\"uppercase\"),core.bc(),core.cc(90,\"div\",36),core.cc(91,\"jqxGrid\",37,38),core.mc(\"onCellselect\",function($event){return ctx.cellDetailClick($event)}),core.bc(),core.bc(),core.bc(),core.bc(),core.bc()),2&rf&&(core.vc(\"width\",\"100%\")(\"height\",600)(\"position\",\"top\")(\"animationType\",\"fade\")(\"selectionTracker\",!1)(\"theme\",ctx.theme),core.Ib(11),core.Vc(core.qc(12,34,ctx.title)),core.Ib(5),core.vc(\"disabled\",ctx.loading),core.Ib(3),core.vc(\"height\",36),core.Ib(10),core.Vc(core.qc(30,36,\"export.excel\")),core.Ib(5),core.Vc(core.qc(35,38,\"export.csv\")),core.Ib(5),core.Vc(core.qc(40,40,\"export.xml\")),core.Ib(6),core.Vc(core.qc(46,42,\"export.pdf\")),core.Ib(6),core.Vc(core.qc(52,44,\"export.html\")),core.Ib(5),core.Vc(core.qc(57,46,\"export.json\")),core.Ib(5),core.Vc(core.qc(62,48,\"export.tsv\")),core.Ib(6),core.Vc(core.qc(68,50,\"export.print\")),core.Ib(3),core.vc(\"disabled\",ctx.loading),core.Ib(2),core.Wc(\" \",core.qc(73,52,\"buttons.new\"),\" \"),core.Ib(2),core.vc(\"ngIf\",ctx.useImport),core.Ib(4),core.vc(\"placeholder\",ctx.placeholderSearch),core.Ib(3),core.vc(\"disabled\",ctx.loading),core.Ib(2),core.vc(\"disabled\",ctx.loading)(\"auto-create\",!1),core.Ib(5),core.Wc(\"FACTURA Nº: \",core.qc(89,54,ctx.invoiceName),\"\"),core.Ib(3),core.vc(\"source\",ctx.dataAdapter2)(\"columns\",ctx.columnsDet)(\"theme\",ctx.theme)(\"disabled\",ctx.loading)(\"selectionmode\",\"singlecell\")(\"columnsresize\",!0)(\"sortable\",!0)(\"filterable\",!0)(\"showfilterrow\",!0))},directives:[jqwidgets_ng_jqxtabs.a,jqwidgets_ng_jqxmenu.a,common.n,jqwidgets_ng_jqxgrid.a],pipes:[common.v,ngx_translate_core.c],encapsulation:2}),InvoicesComponent})();__webpack_require__(\"52YP\");var documents_service=__webpack_require__(\"4IXu\"),shopping_service=__webpack_require__(\"Cx/d\"),invoice_bill_component=__webpack_require__(\"GCUp\"),reports_service=__webpack_require__(\"PU63\"),wineries_service=__webpack_require__(\"K56k\");const shopping_create_component_c0=[\"myDataTable\"],shopping_create_component_c1=[\"searchbar\"],shopping_create_component_c2=[\"invoiceEle\"];function ShoppingCreateComponent_ng_option_29_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",61),core.Uc(1),core.bc()),2&rf){const provider_r10=ctx.$implicit;core.vc(\"value\",provider_r10.id),core.Ib(1),core.Yc(\" \",provider_r10.dni,\" - \",provider_r10.full_name,\" \",provider_r10.company_name,\" \")}}function ShoppingCreateComponent_ng_option_41_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",61),core.Uc(1),core.bc()),2&rf){const point_r11=ctx.$implicit;core.vc(\"value\",point_r11.id),core.Ib(1),core.Wc(\" \",point_r11.branch_name,\" \")}}function ShoppingCreateComponent_ng_option_49_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",61),core.Uc(1),core.bc()),2&rf){const w_house_r12=ctx.$implicit;core.vc(\"value\",w_house_r12.id),core.Ib(1),core.Wc(\" \",w_house_r12.winery_name,\" \")}}function ShoppingCreateComponent_ng_option_59_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",61),core.Uc(1),core.bc()),2&rf){const payment_r13=ctx.$implicit;core.vc(\"value\",payment_r13.id),core.Ib(1),core.Wc(\" \",payment_r13.payment_method,\" \")}}function ShoppingCreateComponent_div_101_Template(rf,ctx){if(1&rf){const _r16=core.dc();core.cc(0,\"div\",62),core.mc(\"click\",function(){core.Lc(_r16);const itemres_r14=ctx.$implicit;return core.oc().onClickItem(itemres_r14)}),core.Xb(1,\"img\",63),core.cc(2,\"div\",2),core.cc(3,\"h6\",64),core.Uc(4),core.pc(5,\"currency\"),core.bc(),core.cc(6,\"p\",65),core.Uc(7),core.bc(),core.bc(),core.bc()}if(2&rf){const itemres_r14=ctx.$implicit;core.Ib(1),core.vc(\"src\",itemres_r14.image,core.Oc),core.Ib(3),core.Wc(\" \",core.qc(5,3,itemres_r14.sale_price),\"\"),core.Ib(3),core.Vc(itemres_r14.product_name)}}function ShoppingCreateComponent_div_146_Template(rf,ctx){1&rf&&(core.cc(0,\"div\",5),core.cc(1,\"div\",21),core.cc(2,\"div\",7),core.cc(3,\"label\"),core.Uc(4,\"Notas(Opcional)\"),core.bc(),core.Xb(5,\"textarea\",66),core.bc(),core.bc(),core.bc())}let shopping_create_component_ShoppingCreateComponent=(()=>{class ShoppingCreateComponent extends invoice_bill_component.a{constructor(fb,msg,api,router,translate,aRouter,branchSer,perSer,currSer,reporstSer,itemsSer,spinner,documents,shopSer,taxSer,docsSer,wareHouseServ,modalService){super(fb,msg,api,router,translate,aRouter,spinner,modalService,itemsSer,reporstSer),this.fb=fb,this.msg=msg,this.api=api,this.router=router,this.translate=translate,this.aRouter=aRouter,this.branchSer=branchSer,this.perSer=perSer,this.currSer=currSer,this.reporstSer=reporstSer,this.itemsSer=itemsSer,this.spinner=spinner,this.documents=documents,this.shopSer=shopSer,this.taxSer=taxSer,this.docsSer=docsSer,this.wareHouseServ=wareHouseServ,this.modalService=modalService,this.title=\"Productos/Servicios\",this.aDocuments=[],this.ware_house=[],this.providers=[],this.currency=[],this.items=[],this.itemsResult=[],this.lines=[],this.timeLimits=[],this.paymentMethods=[],this.payments=[],this.meansPayment=[],this.taxBill=[],this.taxSales=[],this.pointsOfSale=[],this.tax_rates=[],this.selectedRow=!1,this.isCounted=!0,this.perishable=!1,this.rowIndex=-1,this.invoice_id=0,this.pathfile=\"\",this.itemName=\"\",this.source={},this.taxRatesSource={},this.theme=\"bootstrap\",this.customForm=this.fb.group({admission_date:[(new Date).toISOString().split(\"T\")[0],[fesm2015_forms.y.required]],invoice_nro:[\"\",[fesm2015_forms.y.required,fesm2015_forms.y.minLength(2)]],notes:[\"\"],pay_day:[(new Date).toISOString().split(\"T\")[0],[fesm2015_forms.y.required]],payment_id:[\"\",[fesm2015_forms.y.required]],warehouse_id:[\"0\",[fesm2015_forms.y.required]],point_of_sale_id:[\"0\",[fesm2015_forms.y.required]],provider_id:[\"0\",[fesm2015_forms.y.required]],discount:[0],vat:[0],sub_total:[0,[fesm2015_forms.y.required]],total:[0,[fesm2015_forms.y.required]],tax_sale_id:[0],tax_bill_id:[0],product_id:[0],invoice_id:[0]})}get invalidName(){return this.isInvalid(\"invoice_nro\")}get invalidBranch(){return this.isInvalid(\"branch_id\")}ngOnInit(){const ts=this;ts.showSpinner(),ts.wareHouseServ.getData({}).subscribe(resp=>{ts.ware_house=resp}),ts.docsSer.getPaymentMethods({}).subscribe(resp=>{ts.payments=resp,resp.length>0&&ts.customForm.get(\"payment_id\").setValue(resp[0].id)}),ts.branchSer.getPointsOfSale({}).subscribe(resp=>{ts.pointsOfSale=resp,resp.length>0&&ts.customForm.get(\"point_of_sale_id\").setValue(resp[0].id)}),ts.perSer.getProviders({}).subscribe(resp=>{ts.providers=resp}),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit();const ts=this,frm=ts.customForm;ts.invoiceEle.nativeElement.focus(),ts.taxSer.getData({isVat:!0}).subscribe(resp=>{ts.taxBill=resp,ts.taxSales=resp,resp.length>0&&(frm.get(\"tax_bill_id\").setValue(resp[0].id),frm.get(\"tax_sale_id\").setValue(resp[0].id),ts.taxBillSelect=resp[0],ts.taxSaleSelect=resp[0],ts.tax_rates=resp,ts.onCreateGrid())})}onCreateGrid(){const ts=this;ts.taxRatesSource={datatype:\"array\",datafields:[{name:\"id\",type:\"number\"},{name:\"account_id\",type:\"number\"},{name:\"tax_gruop_id\",type:\"number\"},{name:\"name_taxe\",type:\"string\"},{name:\"rate_abbre\",type:\"string\"},{name:\"rate_name\",type:\"string\"},{name:\"account_name\",type:\"string\"},{name:\"is_exempt\",type:\"number\"},{name:\"decimal_rate\",type:\"number\"},{name:\"rate_value\",type:\"number\"}],localdata:ts.tax_rates},ts.taxRatesAdapter=new jqx.dataAdapter(ts.taxRatesSource,{autoBind:!0}),ts.source={localdata:this.lines,datatype:\"array\",datafields:[{name:\"product_class_name\",type:\"string\"},{name:\"sku\",type:\" string\"},{name:\"image\",type:\" string\"},{name:\"unit_name\",type:\" string\"},{name:\"unit_description\",type:\" string\"},{name:\"abbre_unit\",type:\" string\"},{name:\"qr_code\",type:\"string\"},{name:\"product_name\",type:\"string\"},{name:\"notes\",type:\"string\"},{name:\"description_sales\",type:\"string\"},{name:\"shopping_description\",type:\"string\"},{name:\"barcode\",type:\"string\"},{name:\"rate_name\",type:\"string\"},{name:\"internal_code\",type:\"string\"},{name:\"state\",type:\"number\"},{name:\"quantity\",type:\"number\"},{name:\"invoice_id\",type:\"number\"},{name:\"detail_id\",type:\"number\"},{name:\"total\",type:\"number\"},{name:\"discount\",type:\"number\"},{name:\"sale_price\",type:\"number\"},{name:\"purchase_cost\",type:\"number\"},{name:\"tax_amount\",type:\"number\"},{name:\"tax_bill_id\",type:\"number\"},{name:\"tax_bill\",value:\"tax_bill_id\",values:{source:ts.taxRatesAdapter.records,value:\"id\",name:\"rate_value\"}},{name:\"tax_bill_rate\",type:\"number\"},{name:\"tax_sale_rate\",type:\"number\"},{name:\"stock_min\",type:\"number\"},{name:\"stock_max\",type:\"number\"},{name:\"tax_sales_id\",type:\"number\"},{name:\"tax_sales\",value:\"tax_sales_id\",values:{source:ts.taxRatesAdapter.records,value:\"id\",name:\"rate_value\"}},{name:\"brand_id\",type:\" number\"},{name:\"stock\",type:\" number\"},{name:\"category_id\",type:\" number\"},{name:\"product_unit_id\",type:\" number\"},{name:\"factor\",type:\" number\"},{name:\"sub_category_id\",type:\" number\"},{name:\"gain\",type:\"number\"},{name:\"percentage_gain\",type:\"string\"},{name:\"item_type_id\",type:\"number\"},{name:\"unit_id\",type:\"number\"},{name:\"base_factor\",type:\"number\"},{name:\"class_id\",type:\"number\"},{name:\"average_cost\",type:\"number\"},{name:\"recipe\",type:\"boolean\"},{name:\"vat_included\",type:\"bool\"},{name:\"selling_out_of_inventory\",type:\"boolean\"},{name:\"perishable\",type:\"bool\"},{name:\"batch\",type:\"string\"},{name:\"fabrication_date\",type:\"date\"},{name:\"expiration_date\",type:\"date\"},{name:\"id\",type:\"number\"}]},ts.dataAdapter=new jqx.dataAdapter(ts.source),ts.columns=[{text:\"#\",sortable:!1,filterable:!1,editable:!1,align:\"center\",groupable:!1,draggable:!1,resizable:!1,datafield:\"\",columntype:\"number\",width:40,cellsrenderer:(row,column,value)=>'<div style=\"margin: 4px; text-align: right\">'+(value+1)+\"</div>\"},{text:\"Detalle\",columngroup:\"Shopping\",dataField:\"product_name\",minWidth:300,align:\"center\",cellsAlign:\"left\",editable:!1},{text:\"Cant\",columngroup:\"Shopping\",dataField:\"quantity\",width:55,align:\"center\",cellsAlign:\"right\"},{text:\"Precio de compra\",columngroup:\"Shopping\",dataField:\"purchase_cost\",width:120,align:\"center\",cellsAlign:\"right\",cellsFormat:\"c2\"},{text:\"IVA\",columngroup:\"Shopping\",width:50,align:\"center\",datafield:\"tax_sales_id\",displayfield:\"tax_sales\",columntype:\"combobox\",createeditor:(row,value,editor)=>{editor.jqxComboBox({source:ts.taxRatesAdapter,displayMember:\"rate_value\",valueMember:\"id\"})},cellvaluechanging:(row,column,columntype,oldvalue,newvalue)=>{if(\"\"==newvalue)return oldvalue;setTimeout(()=>{this.onLineTotal(this.myDataTable.getrowdata(row),row)},50)}},{text:\"Vr. IVA\",columngroup:\"Shopping\",editable:!1,dataField:\"tax_amount\",width:120,align:\"right\",cellsAlign:\"right\",cellsFormat:\"c2\"},{text:\"Iva incluido\",columngroup:\"Shopping\",datafield:\"vat_included\",columntype:\"checkbox\",width:90,cellvaluechanging:(row,column,columntype,oldvalue,newvalue)=>{setTimeout(()=>{this.onLineTotal(this.myDataTable.getrowdata(row),row)},50)}},{text:\"Descuento\",columngroup:\"Shopping\",dataField:\"discount\",width:120,align:\"right\",cellsAlign:\"right\",cellsFormat:\"c2\"},{text:\"Total\",columngroup:\"Shopping\",dataField:\"total\",width:100,align:\"right\",cellsAlign:\"right\",cellsFormat:\"c2\",editable:!1},{text:\"Perecedero\",columngroup:\"Shopping\",datafield:\"perishable\",columntype:\"checkbox\",width:80},{text:\"Lote #\",columngroup:\"Shopping\",dataField:\"batch\",minWidth:50,align:\"center\",cellsAlign:\"left\",editable:!1},{text:\"Fecha fabricación\",columngroup:\"Shopping\",datafield:\"fabrication_date\",columntype:\"datetimeinput\",width:110,cellsalign:\"right\",cellsformat:\"d\",validation:(cell,value)=>!(value.getFullYear()<2021)||{result:!1,message:\"Ship Date should be before 1/1/2021\"}},{text:\"Fecha expiración\",columngroup:\"Shopping\",datafield:\"expiration_date\",columntype:\"datetimeinput\",width:110,cellsalign:\"right\",cellsformat:\"d\",validation:(cell,value)=>!(value.getFullYear()<2021)||{result:!1,message:\"Ship Date should be before 1/1/2021\"}},{text:\"Precio de venta\",columngroup:\"Sales\",dataField:\"sale_price\",width:120,align:\"center\",cellsAlign:\"right\",cellsFormat:\"c2\"},{text:\"IVA\",columngroup:\"Sales\",width:50,align:\"center\",datafield:\"tax_bill_id\",displayfield:\"tax_bill\",columntype:\"combobox\",createeditor:(row,value,editor)=>{editor.jqxComboBox({source:ts.taxRatesAdapter,displayMember:\"rate_value\",valueMember:\"id\"})},cellvaluechanging:(row,column,columntype,oldvalue,newvalue)=>{if(\"\"==newvalue)return oldvalue}},{text:\"Ganancia\",columngroup:\"Sales\",dataField:\"gain\",width:120,align:\"center\",cellsAlign:\"right\",cellsFormat:\"c2\"},{text:\"% Ganancia\",columngroup:\"Sales\",dataField:\"percentage_gain\",width:110,align:\"center\",cellsAlign:\"right\"}],ts.columngroups=[{text:\"Compra\",align:\"center\",name:\"Shopping\"},{text:\"Venta\",align:\"center\",name:\"Sales\"}],ts.myDataTable.createComponent({source:ts.dataAdapter,columnsresize:!0,editable:!0,enabletooltips:!0,altrows:!0,autoshowloadelement:!0,theme:ts.theme,columns:ts.columns,columngroups:ts.columngroups}),ts.onRefresh()}loadData(id=0){const ts=this,frm=ts.customForm;ts.editing=!0,ts.shopSer.getData({uid:id}).subscribe({next:resp=>{var _a,_b;ts.invoice_id=id,frm.get(\"invoice_nro\").setValue(resp[0].invoice_nro),frm.get(\"total\").setValue(resp[0].total),frm.get(\"provider_id\").setValue(resp[0].provider_id),frm.get(\"admission_date\").setValue(resp[0].admission_date),frm.get(\"discount\").setValue(resp[0].discount),frm.get(\"vat\").setValue(resp[0].vat),frm.get(\"notes\").setValue(resp[0].notes),frm.get(\"pay_day\").setValue(resp[0].pay_day),frm.get(\"payment_id\").setValue(resp[0].payment_method_id),frm.get(\"warehouse_id\").setValue(null!==(_a=resp[0].warehouse_id)&&void 0!==_a?_a:\"0\"),frm.get(\"point_of_sale_id\").setValue(null!==(_b=resp[0].point_of_sale_id)&&void 0!==_b?_b:\"0\"),frm.get(\"sub_total\").setValue(resp[0].sub_total),ts.getDeatailId(id)}})}getDeatailId(id){const ts=this,grid=ts.myDataTable;ts.showSpinner(\"Cargando detalle de la factura.\"),ts.shopSer.getDetail(id).subscribe({next:resp=>{resp.map((ele,i)=>{let item={};item=ele,item.detail_id=ele.id,item.id=ele.product_id,grid.addrow(null,item,i),setTimeout(()=>{ts.onLineTotal(item,i)},5)})},error:err=>{ts.hideSpinner(),ts.msg.errorMessage(\"\",err)}})}onRefresh(query=\"\"){this.onSearchExecute(query)}onSearchExecute(query=\"\",type=1){const ts=this;ts.showSpinner(\"Procesando petición...\"),ts.itemsSer.getData({query:query,type:type,start:0,limit:60}).subscribe({next:resp=>{ts.items=resp,ts.itemsResult=resp,ts.hideSpinner(),ts.msg.toastMessage(\"\",`Se hallaron ${resp.length} resultados.`)},error:err=>{ts.hideSpinner(),ts.msg.errorMessage(\"\",err)}})}onLineTotal(ele,i){let grid=this.myDataTable;const taxe=this.tax_rates.find(tax=>tax.id==ele.tax_sales_id),tax=parseFloat(taxe.decimal_rate.toString()),discount=parseFloat(ele.discount.toString());let total=parseFloat(ele.purchase_cost.toString())*parseFloat(ele.quantity.toString())-discount,tax_value=total-total/tax;ele.vat_included||(tax>1?tax_value=total*tax-total:tax<1&&(tax_value=total*tax),total+=tax_value),tax_value=parseFloat(tax_value.toFixed(2)),total=parseFloat(total.toFixed(2)),grid.setcellvalue(i,\"total\",total),grid.setcellvalue(i,\"tax_amount\",tax_value),this.onSalesData(ele,i),this.onSum()}onSum(){let subtotal=0,total=0,taxTotal=0,discount=0,frm=this.customForm;const rows=this.myDataTable.getrows();rows.length>0&&rows.map((ele,i)=>{const subt=ele.quantity*ele.purchase_cost;discount+=parseFloat(ele.discount.toString()),subtotal+=subt,total+=ele.total,taxTotal+=ele.tax_amount}),frm.get(\"discount\").setValue(discount),frm.get(\"sub_total\").setValue(subtotal-taxTotal),frm.get(\"vat\").setValue(taxTotal),frm.get(\"total\").setValue(total)}onSalesData(ele,i){const grid=this.myDataTable,unit_price=parseFloat(ele.purchase_cost.toString()),sale_price=parseFloat(ele.sale_price.toString()),taxBill=this.tax_rates.find(tax=>tax.id==ele.tax_bill_id),taxSale=this.tax_rates.find(tax=>tax.id==ele.tax_sales_id),vat=parseFloat(taxBill.decimal_rate.toString()),vatSale=parseFloat(taxSale.decimal_rate.toString());let realPrice=0,realCost=0,gain=0,percGain=0;realCost=1==ele.vat_included?unit_price/vat:unit_price,realPrice=sale_price/vatSale,gain=realPrice-realCost,percGain=gain/realPrice*100,grid.setcellvalue(i,\"gain\",gain),grid.setcellvalue(i,\"percentage_gain\",`${percGain.toFixed(2)} %`)}onSave(){const ts=this;let frm=ts.customForm,values=frm.getRawValue();const lines=ts.myDataTable.getrows();if(frm.invalid)return ts.msg.toastMessage(\"\",\"Hay campos sin llenar.\",4),!1;if(values.lines=JSON.stringify(lines),ts.showSpinner(\"Guardando factura\"),ts.invoice_id>0)values.invoice_id=ts.invoice_id,ts.api.put(`/shopping/update/${ts.invoice_id}`,{records:JSON.stringify(values)}).subscribe({next:resp=>{ts.hideSpinner(),resp.success?ts.onClose():ts.msg.errorMessage(\"\",resp.message)},error:err=>{ts.hideSpinner(),ts.msg.errorMessage(\"\",err)}});else{if(lines.length<=0)return ts.hideSpinner(),ts.msg.toastMessage(\"\",\"No hay productos en el detalle de la factura.\",4),!1;ts.api.post(\"/shopping/create\",values).subscribe({next:resp=>{ts.hideSpinner(),resp.success?ts.onClose():ts.msg.errorMessage(\"\",resp.message)},error:err=>{ts.hideSpinner(),ts.msg.errorMessage(\"\",err)}})}}onClose(){this.goRoute(\"shopping/invoices\")}onDelete(){const ts=this;let row=ts.myDataTable.getrowdata(ts.rowIndex);const lang=ts.translate;if(ts.invoice_id>0){const detail_id=row.detail_id;detail_id>0?sweetalert2_all_default.a.fire({title:lang.instant(\"titleMessages.delete\"),text:lang.instant(\"bodyMessages.delete\"),icon:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:lang.instant(\"buttons.yes\"),cancelButtonText:lang.instant(\"buttons.not\")}).then(result=>{result.value&&(ts.showSpinner(),ts.api.delete(`/shopping/detail/delete/${detail_id}`).subscribe({next:()=>{ts.hideSpinner(),super.onDelete()},error:err=>{ts.hideSpinner(),ts.msg.errorMessage(lang.instant(\"general.error\"),err)}}))}):super.onDelete()}else super.onDelete()}}return ShoppingCreateComponent.ɵfac=function(t){return new(t||ShoppingCreateComponent)(core.Wb(fesm2015_forms.e),core.Wb(utils.b),core.Wb(utils.a),core.Wb(fesm2015_router.c),core.Wb(ngx_translate_core.d),core.Wb(fesm2015_router.a),core.Wb(companies.a),core.Wb(general.b),core.Wb(general.a),core.Wb(reports_service.a),core.Wb(products.e),core.Wb(ngx_spinner.c),core.Wb(documents_service.a),core.Wb(shopping_service.a),core.Wb(general.f),core.Wb(documents_service.a),core.Wb(wineries_service.a),core.Wb(ng_bootstrap.r))},ShoppingCreateComponent.ɵcmp=core.Qb({type:ShoppingCreateComponent,selectors:[[\"app-shopping\"]],viewQuery:function(rf,ctx){if(1&rf&&(core.ad(shopping_create_component_c0,1),core.ad(shopping_create_component_c1,1),core.ad(shopping_create_component_c2,1)),2&rf){let _t;core.Hc(_t=core.nc())&&(ctx.myDataTable=_t.first),core.Hc(_t=core.nc())&&(ctx.searchbar=_t.first),core.Hc(_t=core.nc())&&(ctx.invoiceEle=_t.first)}},features:[core.Fb],decls:150,vars:43,consts:[[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[3,\"formGroup\"],[1,\"container-fluid\",\"padding-top-bottom\"],[1,\"row\"],[1,\"col-md-4\"],[1,\"form-group\"],[1,\"asterisk\"],[\"type\",\"text\",\"formControlName\",\"invoice_nro\",\"required\",\"\",\"autofocus\",\"\",\"placement\",\"bottom\",\"ngbTooltip\",\"Nº. de la factura\",1,\"form-control\"],[\"focusElement\",\"\",\"invoiceEle\",\"\"],[1,\"col-md-8\"],[\"fullWidth\",\"\",\"formControlName\",\"provider_id\",\"required\",\"\",\"placement\",\"bottom\",\"ngbTooltip\",\"Proveedor\"],[\"value\",\"0\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-6\"],[\"fullWidth\",\"\",\"formControlName\",\"point_of_sale_id\",\"required\",\"\",\"placement\",\"bottom\",\"ngbTooltip\",\"Punto de venta\"],[\"fullWidth\",\"\",\"formControlName\",\"warehouse_id\",\"required\",\"\",\"placement\",\"bottom\",\"ngbTooltip\",\"Bodega\"],[\"fullWidth\",\"\",\"formControlName\",\"payment_id\",\"required\",\"\"],[\"type\",\"date\",\"formControlName\",\"admission_date\",\"required\",\"\",1,\"form-control\"],[\"type\",\"date\",\"formControlName\",\"pay_day\",\"required\",\"\",1,\"form-control\"],[1,\"col\"],[1,\"page-search-input\",\"form-group\"],[1,\"input-group\"],[\"type\",\"search\",\"id\",\"searchbar\",\"placeholder\",\"Búsqueda por nombre o referencia\",\"autofocus\",\"\",1,\"form-control\",\"rounded-right\",\"form-control-lg\",\"shadow\",\"pl-2\",3,\"keyup.enter\"],[\"searchbar\",\"\"],[1,\"input-group-append\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",\"search-btn\",\"rounded\",\"space-right\",3,\"click\"],[1,\"d-none\",\"d-sm-block\"],[1,\"fas\",\"fa-search\"],[\"type\",\"button\",\"ngbTooltip\",\"Crear nuevo producto\",1,\"btn\",\"btn-success\",\"space-right\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-plus\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Refrescar\",1,\"btn\",\"btn-info\",\"space-right\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-sync\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Limpiar\",1,\"btn\",\"btn-danger\",\"space-right\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-broom\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Cerrar\",1,\"btn\",\"btn-danger\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-times\",\"fas-fa-22\"],[1,\"card-col-list\"],[1,\"card-columns\"],[\"class\",\"card card-sales\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-12\",\"card-col\"],[1,\"col-sm-12\",\"col-md-6\",\"padding-top-bottom\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-primary\",\"space-right\",\"radius-button\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-trash-alt\",\"fas-fa-22\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-success\",\"space-right\",\"radius-button\",3,\"disabled\",\"click\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-danger\",\"space-right\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-minus\",\"fas-fa-22\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-info\",\"space-right\",\"radius-button\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-save\",\"fas-fa-22\",\"space-right\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-danger\",\"radius-button\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-broom\",\"fas-fa-22\",\"space-right\"],[\"currencyMask\",\"\",\"formControlName\",\"total\",\"aria-describedby\",\"helpId\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"small\",\"total-bg\"],[3,\"auto-create\",\"autoheight\",\"width\",\"onCellselect\",\"onRowselect\",\"Rowunselect\",\"onCellendedit\"],[\"myDataTable\",\"\"],[\"currencyMask\",\"\",\"formControlName\",\"sub_total\",\"aria-describedby\",\"helpId\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"small\",\"total\"],[\"currencyMask\",\"\",\"formControlName\",\"discount\",\"aria-describedby\",\"helpId\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"small\",\"discounts\"],[\"currencyMask\",\"\",\"formControlName\",\"vat\",\"aria-describedby\",\"helpId\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"small\",\"vat\"],[\"currencyMask\",\"\",\"formControlName\",\"total\",\"aria-describedby\",\"helpId\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"small\",\"total\"],[\"class\",\"row\",4,\"ngIf\"],[2,\"color\",\"white\"],[3,\"value\"],[1,\"card\",\"card-sales\",3,\"click\"],[\"fallimg\",\"product\",1,\"img-product\",\"card-img-top\",3,\"src\"],[1,\"price\"],[1,\"product-name\"],[\"formControlName\",\"notes\",1,\"form-control\"]],template:function(rf,ctx){if(1&rf){const _r17=core.dc();core.cc(0,\"div\",0),core.cc(1,\"div\",1),core.Uc(2),core.pc(3,\"uppercase\"),core.pc(4,\"translate\"),core.bc(),core.cc(5,\"div\",2),core.cc(6,\"form\",3),core.cc(7,\"div\",4),core.cc(8,\"div\",5),core.cc(9,\"div\",6),core.cc(10,\"div\",7),core.cc(11,\"label\"),core.cc(12,\"span\",8),core.Uc(13),core.pc(14,\"translate\"),core.bc(),core.Uc(15,\"Nº. de la factura\"),core.bc(),core.Xb(16,\"input\",9,10),core.bc(),core.bc(),core.cc(19,\"div\",11),core.cc(20,\"div\",7),core.cc(21,\"label\"),core.cc(22,\"span\",8),core.Uc(23),core.pc(24,\"translate\"),core.bc(),core.Uc(25,\"Proveedor\"),core.bc(),core.cc(26,\"ng-select\",12),core.cc(27,\"ng-option\",13),core.Uc(28,\"Seleccionar proveedor\"),core.bc(),core.Sc(29,ShoppingCreateComponent_ng_option_29_Template,2,4,\"ng-option\",14),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(30,\"div\",5),core.cc(31,\"div\",15),core.cc(32,\"div\",7),core.cc(33,\"label\"),core.cc(34,\"span\",8),core.Uc(35),core.pc(36,\"translate\"),core.bc(),core.Uc(37,\"Punto de venta\"),core.bc(),core.cc(38,\"ng-select\",16),core.cc(39,\"ng-option\",13),core.Uc(40,\"Seleccionar punto de venta\"),core.bc(),core.Sc(41,ShoppingCreateComponent_ng_option_41_Template,2,2,\"ng-option\",14),core.bc(),core.bc(),core.bc(),core.cc(42,\"div\",15),core.cc(43,\"div\",7),core.cc(44,\"label\"),core.Uc(45,\"Bodega\"),core.bc(),core.cc(46,\"ng-select\",17),core.cc(47,\"ng-option\",13),core.Uc(48,\"Seleccionar una bodega\"),core.bc(),core.Sc(49,ShoppingCreateComponent_ng_option_49_Template,2,2,\"ng-option\",14),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(50,\"div\",5),core.cc(51,\"div\",6),core.cc(52,\"div\",7),core.cc(53,\"label\"),core.cc(54,\"span\",8),core.Uc(55),core.pc(56,\"translate\"),core.bc(),core.Uc(57,\"Forma de pago\"),core.bc(),core.cc(58,\"ng-select\",18),core.Sc(59,ShoppingCreateComponent_ng_option_59_Template,2,2,\"ng-option\",14),core.bc(),core.bc(),core.bc(),core.cc(60,\"div\",6),core.cc(61,\"div\",7),core.cc(62,\"label\"),core.cc(63,\"span\",8),core.Uc(64),core.pc(65,\"translate\"),core.bc(),core.Uc(66,\"Fecha de emisión\"),core.bc(),core.Xb(67,\"input\",19),core.bc(),core.bc(),core.cc(68,\"div\",6),core.cc(69,\"div\",7),core.cc(70,\"label\"),core.cc(71,\"span\",8),core.Uc(72),core.pc(73,\"translate\"),core.bc(),core.Uc(74,\"Fecha de pago\"),core.bc(),core.Xb(75,\"input\",20),core.bc(),core.bc(),core.bc(),core.cc(76,\"div\",5),core.cc(77,\"div\",21),core.cc(78,\"div\",5),core.cc(79,\"div\",21),core.cc(80,\"div\",22),core.cc(81,\"fieldset\"),core.cc(82,\"div\",23),core.cc(83,\"input\",24,25),core.mc(\"keyup.enter\",function(){core.Lc(_r17);const _r6=core.Ic(84);return ctx.onSearchProducts(_r6.value,1)}),core.bc(),core.cc(85,\"div\",26),core.cc(86,\"button\",27),core.mc(\"click\",function(){core.Lc(_r17);const _r6=core.Ic(84);return ctx.onSearchProducts(_r6.value,1)}),core.Xb(87,\"span\",28),core.Xb(88,\"i\",29),core.bc(),core.cc(89,\"button\",30),core.mc(\"click\",function(){return ctx.onCreateProduct()}),core.Xb(90,\"i\",31),core.bc(),core.cc(91,\"button\",32),core.mc(\"click\",function(){core.Lc(_r17);const _r6=core.Ic(84);return ctx.onRefresh(_r6.value)}),core.Xb(92,\"i\",33),core.bc(),core.cc(93,\"button\",34),core.mc(\"click\",function(){return ctx.onClearFilter()}),core.Xb(94,\"i\",35),core.bc(),core.cc(95,\"button\",36),core.mc(\"click\",function(){return ctx.onClose()}),core.Xb(96,\"i\",37),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(97,\"div\",5),core.cc(98,\"div\",21),core.cc(99,\"div\",38),core.cc(100,\"div\",39),core.Sc(101,ShoppingCreateComponent_div_101_Template,8,5,\"div\",40),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(102,\"div\",5),core.cc(103,\"div\",41),core.cc(104,\"div\",5),core.cc(105,\"div\",42),core.cc(106,\"button\",43),core.mc(\"click\",function(){return ctx.onDelete()}),core.Xb(107,\"i\",44),core.bc(),core.cc(108,\"button\",45),core.mc(\"click\",function(){return ctx.onAdd()}),core.Xb(109,\"i\",31),core.bc(),core.cc(110,\"button\",46),core.mc(\"click\",function(){return ctx.onMinus()}),core.Xb(111,\"i\",47),core.bc(),core.cc(112,\"button\",48),core.mc(\"click\",function(){return ctx.onSave()}),core.Xb(113,\"i\",49),core.Uc(114,\"Guardar \"),core.bc(),core.cc(115,\"button\",50),core.mc(\"click\",function(){return ctx.onCancel()}),core.Xb(116,\"i\",51),core.Uc(117,\"Cancelar \"),core.bc(),core.bc(),core.cc(118,\"div\",42),core.Xb(119,\"input\",52),core.bc(),core.bc(),core.cc(120,\"div\",5),core.cc(121,\"div\",21),core.cc(122,\"jqxGrid\",53,54),core.mc(\"onCellselect\",function($event){return ctx.onCelSelect($event)})(\"onRowselect\",function($event){return ctx.onRowSelect($event)})(\"Rowunselect\",function($event){return ctx.onRowUnselect($event)})(\"onCellendedit\",function($event){return ctx.onCellEndEdit($event)}),core.bc(),core.bc(),core.bc(),core.cc(124,\"div\",5),core.cc(125,\"div\",15),core.cc(126,\"div\",7),core.cc(127,\"label\"),core.Uc(128,\" Subtotal\"),core.bc(),core.Xb(129,\"input\",55),core.bc(),core.bc(),core.cc(130,\"div\",15),core.cc(131,\"div\",7),core.cc(132,\"label\"),core.Uc(133,\" Descuento\"),core.bc(),core.Xb(134,\"input\",56),core.bc(),core.bc(),core.bc(),core.cc(135,\"div\",5),core.cc(136,\"div\",15),core.cc(137,\"div\",7),core.cc(138,\"label\"),core.Uc(139,\" IVA\"),core.bc(),core.Xb(140,\"input\",57),core.bc(),core.bc(),core.cc(141,\"div\",15),core.cc(142,\"div\",7),core.cc(143,\"label\"),core.Uc(144,\" Total\"),core.bc(),core.Xb(145,\"input\",58),core.bc(),core.bc(),core.bc(),core.Sc(146,ShoppingCreateComponent_div_146_Template,6,0,\"div\",59),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(147,\"ngx-spinner\"),core.cc(148,\"p\",60),core.Uc(149),core.bc(),core.bc()}2&rf&&(core.Ib(2),core.Wc(\" \",core.qc(3,27,core.qc(4,29,\"general.createEdit\")),\" FACTURA DE COMPRA \"),core.Ib(4),core.vc(\"formGroup\",ctx.customForm),core.Ib(7),core.Wc(\" \",core.qc(14,31,\"general.asterisk\"),\"\"),core.Ib(3),core.Ob(\"status-danger\",ctx.invalidName)(\"is-invalid\",ctx.invalidName),core.Ib(7),core.Wc(\" \",core.qc(24,33,\"general.asterisk\"),\"\"),core.Ib(6),core.vc(\"ngForOf\",ctx.providers),core.Ib(6),core.Wc(\" \",core.qc(36,35,\"general.asterisk\"),\"\"),core.Ib(6),core.vc(\"ngForOf\",ctx.pointsOfSale),core.Ib(8),core.vc(\"ngForOf\",ctx.ware_house),core.Ib(6),core.Wc(\" \",core.qc(56,37,\"general.asterisk\"),\"\"),core.Ib(4),core.vc(\"ngForOf\",ctx.payments),core.Ib(5),core.Wc(\" \",core.qc(65,39,\"general.asterisk\"),\"\"),core.Ib(8),core.Wc(\" \",core.qc(73,41,\"general.asterisk\"),\"\"),core.Ib(29),core.vc(\"ngForOf\",ctx.itemsResult),core.Ib(5),core.vc(\"disabled\",!ctx.selectedRow),core.Ib(2),core.vc(\"disabled\",!ctx.selectedRow),core.Ib(2),core.vc(\"disabled\",!ctx.selectedRow),core.Ib(2),core.vc(\"disabled\",!ctx.selectedRow),core.Ib(3),core.vc(\"disabled\",!ctx.selectedRow||ctx.invoice_id>0),core.Ib(7),core.vc(\"auto-create\",!1)(\"autoheight\",!0)(\"width\",ctx.getWidth()),core.Ib(24),core.vc(\"ngIf\",!ctx.editing),core.Ib(3),core.Wc(\" \",ctx.maskSpinner,\" \"))},directives:[fesm2015_forms.z,fesm2015_forms.q,fesm2015_forms.h,fesm2015_forms.c,fesm2015_forms.p,fesm2015_forms.g,fesm2015_forms.w,ng_bootstrap.N,ng_select_ng_select.a,ng_select_ng_select.d,common.m,ngx_currency.a,jqwidgets_ng_jqxgrid.a,common.n,ngx_spinner.a],pipes:[common.v,ngx_translate_core.c,common.d],styles:[\"@media (min-width:768px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:4;column-count:4}}@media (min-width:992px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:6;column-count:6}}@media (min-width:1200px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:8;column-count:8}}.create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col-list[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}\"]}),ShoppingCreateComponent})();var components_forms=__webpack_require__(\"xg8E\");const detail_edit_component_c0=[\"customGrid\"],detail_edit_component_c1=[\"myDataTable\"],detail_edit_component_c2=[\"searchField\"],detail_edit_component_c3=[\"focusElement\"],_c4=[\"amountElement\"],_c5=[\"cashele\"],_c6=[\"searchbar\"],_c7=[\"myTabs\"];function DetailEditComponent_div_41_Template(rf,ctx){if(1&rf){const _r10=core.dc();core.cc(0,\"div\",59),core.mc(\"click\",function(){core.Lc(_r10);const itemres_r8=ctx.$implicit;return core.oc().onClickItem(itemres_r8)}),core.Xb(1,\"img\",60),core.cc(2,\"div\",2),core.cc(3,\"h6\",61),core.Uc(4),core.pc(5,\"currency\"),core.bc(),core.cc(6,\"p\",62),core.Uc(7),core.bc(),core.bc(),core.bc()}if(2&rf){const itemres_r8=ctx.$implicit;core.Ib(1),core.vc(\"src\",itemres_r8.image,core.Oc),core.Ib(3),core.Wc(\" \",core.qc(5,3,itemres_r8.sale_price),\"\"),core.Ib(3),core.Vc(itemres_r8.product_name)}}function DetailEditComponent_ng_option_60_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",63),core.Uc(1),core.bc()),2&rf){const taxB_r11=ctx.$implicit;core.vc(\"value\",taxB_r11.id),core.Ib(1),core.Xc(\" \",taxB_r11.name_taxe,\" - \",taxB_r11.rate_value,\" % \")}}function DetailEditComponent_ng_option_87_Template(rf,ctx){if(1&rf&&(core.cc(0,\"ng-option\",63),core.Uc(1),core.bc()),2&rf){const taxS_r12=ctx.$implicit;core.vc(\"value\",taxS_r12.id),core.Ib(1),core.Xc(\" \",taxS_r12.name_taxe,\" - \",taxS_r12.rate_value,\" % \")}}function DetailEditComponent_div_103_Template(rf,ctx){if(1&rf&&(core.cc(0,\"div\",31),core.cc(1,\"label\",64),core.Uc(2,\"Lote #\"),core.bc(),core.cc(3,\"div\",65),core.Xb(4,\"input\",66),core.bc(),core.bc()),2&rf){const ctx_r5=core.oc();core.Ib(4),core.vc(\"readonly\",!ctx_r5.perishable)}}function DetailEditComponent_div_104_Template(rf,ctx){if(1&rf&&(core.cc(0,\"div\",31),core.cc(1,\"label\",64),core.Uc(2,\"Fecha de fabricación\"),core.bc(),core.cc(3,\"div\",65),core.Xb(4,\"input\",67),core.bc(),core.bc()),2&rf){const ctx_r6=core.oc();core.Ib(4),core.vc(\"readonly\",!ctx_r6.perishable)}}function DetailEditComponent_div_105_Template(rf,ctx){if(1&rf&&(core.cc(0,\"div\",31),core.cc(1,\"label\",64),core.Uc(2,\"Fecha de vencimiento\"),core.bc(),core.cc(3,\"div\",65),core.Xb(4,\"input\",68),core.bc(),core.bc()),2&rf){const ctx_r7=core.oc();core.Ib(4),core.vc(\"readonly\",!ctx_r7.perishable)}}const routes=[{path:\"\",component:shopping_component_ShoppingComponent,children:[{path:\"invoices\",component:invoices_component_InvoicesComponent},{path:\"invoices/create\",component:shopping_create_component_ShoppingCreateComponent},{path:\"invoices/edit/:id\",component:shopping_create_component_ShoppingCreateComponent},{path:\"invoices/create/detail/:id\",component:shopping_create_component_ShoppingCreateComponent},{path:\"invoices/detail/edit/:id\",component:(()=>{class DetailEditComponent extends components_forms.a{constructor(fb,msg,api,router,translate,aRouter,currSer,reporstSer,itemsSer,spinner,documents,shopSer,taxSer){super(fb,msg,api,router,translate,aRouter,spinner),this.fb=fb,this.msg=msg,this.api=api,this.router=router,this.translate=translate,this.aRouter=aRouter,this.currSer=currSer,this.reporstSer=reporstSer,this.itemsSer=itemsSer,this.spinner=spinner,this.documents=documents,this.shopSer=shopSer,this.taxSer=taxSer,this.title=\"Productos/Servicios\",this.items=[],this.itemsResult=[],this.lines=[],this.taxBill=[],this.taxSales=[],this.perishable=!1,this.itemName=\"\",this.oldItem=[],this.customForm=this.fb.group({amount:[\"\"],batch:[\"\"],expiration_date:[\"\"],fabrication_date:[\"\"],product_name:[\"\"],sale_price:[\"\"],tax_bill_id:[\"\"],tax_sale_id:[\"\"],total_cost:[\"\"],unit_cost:[\"\"],unit_price:[\"\"],gain:[\"\"],percentage_gain:[\"\"],vat_included:[\"\"]})}ngOnInit(){const ts=this;ts.showSpinner(),ts.taxSer.getData({isVat:!0}).subscribe(resp=>{ts.taxBill=resp,ts.taxSales=resp,super.ngOnInit()})}ngAfterViewInit(){}loadData(id=0){const ts=this;ts.editing=!0,ts.shopSer.getDetailID(id).subscribe(resp=>{ts.oldItem=resp,ts.onClearForm(),ts.onRefresh()})}onChangeUnitPrice(){this.onPurchaseData()}onChangeSalePrice(){this.onSalesData()}onClickItem(i){const ts=this,frm=ts.customForm;let line=i;const lang=ts.translate;2!==line.class_id?sweetalert2_all_default.a.fire({title:\"Cambiar item\",text:\"Está a punto de cambiar el ITEM, ¿Desea continuar.?\",icon:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:lang.instant(\"buttons.yes\"),cancelButtonText:lang.instant(\"buttons.not\")}).then(result=>{if(result.value){ts.perishable=line.perishable;const purchase_cost=parseFloat(line.purchase_cost.toString())/parseFloat(line.tax_bill_rate.toString());frm.get(\"amount\").setValue(1),frm.get(\"unit_price\").setValue(purchase_cost),frm.get(\"tax_bill_id\").setValue(line.tax_bill_id),frm.get(\"tax_sale_id\").setValue(line.tax_sales_id);let sale_price=parseFloat((purchase_cost*line.percentage_gain/100).toString())+purchase_cost;line.sale_price>sale_price&&(sale_price=line.sale_price),frm.get(\"sale_price\").setValue(sale_price),ts.itemSelect=line,ts.itemName=line.product_name,ts.onChageTaxBill(line.tax_bill_id),ts.onChangeTaxSale(line.tax_sales_id)}}):(ts.msg.toastMessage(\"\",\"El item seleccionado no maneja inventarios.\",4),ts.onClearForm())}onClearFilter(){this.onClearForm(),this.searchField.nativeElement.value=\"\",this.itemsResult=this.items}onRefresh(){const ts=this;ts.showSpinner(\"Cargando listado de productos.\"),ts.itemsSer.getDataSales({}).subscribe(resp=>{ts.items=resp,ts.hideSpinner(),ts.itemsResult=ts.items},()=>ts.hideSpinner())}onSearchProducts(query){const ts=this;ts.showSpinner(),ts.onClearForm(),0===ts.items.length&&query.length>0?ts.itemsSer.getDataSales({}).subscribe(resp=>{ts.items=resp,ts.hideSpinner(),ts.itemsResult=ts.items.filter(ele=>ele.product_name.toLowerCase().indexOf(query.toLowerCase())>=0)}):query.length>0?(ts.itemsResult=ts.items.filter(ele=>ele.product_name.toLowerCase().indexOf(query.toLowerCase())>=0),ts.hideSpinner()):(ts.itemsResult=ts.items,ts.hideSpinner())}onClearForm(){const ts=this,frm=ts.customForm,resp=ts.oldItem;ts.itemSelect=null,ts.itemName=\"\",ts.taxBillSelect=ts.taxBill.find(tax=>tax.id===resp[0].tax_bill_id);let unitCost=resp[0].unit_cost;resp[0].vat_included||(unitCost=parseFloat(resp[0].unit_cost.toString())/parseFloat(ts.taxBillSelect.decimal_rate.toString())),frm.setValue({amount:resp[0].amount,batch:resp[0].batch,expiration_date:resp[0].expiration_date,fabrication_date:resp[0].fabrication_date,product_name:resp[0].product_name,sale_price:resp[0].sale_price,tax_bill_id:resp[0].tax_bill_id,tax_sale_id:resp[0].tax_sale_id,total_cost:resp[0].total_cost,unit_cost:resp[0].unit_cost,unit_price:unitCost,gain:0,percentage_gain:0,vat_included:resp[0].vat_included}),ts.perishable=resp[0].perishable,ts.onChageTaxBill(resp[0].tax_bill_id),ts.onChangeTaxSale(resp[0].tax_sale_id),ts.onPurchaseData()}onChageTaxBill(val){this.taxBillSelect=this.taxBill.find(tax=>tax.id===val),this.onPurchaseData()}onChageAmount(e){this.onPurchaseData()}onChageIncluded(e){this.onPurchaseData()}onChangeTaxSale(val){this.taxSaleSelect=this.taxSales.find(tax=>tax.id===val),this.onSalesData()}onSalesData(){const ts=this;if(ts.taxSaleSelect){const frm=ts.customForm,unit_price=parseFloat(frm.get(\"unit_price\").value),sale_price=parseFloat(frm.get(\"sale_price\").value),vat=parseFloat(ts.taxBillSelect.decimal_rate.toString()),vatSale=parseFloat(ts.taxSaleSelect.decimal_rate.toString());let realPrice=0,realCost=0,gain=0,percGain=0;realCost=1==frm.get(\"vat_included\").value?unit_price/vat:unit_price,realPrice=sale_price/vatSale,gain=realPrice-realCost,percGain=gain/realPrice*100,frm.get(\"gain\").setValue(gain),frm.get(\"percentage_gain\").setValue(`${percGain.toFixed(2)} %`)}}onPurchaseData(){const ts=this;if(ts.taxBillSelect){const frm=ts.customForm,amount=parseFloat(frm.get(\"amount\").value),unit_price=parseFloat(frm.get(\"unit_price\").value),vat=parseFloat(ts.taxBillSelect.decimal_rate.toString()),unit_cost=vat>0?unit_price*vat:unit_price,total=unit_cost*amount;1==frm.get(\"vat_included\").value?(frm.get(\"unit_cost\").setValue(unit_price),frm.get(\"total_cost\").setValue(unit_price*amount)):(frm.get(\"unit_cost\").setValue(unit_cost),frm.get(\"total_cost\").setValue(total)),amount>0&&ts.onSalesData()}}onSave(content={}){const ts=this;let frm=ts.customForm;const uid=ts.uid;let values=frm.getRawValue();return parseFloat(values.amount)<=0||parseFloat(values.sale_price)<=0||parseFloat(values.unit_cost)<=0?(ts.msg.toastMessage(\"\",\"Hay un error en las cantidades.\",4),!1):frm.invalid?(ts.msg.toastMessage(\"\",\"Hay campos sin llenar.\",4),!1):void(uid?ts.onSaveDetail(values):ts.msg.toastMessage(\"Error\",\"Error en la aplicación\"))}onSaveDetail(values){const ts=this;ts.showSpinner(\"Guardando cambios\"),ts.itemSelect?(ts.itemSelect.perishable||(values.batch=null,values.fabrication_date=null,values.expiration_date=null),values.product_id=ts.itemSelect.id):ts.oldItem[0].perishable||(values.batch=null,values.fabrication_date=null,values.expiration_date=null);let data={records:JSON.stringify(values)};ts.api.put(`/shopping/update/detail/${ts.uid}`,data).subscribe(resp=>{resp.success?(ts.msg.toastMessage(\"\",\"Los cambios se han guardado correctamente.\"),ts.onClose()):ts.msg.toastMessage(\"\",resp.message,4),ts.hideSpinner()},resp=>{ts.hideSpinner()})}onClose(){this.goRoute(\"shopping/invoices\")}}return DetailEditComponent.ɵfac=function(t){return new(t||DetailEditComponent)(core.Wb(fesm2015_forms.e),core.Wb(utils.b),core.Wb(utils.a),core.Wb(fesm2015_router.c),core.Wb(ngx_translate_core.d),core.Wb(fesm2015_router.a),core.Wb(general.a),core.Wb(reports_service.a),core.Wb(products.e),core.Wb(ngx_spinner.c),core.Wb(documents_service.a),core.Wb(shopping_service.a),core.Wb(general.f))},DetailEditComponent.ɵcmp=core.Qb({type:DetailEditComponent,selectors:[[\"app-detail-edit\"]],viewQuery:function(rf,ctx){if(1&rf&&(core.ad(detail_edit_component_c0,1),core.ad(detail_edit_component_c1,1),core.ad(detail_edit_component_c2,1),core.ad(detail_edit_component_c3,1),core.ad(_c4,1),core.ad(_c5,1),core.ad(_c6,1),core.ad(_c7,1)),2&rf){let _t;core.Hc(_t=core.nc())&&(ctx.customGrid=_t.first),core.Hc(_t=core.nc())&&(ctx.myDataTable=_t.first),core.Hc(_t=core.nc())&&(ctx.searchField=_t.first),core.Hc(_t=core.nc())&&(ctx.focusElement=_t.first),core.Hc(_t=core.nc())&&(ctx.amountElement=_t.first),core.Hc(_t=core.nc())&&(ctx.cashele=_t.first),core.Hc(_t=core.nc())&&(ctx.searchbar=_t.first),core.Hc(_t=core.nc())&&(ctx.myTabs=_t.first)}},features:[core.Fb],decls:114,vars:14,consts:[[1,\"card\"],[1,\"card-header\"],[1,\"card-body\"],[3,\"formGroup\"],[1,\"container-fluid\",\"padding-top-bottom\"],[1,\"row\"],[1,\"col\"],[1,\"form-group\"],[\"type\",\"text\",\"nbinput\",\"\",\"fullWidth\",\"\",\"formControlName\",\"product_name\",1,\"form-control\",3,\"readOnly\"],[1,\"col-md-7\"],[1,\"page-search-input\",\"form-group\"],[1,\"input-group\"],[\"type\",\"search\",\"id\",\"searchbar\",\"placeholder\",\"Búsqueda\",\"autofocus\",\"\",1,\"form-control\",\"rounded-right\",\"form-control-lg\",\"shadow\",\"pl-2\",3,\"keyup.enter\"],[\"searchField\",\"\"],[1,\"input-group-append\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",\"search-btn\",\"rounded\",\"space-right\",3,\"click\"],[1,\"d-none\",\"d-sm-block\"],[1,\"fas\",\"fa-search\"],[\"type\",\"button\",\"ngbTooltip\",\"Crear nuevo producto\",1,\"btn\",\"btn-success\",\"space-right\",\"radius-button\"],[1,\"fas\",\"fa-plus\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Refrescar\",1,\"btn\",\"btn-info\",\"space-right\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-sync\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Limpiar\",1,\"btn\",\"btn-danger\",\"space-right\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-broom\",\"fas-fa-22\"],[\"type\",\"button\",\"ngbTooltip\",\"Cerrar\",1,\"btn\",\"btn-danger\",\"radius-button\",3,\"click\"],[1,\"fas\",\"fa-times\",\"fas-fa-22\"],[1,\"col\",\"product-name-header\"],[1,\"col\",\"card-col\"],[1,\"card-columns\"],[\"class\",\"card card-sales\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"col-md-5\",\"card-col\"],[1,\"form-group\",\"row\"],[\"for\",\"inputQuantity\",1,\"col-sm-3\",\"col-form-label\"],[1,\"col-sm-9\"],[\"type\",\"number\",\"id\",\"inputQuantity\",\"placeholder\",\"Cantidad\",\"formControlName\",\"amount\",1,\"form-control\",3,\"change\"],[\"amountElement\",\"\"],[\"for\",\"selectBill\",1,\"col-sm-3\",\"col-form-label\"],[\"id\",\"selectBill\",\"formControlName\",\"tax_bill_id\",3,\"change\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[1,\"form-check\"],[\"type\",\"checkbox\",\"id\",\"ckInclude\",\"formControlName\",\"vat_included\",1,\"form-check-input\",3,\"change\"],[\"for\",\"ckInclude\",1,\"form-check-label\"],[\"for\",\"inputAmount1\",1,\"col-sm-3\",\"col-form-label\"],[\"formControlName\",\"unit_price\",\"currencyMask\",\"\",\"type\",\"text\",\"id\",\"inputAmount1\",\"ngbTooltip\",\"Costo unitario sin impuesto\",\"placeholder\",\"Costo unitario\",1,\"form-control\",3,\"keyup\"],[1,\"col-sm-6\"],[\"formControlName\",\"unit_cost\",\"currencyMask\",\"\",\"type\",\"text\",\"id\",\"inputAmount\",\"ngbTooltip\",\"Costo unitario con impuesto\",\"placeholder\",\"Costo unitario\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"total\"],[\"formControlName\",\"total_cost\",\"type\",\"text\",\"currencyMask\",\"\",\"placeholder\",\"Total\",\"readonly\",\"\",1,\"form-control\",\"radius-button\",\"total\"],[\"for\",\"selectSale\",1,\"col-sm-4\",\"col-form-label\"],[1,\"col-sm-8\"],[\"id\",\"selectSale\",\"formControlName\",\"tax_sale_id\",3,\"change\"],[\"for\",\"salePrice\",1,\"col-sm-4\",\"col-form-label\"],[\"formControlName\",\"sale_price\",\"currencyMask\",\"\",\"type\",\"text\",\"id\",\"salePrice\",\"placement\",\"bottom\",\"ngbTooltip\",\"Precio de venta con impuesto incluido\",\"placeholder\",\"Precio de venta\",1,\"form-control\",3,\"keyup\"],[1,\"col-sm-4\",\"col-form-label\"],[\"readonly\",\"\",\"formControlName\",\"gain\",\"currencyMask\",\"\",\"type\",\"text\",\"placement\",\"bottom\",\"ngbTooltip\",\"Ganancia posible\",\"placeholder\",\"Ganancia posible\",1,\"form-control\"],[\"readonly\",\"\",\"formControlName\",\"percentage_gain\",\"type\",\"text\",\"placement\",\"bottom\",\"ngbTooltip\",\"Procentaje Ganancia posible\",1,\"form-control\"],[\"class\",\"form-group row\",4,\"ngIf\"],[\"type\",\"button\",1,\"btn\",\"radius-button\",\"btn-primary\",\"space-right\",\"radius-button\",\"btn-block\",3,\"disabled\",\"click\"],[1,\"fas\",\"fa-save\",\"fas-fa-22\"],[2,\"color\",\"white\"],[1,\"card\",\"card-sales\",3,\"click\"],[\"fallimg\",\"product\",1,\"img-product\",\"card-img-top\",3,\"src\"],[1,\"price\"],[1,\"product-name\"],[3,\"value\"],[1,\"col-sm-5\",\"col-form-label\"],[1,\"col-sm-7\"],[\"formControlName\",\"batch\",\"type\",\"text\",1,\"form-control\",3,\"readonly\"],[\"formControlName\",\"fabrication_date\",\"type\",\"date\",1,\"form-control\",3,\"readonly\"],[\"formControlName\",\"expiration_date\",\"type\",\"date\",1,\"form-control\",3,\"readonly\"]],template:function(rf,ctx){if(1&rf){const _r13=core.dc();core.cc(0,\"div\",0),core.cc(1,\"div\",1),core.Uc(2,\" EDITAR DETALLE DEL ITEM \"),core.bc(),core.cc(3,\"div\",2),core.cc(4,\"form\",3),core.cc(5,\"div\",4),core.cc(6,\"div\",5),core.cc(7,\"div\",6),core.cc(8,\"div\",7),core.cc(9,\"label\"),core.Uc(10,\"Nombre del producto.\"),core.bc(),core.Xb(11,\"input\",8),core.bc(),core.bc(),core.bc(),core.cc(12,\"div\",5),core.cc(13,\"div\",9),core.cc(14,\"div\",5),core.cc(15,\"div\",6),core.cc(16,\"div\",10),core.cc(17,\"fieldset\"),core.cc(18,\"div\",11),core.cc(19,\"input\",12,13),core.mc(\"keyup.enter\",function(){core.Lc(_r13);const _r0=core.Ic(20);return ctx.onSearchProducts(_r0.value)}),core.bc(),core.cc(21,\"div\",14),core.cc(22,\"button\",15),core.mc(\"click\",function(){core.Lc(_r13);const _r0=core.Ic(20);return ctx.onSearchProducts(_r0.value)}),core.Xb(23,\"span\",16),core.Xb(24,\"i\",17),core.bc(),core.cc(25,\"button\",18),core.Xb(26,\"i\",19),core.bc(),core.cc(27,\"button\",20),core.mc(\"click\",function(){return ctx.onRefresh()}),core.Xb(28,\"i\",21),core.bc(),core.cc(29,\"button\",22),core.mc(\"click\",function(){return ctx.onClearFilter()}),core.Xb(30,\"i\",23),core.bc(),core.cc(31,\"button\",24),core.mc(\"click\",function(){return ctx.onClose()}),core.Xb(32,\"i\",25),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(33,\"div\",5),core.cc(34,\"div\",26),core.cc(35,\"label\"),core.cc(36,\"span\"),core.Uc(37),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(38,\"div\",5),core.cc(39,\"div\",27),core.cc(40,\"div\",28),core.Sc(41,DetailEditComponent_div_41_Template,8,5,\"div\",29),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(42,\"div\",30),core.cc(43,\"div\",5),core.cc(44,\"div\",6),core.cc(45,\"div\",0),core.cc(46,\"div\",1),core.Uc(47,\" Datos de compra \"),core.bc(),core.cc(48,\"div\"),core.cc(49,\"div\",31),core.cc(50,\"label\",32),core.Uc(51,\"Cantidad\"),core.bc(),core.cc(52,\"div\",33),core.cc(53,\"input\",34,35),core.mc(\"change\",function($event){return ctx.onChageAmount($event)}),core.bc(),core.bc(),core.bc(),core.cc(55,\"div\",31),core.cc(56,\"label\",36),core.Uc(57,\"Impuesto\"),core.bc(),core.cc(58,\"div\",33),core.cc(59,\"ng-select\",37),core.mc(\"change\",function($event){return ctx.onChageTaxBill($event)}),core.Sc(60,DetailEditComponent_ng_option_60_Template,2,3,\"ng-option\",38),core.bc(),core.bc(),core.bc(),core.cc(61,\"div\",31),core.cc(62,\"div\",39),core.cc(63,\"input\",40),core.mc(\"change\",function($event){return ctx.onChageIncluded($event)}),core.bc(),core.cc(64,\"label\",41),core.Uc(65,\" Incluido \"),core.bc(),core.bc(),core.bc(),core.cc(66,\"div\",31),core.cc(67,\"label\",42),core.Uc(68,\"Costo U.\"),core.bc(),core.cc(69,\"div\",33),core.cc(70,\"input\",43),core.mc(\"keyup\",function(){return ctx.onChangeUnitPrice()}),core.bc(),core.bc(),core.bc(),core.cc(71,\"div\",31),core.cc(72,\"div\",44),core.Xb(73,\"input\",45),core.bc(),core.cc(74,\"div\",44),core.Xb(75,\"input\",46),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(76,\"div\",5),core.cc(77,\"div\",6),core.cc(78,\"div\",0),core.cc(79,\"div\"),core.Uc(80,\" Datos de venta \"),core.bc(),core.cc(81,\"div\"),core.cc(82,\"div\",31),core.cc(83,\"label\",47),core.Uc(84,\"Impuesto\"),core.bc(),core.cc(85,\"div\",48),core.cc(86,\"ng-select\",49),core.mc(\"change\",function($event){return ctx.onChangeTaxSale($event)}),core.Sc(87,DetailEditComponent_ng_option_87_Template,2,3,\"ng-option\",38),core.bc(),core.bc(),core.bc(),core.cc(88,\"div\",31),core.cc(89,\"label\",50),core.Uc(90,\"Precio de venta\"),core.bc(),core.cc(91,\"div\",48),core.cc(92,\"input\",51),core.mc(\"keyup\",function(){return ctx.onChangeSalePrice()}),core.bc(),core.bc(),core.bc(),core.cc(93,\"div\",31),core.cc(94,\"label\",52),core.Uc(95,\"Ganancia posible\"),core.bc(),core.cc(96,\"div\",48),core.Xb(97,\"input\",53),core.bc(),core.bc(),core.cc(98,\"div\",31),core.cc(99,\"label\",52),core.Uc(100,\"% Ganancia\"),core.bc(),core.cc(101,\"div\",48),core.Xb(102,\"input\",54),core.bc(),core.bc(),core.Sc(103,DetailEditComponent_div_103_Template,5,1,\"div\",55),core.Sc(104,DetailEditComponent_div_104_Template,5,1,\"div\",55),core.Sc(105,DetailEditComponent_div_105_Template,5,1,\"div\",55),core.cc(106,\"div\",7),core.cc(107,\"button\",56),core.mc(\"click\",function(){return ctx.onSave()}),core.Xb(108,\"i\",57),core.Uc(109),core.pc(110,\"translate\"),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.bc(),core.cc(111,\"ngx-spinner\"),core.cc(112,\"p\",58),core.Uc(113),core.bc(),core.bc()}2&rf&&(core.Ib(4),core.vc(\"formGroup\",ctx.customForm),core.Ib(7),core.vc(\"readOnly\",ctx.editing),core.Ib(26),core.Wc(\" \",ctx.itemName,\" \"),core.Ib(4),core.vc(\"ngForOf\",ctx.itemsResult),core.Ib(19),core.vc(\"ngForOf\",ctx.taxBill),core.Ib(27),core.vc(\"ngForOf\",ctx.taxSales),core.Ib(16),core.vc(\"ngIf\",ctx.perishable),core.Ib(1),core.vc(\"ngIf\",ctx.perishable),core.Ib(1),core.vc(\"ngIf\",ctx.perishable),core.Ib(2),core.vc(\"disabled\",!ctx.customForm.valid),core.Ib(2),core.Wc(\" \",core.qc(110,12,\"buttons.save\"),\" \"),core.Ib(4),core.Wc(\" \",ctx.maskSpinner,\" \"))},directives:[fesm2015_forms.z,fesm2015_forms.q,fesm2015_forms.h,fesm2015_forms.c,fesm2015_forms.p,fesm2015_forms.g,ng_bootstrap.N,common.m,fesm2015_forms.u,ng_select_ng_select.a,fesm2015_forms.a,ngx_currency.a,common.n,ngx_spinner.a,ng_select_ng_select.d],pipes:[ngx_translate_core.c,common.d],styles:[\"@media (min-width:768px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:4;column-count:4}}@media (min-width:992px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:6;column-count:6}}@media (min-width:1200px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:8;column-count:8}}.create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col-list[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}\"]}),DetailEditComponent})()},{path:\"providers\",component:providers_component_ProvidersComponent},{path:\"providers/create\",component:provider_form_component_ProviderFormComponent},{path:\"providers/edit/:id\",component:provider_form_component_ProviderFormComponent}]}];let shopping_routing_module_ShoppingRoutingModule=(()=>{class ShoppingRoutingModule{}return ShoppingRoutingModule.ɵfac=function(t){return new(t||ShoppingRoutingModule)},ShoppingRoutingModule.ɵmod=core.Ub({type:ShoppingRoutingModule}),ShoppingRoutingModule.ɵinj=core.Tb({imports:[[fesm2015_router.f.forChild(routes)],fesm2015_router.f]}),ShoppingRoutingModule})();const customCurrencyMaskConfig={align:\"right\",allowNegative:!0,allowZero:!0,decimal:\".\",precision:2,prefix:\"$ \",suffix:\"\",thousands:\",\",nullable:!0};let shopping_module_ShoppingModule=(()=>{class ShoppingModule{}return ShoppingModule.ɵfac=function(t){return new(t||ShoppingModule)},ShoppingModule.ɵmod=core.Ub({type:ShoppingModule}),ShoppingModule.ɵinj=core.Tb({imports:[[common.c,ngx_spinner.b,jqwidgets_ng_jqxdatatable.a,ng_bootstrap.t,core_module.a,ng_bootstrap.C,ngx_currency.b.forRoot(customCurrencyMaskConfig),jqwidgets_ng_jqxmenu.b,ng_select_ng_select.c,jqwidgets_ng_jqxgrid.b,jqwidgets_ng_jqxtabs.b,fesm2015_forms.v,ngx_translate_core.b,shopping_routing_module_ShoppingRoutingModule]]}),ShoppingModule})()}}]);","name":"31-es2015.bcc739e00b580a44eb90.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[31],{\n\n/***/ \"aAFz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"customCurrencyMaskConfig\", function() { return /* binding */ customCurrencyMaskConfig; });\n__webpack_require__.d(__webpack_exports__, \"ShoppingModule\", function() { return /* binding */ shopping_module_ShoppingModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/jqwidgets-ng/__ivy_ngcc__/fesm2015/jqwidgets-ng-jqxgrid.js\nvar jqwidgets_ng_jqxgrid = __webpack_require__(\"aSZe\");\n\n// EXTERNAL MODULE: ./node_modules/jqwidgets-ng/__ivy_ngcc__/fesm2015/jqwidgets-ng-jqxmenu.js\nvar jqwidgets_ng_jqxmenu = __webpack_require__(\"7M0M\");\n\n// EXTERNAL MODULE: ./node_modules/jqwidgets-ng/__ivy_ngcc__/fesm2015/jqwidgets-ng-jqxtabs.js\nvar jqwidgets_ng_jqxtabs = __webpack_require__(\"Z1v9\");\n\n// EXTERNAL MODULE: ./node_modules/jqwidgets-ng/__ivy_ngcc__/fesm2015/jqwidgets-ng-jqxdatatable.js\nvar jqwidgets_ng_jqxdatatable = __webpack_require__(\"3HhI\");\n\n// EXTERNAL MODULE: ./node_modules/@ng-select/ng-select/__ivy_ngcc__/fesm2015/ng-select-ng-select.js + 6 modules\nvar ng_select_ng_select = __webpack_require__(\"ZOsW\");\n\n// EXTERNAL MODULE: ./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm2015/ng-bootstrap.js + 5 modules\nvar ng_bootstrap = __webpack_require__(\"1kSV\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-currency/__ivy_ngcc__/fesm2015/ngx-currency.js\nvar ngx_currency = __webpack_require__(\"TT0I\");\n\n// EXTERNAL MODULE: ./src/app/core/core.module.ts\nvar core_module = __webpack_require__(\"pKmL\");\n\n// EXTERNAL MODULE: ./node_modules/ngx-spinner/__ivy_ngcc__/fesm2015/ngx-spinner.js\nvar ngx_spinner = __webpack_require__(\"JqCM\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 4 modules\nvar fesm2015_router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// CONCATENATED MODULE: ./src/app/shopping/shopping.component.ts\n\r\n\r\nlet shopping_component_ShoppingComponent = /*@__PURE__*/ (() => {\r\n    class ShoppingComponent {\r\n    }\r\n    ShoppingComponent.ɵfac = function ShoppingComponent_Factory(t) { return new (t || ShoppingComponent)(); };\r\n    ShoppingComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: ShoppingComponent, selectors: [[\"app-shopping\"]], decls: 1, vars: 0, template: function ShoppingComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Xb\" /* ɵɵelement */](0, \"router-outlet\");\r\n            }\r\n        }, directives: [fesm2015_router[\"g\" /* RouterOutlet */]], encapsulation: 2 });\r\n    return ShoppingComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/core/data/custom-grid/jqx-custom-grid.component.ts\nvar jqx_custom_grid_component = __webpack_require__(\"py8Q\");\n\n// EXTERNAL MODULE: ./src/app/utils/index.ts + 2 modules\nvar utils = __webpack_require__(\"YMfE\");\n\n// CONCATENATED MODULE: ./src/app/shopping/providers/providers.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst _c0 = [\"customGrid\"];\r\nconst _c1 = [\"searchField\"];\r\nfunction ProvidersComponent_div_66_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r5 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\");\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"button\", 21);\r\n        core[\"mc\" /* ɵɵlistener */](\"click\", function ProvidersComponent_div_66_Template_button_click_1_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r5); const ctx_r4 = core[\"oc\" /* ɵɵnextContext */](); return ctx_r4.importData(); });\r\n        core[\"Xb\" /* ɵɵelement */](2, \"i\", 33);\r\n        core[\"Uc\" /* ɵɵtext */](3);\r\n        core[\"pc\" /* ɵɵpipe */](4, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx_r1.loading);\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](4, 2, \"buttons.import\"), \" \");\r\n    }\r\n}\r\nlet providers_component_ProvidersComponent = /*@__PURE__*/ (() => {\r\n    class ProvidersComponent extends jqx_custom_grid_component[\"a\" /* JqxCustomGridComponent */] {\r\n        constructor(msg, api, router, translate, aRouter) {\r\n            super(msg, api, router, translate, aRouter);\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.title = 'Proveedores';\r\n        }\r\n        ngOnInit() {\r\n            this.changeLanguage(this.activeLang);\r\n        }\r\n        ngAfterViewInit() {\r\n            const ts = this;\r\n            ts.crudApi = {\r\n                create: '/persons/create/provider',\r\n                read: '/persons/providers',\r\n                update: '/persons/update/',\r\n                delete: '/persons/delete/'\r\n            };\r\n            ts.showActions = true;\r\n            ts.showRowNumber = true;\r\n            ts.pagesize = 10;\r\n            ts.datafields = [\r\n                { name: 'id', type: 'number' },\r\n                { name: 'company_name', type: 'string' },\r\n                { name: 'dni', type: 'string' },\r\n                { name: 'description', type: 'string' },\r\n                { name: 'full_name', type: 'string' },\r\n            ];\r\n            ts.sourceColumns =\r\n                [\r\n                    { text: 'Mostrar nombre como', datafield: 'full_name', align: 'center' },\r\n                    { text: 'DNI', datafield: 'dni', align: 'center', minWidth: 100, cellsalign: 'right' },\r\n                    { text: 'Empresa', datafield: 'company_name', align: 'center' },\r\n                ];\r\n            this.prepareGrid();\r\n        }\r\n        createData() {\r\n            const ts = this;\r\n            super.createData();\r\n            ts.goRoute('shopping/providers/create');\r\n        }\r\n        editData(data) {\r\n            super.editData(data);\r\n            this.goRoute(`shopping/providers/edit/${data.id}`);\r\n        }\r\n    }\r\n    ProvidersComponent.ɵfac = function ProvidersComponent_Factory(t) { return new (t || ProvidersComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */])); };\r\n    ProvidersComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: ProvidersComponent, selectors: [[\"app-providers\"]], viewQuery: function ProvidersComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](_c0, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c1, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.customGrid = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.searchField = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 77, vars: 38, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"menuExport\"], [1, \"space-right\"], [1, \"btn\", \"btn-danger\", \"round\", \"mr-1\", \"mb-1\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-sync\", \"mr-1\", \"fas-fa-22\"], [1, \"myMenu\", \"space-right\"], [1, \"clearColor\", 3, \"height\", \"onItemclick\"], [\"myMenu\", \"\"], [\"id\", \"Exports\"], [1, \"fas\", \"fa-cog\", \"fas-fa-22\", \"fas-fa-red\"], [\"href\", \"javascript:void(0)\"], [2, \"width\", \"200px\"], [1, \"fas\", \"fa-file-excel\", \"fas-fa-xls\"], [1, \"fas\", \"fa-file-csv\", \"fas-fa-xls\"], [\"type\", \"separator\"], [1, \"fas\", \"fa-file-pdf\", \"fas-fa-pdf\"], [1, \"fas\", \"fa-file-code\", \"fas-fa-code\"], [1, \"fas\", \"fa-print\", \"fas-fa-print\"], [1, \"margin-left\", \"space-right\"], [1, \"btn\", \"btn-success\", \"round\", \"mr-1\", \"mb-1\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-plus\", \"mr-1\", \"fas-fa-22\"], [4, \"ngIf\"], [1, \"container-fluid\"], [1, \"input-group\"], [\"type\", \"text\", \"autofocus\", \"\", 1, \"form-control\", 3, \"placeholder\", \"keyup\"], [\"searchField\", \"\"], [1, \"input-group-append\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-search\"], [\"width\", \"100%\", 3, \"disabled\", \"auto-create\", \"onCellselect\", \"onBindingcomplete\"], [\"customGrid\", \"\"], [1, \"fa\", \"fa-upload\", \"mr-1\", \"fas-fa-22\"]], template: function ProvidersComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"cc\" /* ɵɵelementStart */](2, \"h4\", 2);\r\n                core[\"Uc\" /* ɵɵtext */](3);\r\n                core[\"pc\" /* ɵɵpipe */](4, \"uppercase\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](5, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](6, \"div\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"div\", 4);\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"button\", 5);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ProvidersComponent_Template_button_click_8_listener() { return ctx.searchQuery(); });\r\n                core[\"Xb\" /* ɵɵelement */](9, \"i\", 6);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](10, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](11, \"jqxMenu\", 8, 9);\r\n                core[\"mc\" /* ɵɵlistener */](\"onItemclick\", function ProvidersComponent_Template_jqxMenu_onItemclick_11_listener($event) { return ctx.itemclick($event); });\r\n                core[\"cc\" /* ɵɵelementStart */](13, \"ul\");\r\n                core[\"cc\" /* ɵɵelementStart */](14, \"li\", 10);\r\n                core[\"Xb\" /* ɵɵelement */](15, \"i\", 11);\r\n                core[\"Xb\" /* ɵɵelement */](16, \"a\", 12);\r\n                core[\"cc\" /* ɵɵelementStart */](17, \"ul\", 13);\r\n                core[\"cc\" /* ɵɵelementStart */](18, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](20, \"i\", 14);\r\n                core[\"Uc\" /* ɵɵtext */](21);\r\n                core[\"pc\" /* ɵɵpipe */](22, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](23, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](24, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](25, \"i\", 15);\r\n                core[\"Uc\" /* ɵɵtext */](26);\r\n                core[\"pc\" /* ɵɵpipe */](27, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](28, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](29, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](30, \"i\", 14);\r\n                core[\"Uc\" /* ɵɵtext */](31);\r\n                core[\"pc\" /* ɵɵpipe */](32, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](33, \"li\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](34, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](35, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](36, \"i\", 17);\r\n                core[\"Uc\" /* ɵɵtext */](37);\r\n                core[\"pc\" /* ɵɵpipe */](38, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](39, \"li\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](40, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](41, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](42, \"i\", 18);\r\n                core[\"Uc\" /* ɵɵtext */](43);\r\n                core[\"pc\" /* ɵɵpipe */](44, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](45, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](46, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](47, \"i\", 18);\r\n                core[\"Uc\" /* ɵɵtext */](48);\r\n                core[\"pc\" /* ɵɵpipe */](49, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](50, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](51, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](52, \"i\", 18);\r\n                core[\"Uc\" /* ɵɵtext */](53);\r\n                core[\"pc\" /* ɵɵpipe */](54, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](55, \"li\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](56, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](57, \"a\", 12);\r\n                core[\"Xb\" /* ɵɵelement */](58, \"i\", 19);\r\n                core[\"Uc\" /* ɵɵtext */](59);\r\n                core[\"pc\" /* ɵɵpipe */](60, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](61, \"div\", 20);\r\n                core[\"cc\" /* ɵɵelementStart */](62, \"button\", 21);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ProvidersComponent_Template_button_click_62_listener() { return ctx.createData(); });\r\n                core[\"Xb\" /* ɵɵelement */](63, \"i\", 22);\r\n                core[\"Uc\" /* ɵɵtext */](64);\r\n                core[\"pc\" /* ɵɵpipe */](65, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](66, ProvidersComponent_div_66_Template, 5, 4, \"div\", 23);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](67, \"div\", 24);\r\n                core[\"cc\" /* ɵɵelementStart */](68, \"fieldset\");\r\n                core[\"cc\" /* ɵɵelementStart */](69, \"div\", 25);\r\n                core[\"cc\" /* ɵɵelementStart */](70, \"input\", 26, 27);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup\", function ProvidersComponent_Template_input_keyup_70_listener($event) { return ctx.inputKey($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](72, \"div\", 28);\r\n                core[\"cc\" /* ɵɵelementStart */](73, \"button\", 29);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ProvidersComponent_Template_button_click_73_listener() { return ctx.searchQuery(); });\r\n                core[\"Xb\" /* ɵɵelement */](74, \"i\", 30);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](75, \"jqxGrid\", 31, 32);\r\n                core[\"mc\" /* ɵɵlistener */](\"onCellselect\", function ProvidersComponent_Template_jqxGrid_onCellselect_75_listener($event) { return ctx.cellClick($event); })(\"onBindingcomplete\", function ProvidersComponent_Template_jqxGrid_onBindingcomplete_75_listener($event) { return ctx.Bindingcomplete($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](4, 18, ctx.title));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"height\", 36);\r\n                core[\"Ib\" /* ɵɵadvance */](10);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](22, 20, \"export.excel\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](27, 22, \"export.csv\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](32, 24, \"export.xml\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](38, 26, \"export.pdf\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](44, 28, \"export.html\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](49, 30, \"export.json\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](54, 32, \"export.tsv\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](60, 34, \"export.print\"));\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](65, 36, \"buttons.new\"), \" \");\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", ctx.useImport);\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"placeholder\", ctx.placeholderSearch);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading)(\"auto-create\", false);\r\n            }\r\n        }, directives: [jqwidgets_ng_jqxmenu[\"a\" /* jqxMenuComponent */], common[\"n\" /* NgIf */], jqwidgets_ng_jqxgrid[\"a\" /* jqxGridComponent */]], pipes: [common[\"v\" /* UpperCasePipe */], ngx_translate_core[\"c\" /* TranslatePipe */]], encapsulation: 2 });\r\n    return ProvidersComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/core/components/forms/form.component.ts\nvar form_component = __webpack_require__(\"TK7J\");\n\n// EXTERNAL MODULE: ./src/app/services/products/index.ts + 7 modules\nvar products = __webpack_require__(\"UnFQ\");\n\n// EXTERNAL MODULE: ./src/app/services/global/index.ts + 4 modules\nvar global = __webpack_require__(\"Absx\");\n\n// EXTERNAL MODULE: ./src/app/services/companies/index.ts + 2 modules\nvar companies = __webpack_require__(\"mm0L\");\n\n// EXTERNAL MODULE: ./src/app/services/general/index.ts + 4 modules\nvar general = __webpack_require__(\"PcHl\");\n\n// EXTERNAL MODULE: ./src/app/services/accounting/index.ts + 2 modules\nvar accounting = __webpack_require__(\"dKyG\");\n\n// EXTERNAL MODULE: ./src/app/core/components/forms/footer-form/footer-form.component.ts\nvar footer_form_component = __webpack_require__(\"uHPU\");\n\n// CONCATENATED MODULE: ./src/app/shopping/providers/provider-form.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst provider_form_component_c0 = [\"focusElement\"];\r\nconst provider_form_component_c1 = [\"uploadFile\"];\r\nconst _c2 = [\"imgUp\"];\r\nfunction ProviderFormComponent_ng_template_13_ng_option_10_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const typeOrg_r8 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", typeOrg_r8.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\"\", typeOrg_r8.description, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_13_ng_option_30_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Xb\" /* ɵɵelement */](1, \"img\", 32);\r\n        core[\"Uc\" /* ɵɵtext */](2);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const curre_r9 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", curre_r9.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"src\", \"assets/flags/\" + curre_r9.image, core[\"Oc\" /* ɵɵsanitizeUrl */]);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", curre_r9.CurrencyName, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_13_ng_option_40_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Xb\" /* ɵɵelement */](1, \"img\", 32);\r\n        core[\"Uc\" /* ɵɵtext */](2);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const country_r10 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", country_r10.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"src\", \"assets/flags/\" + country_r10.image, core[\"Oc\" /* ɵɵsanitizeUrl */]);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", country_r10.country_name, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_13_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"label\");\r\n        core[\"cc\" /* ɵɵelementStart */](4, \"span\", 15);\r\n        core[\"Uc\" /* ɵɵtext */](5);\r\n        core[\"pc\" /* ɵɵpipe */](6, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Uc\" /* ɵɵtext */](7);\r\n        core[\"pc\" /* ɵɵpipe */](8, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](9, \"ng-select\", 16);\r\n        core[\"Sc\" /* ɵɵtemplate */](10, ProviderFormComponent_ng_template_13_ng_option_10_Template, 2, 2, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](11, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](12, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](13, \"label\");\r\n        core[\"cc\" /* ɵɵelementStart */](14, \"span\", 15);\r\n        core[\"Uc\" /* ɵɵtext */](15);\r\n        core[\"pc\" /* ɵɵpipe */](16, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Uc\" /* ɵɵtext */](17, \"Mostrar nombre como\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](18, \"input\", 18, 19);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](20, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](21, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](22, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](23, \"label\");\r\n        core[\"cc\" /* ɵɵelementStart */](24, \"span\", 15);\r\n        core[\"Uc\" /* ɵɵtext */](25);\r\n        core[\"pc\" /* ɵɵpipe */](26, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Uc\" /* ɵɵtext */](27);\r\n        core[\"pc\" /* ɵɵpipe */](28, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](29, \"ng-select\", 20);\r\n        core[\"Sc\" /* ɵɵtemplate */](30, ProviderFormComponent_ng_template_13_ng_option_30_Template, 3, 3, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](31, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](32, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](33, \"label\");\r\n        core[\"cc\" /* ɵɵelementStart */](34, \"span\", 15);\r\n        core[\"Uc\" /* ɵɵtext */](35);\r\n        core[\"pc\" /* ɵɵpipe */](36, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Uc\" /* ɵɵtext */](37);\r\n        core[\"pc\" /* ɵɵpipe */](38, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](39, \"ng-select\", 21);\r\n        core[\"Sc\" /* ɵɵtemplate */](40, ProviderFormComponent_ng_template_13_ng_option_40_Template, 3, 3, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](41, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](42, \"div\", 22);\r\n        core[\"cc\" /* ɵɵelementStart */](43, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](44, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](45, \"Titulo\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](46, \"input\", 23);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](47, \"div\", 24);\r\n        core[\"cc\" /* ɵɵelementStart */](48, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](49, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](50, \"Nombres\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](51, \"input\", 25);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](52, \"div\", 24);\r\n        core[\"cc\" /* ɵɵelementStart */](53, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](54, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](55, \"Apellidos\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](56, \"input\", 26);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](57, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](58, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](59, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](60, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](61, \"DNI\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](62, \"input\", 27);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](63, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](64, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](65, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](66, \"Nombre de la empresa\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](67, \"input\", 28);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](68, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](69, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](70, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](71, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](72, \"Correo electr\\u00F3nico\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](73, \"input\", 29);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](74, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](75, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](76, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](77, \"Web\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](78, \"input\", 30);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](6, 25, \"general.asterisk\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](8, 27, \"companies.type_organization\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Ob\" /* ɵɵclassProp */](\"is-invalid\", ctx_r1.invalidOrganization);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.typeOrg);\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](16, 29, \"general.asterisk\"));\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"Ob\" /* ɵɵclassProp */](\"is-invalid\", ctx_r1.invalidFullName)(\"status-danger\", ctx_r1.invalidFullName);\r\n        core[\"Ib\" /* ɵɵadvance */](7);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](26, 31, \"general.asterisk\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](28, 33, \"companies.currency\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Ob\" /* ɵɵclassProp */](\"is-invalid\", ctx_r1.invalidCurrency);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.currency);\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](36, 35, \"general.asterisk\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](38, 37, \"companies.country\"));\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Ob\" /* ɵɵclassProp */](\"is-invalid\", ctx_r1.invalidCountry)(\"status-danger\", ctx_r1.invalidCountry);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.countries);\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_17_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](4, \"Direcci\\u00F3n principal\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](5, \"textarea\", 33);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](6, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](7, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](8, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](9, \"Direcci\\u00F3n postal\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](10, \"textarea\", 34);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](11, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](12, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](13, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](14, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](15, \"Ciudad/Distrito\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](16, \"input\", 35);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](17, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](18, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](19, \"Estado/Provincia\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](20, \"input\", 36);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](21, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](22, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](23, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](24, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](25, \"C\\u00F3digo postal\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](26, \"input\", 37);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](27, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](28, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](29, \"Movil\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](30, \"input\", 38);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](31, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](32, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](33, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](34, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](35, \"Fijo\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](36, \"input\", 39);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_21_ng_option_9_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const tax_r15 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", tax_r15.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Xc\" /* ɵɵtextInterpolate2 */](\" \", tax_r15.name_taxe, \" - \", tax_r15.rate_name, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_21_ng_option_17_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const account_r16 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", account_r16.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Xc\" /* ɵɵtextInterpolate2 */](\" \", account_r16.account_number, \" - \", account_r16.account_name, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_21_ng_option_26_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const payment_r17 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", payment_r17.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", payment_r17.payment_method, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_21_ng_option_34_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const timel_r18 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", timel_r18.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", timel_r18.term_name, \" \");\r\n    }\r\n}\r\nfunction ProviderFormComponent_ng_template_21_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](4);\r\n        core[\"pc\" /* ɵɵpipe */](5, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](6, \"ng-select\", 40);\r\n        core[\"cc\" /* ɵɵelementStart */](7, \"ng-option\", 41);\r\n        core[\"Uc\" /* ɵɵtext */](8, \"Seleccionar\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Sc\" /* ɵɵtemplate */](9, ProviderFormComponent_ng_template_21_ng_option_9_Template, 2, 3, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](10, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](11, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](12, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](13, \"Cuenta contable\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](14, \"ng-select\", 42);\r\n        core[\"cc\" /* ɵɵelementStart */](15, \"ng-option\", 41);\r\n        core[\"Uc\" /* ɵɵtext */](16, \"Seleccionar\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Sc\" /* ɵɵtemplate */](17, ProviderFormComponent_ng_template_21_ng_option_17_Template, 2, 3, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](18, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](19, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](20, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](21, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](22, \"Metodo de pago preferido\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](23, \"ng-select\", 43);\r\n        core[\"cc\" /* ɵɵelementStart */](24, \"ng-option\", 41);\r\n        core[\"Uc\" /* ɵɵtext */](25, \"Seleccionar\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Sc\" /* ɵɵtemplate */](26, ProviderFormComponent_ng_template_21_ng_option_26_Template, 2, 2, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](27, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](28, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](29, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](30, \"Condiciones de pago\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](31, \"ng-select\", 44);\r\n        core[\"cc\" /* ɵɵelementStart */](32, \"ng-option\", 41);\r\n        core[\"Uc\" /* ɵɵtext */](33, \"Seleccionar\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Sc\" /* ɵɵtemplate */](34, ProviderFormComponent_ng_template_21_ng_option_34_Template, 2, 2, \"ng-option\", 17);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](35, \"div\", 12);\r\n        core[\"cc\" /* ɵɵelementStart */](36, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](37, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](38, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](39, \"Saldo inicial\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](40, \"input\", 45);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](41, \"div\", 13);\r\n        core[\"cc\" /* ɵɵelementStart */](42, \"div\", 14);\r\n        core[\"cc\" /* ɵɵelementStart */](43, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](44, \"A partir de la fecha\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](45, \"input\", 46);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r3 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](4);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](5, 8, \"general.tax\"));\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.tax);\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.accounts);\r\n        core[\"Ib\" /* ɵɵadvance */](6);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.payments);\r\n        core[\"Ib\" /* ɵɵadvance */](5);\r\n        core[\"vc\" /* ɵɵproperty */](\"virtualScroll\", true);\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.timelimits);\r\n    }\r\n}\r\nlet provider_form_component_ProviderFormComponent = /*@__PURE__*/ (() => {\r\n    class ProviderFormComponent extends form_component[\"a\" /* FormComponent */] {\r\n        constructor(fb, msg, api, router, translate, aRouter, termsSer, attrSer, spinner, docs, cnt, curr, tor, taxSer, accountSer, custSer) {\r\n            super(fb, msg, api, router, translate, aRouter, spinner);\r\n            this.fb = fb;\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.termsSer = termsSer;\r\n            this.attrSer = attrSer;\r\n            this.spinner = spinner;\r\n            this.docs = docs;\r\n            this.cnt = cnt;\r\n            this.curr = curr;\r\n            this.tor = tor;\r\n            this.taxSer = taxSer;\r\n            this.accountSer = accountSer;\r\n            this.custSer = custSer;\r\n            // @ViewChild('imgData') imgData: ElementRef;\r\n            this.typepersons = [];\r\n            this.identityDocs = [];\r\n            this.typeOrg = [];\r\n            this.countries = [];\r\n            this.currency = [];\r\n            this.tax = [];\r\n            this.persons = [];\r\n            this.accounts = [];\r\n            this.payments = [];\r\n            this.timelimits = [];\r\n            this.active = 1;\r\n            this.title = 'Proveedor';\r\n            this.translate.setDefaultLang(this.activeLang);\r\n            this.customForm = this.fb.group({\r\n                address: [''],\r\n                city_name: [''],\r\n                company_name: [''],\r\n                description: [''],\r\n                dni: [''],\r\n                email: [''],\r\n                last_name: [''],\r\n                location: [''],\r\n                mobile: [''],\r\n                names: [''],\r\n                phone: [''],\r\n                postal_code: [''],\r\n                state_name: [''],\r\n                title: [''],\r\n                web: [''],\r\n                currency_id: ['', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                country_id: [113, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                type_organization_id: [1, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                person_type_id: [1, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                tax_rate_id: ['0'],\r\n                means_payment_id: ['0'],\r\n                sales_term: ['0'],\r\n                accounting_account_id: ['0'],\r\n                initial_balance: [''],\r\n                initial_date: [new Date().toISOString().split('T')[0]],\r\n                full_name: ['', [fesm2015_forms[\"y\" /* Validators */].required, fesm2015_forms[\"y\" /* Validators */].minLength(6)]],\r\n            });\r\n        }\r\n        // VALIDATION\r\n        get invalidFullName() {\r\n            return this.customForm.get('full_name').invalid && this.customForm.get('full_name').touched;\r\n        }\r\n        get invalidPersonType() {\r\n            return (this.customForm.get('person_type_id').value <= 0) ? true : false;\r\n        }\r\n        get invalidCountry() {\r\n            return (this.customForm.get('country_id').value <= 0) ? true : false;\r\n        }\r\n        get invalidCurrency() {\r\n            return (this.customForm.get('currency_id').value <= 0) ? true : false;\r\n        }\r\n        get invalidOrganization() {\r\n            return (this.customForm.get('type_organization_id').value <= 0) ? true : false;\r\n        }\r\n        ngOnInit() {\r\n            super.ngOnInit();\r\n            const ts = this;\r\n            ts.PutURL = '/persons/update/';\r\n            ts.PostURL = '/persons/create/provider';\r\n            ts.docs.getData({}).subscribe((resp) => {\r\n                ts.identityDocs = resp;\r\n            });\r\n            ts.cnt.getData().subscribe((resp) => {\r\n                ts.countries = resp;\r\n            });\r\n            ts.curr.getData().subscribe((resp) => {\r\n                ts.currency = resp;\r\n                if (resp.length > 0) {\r\n                    if (resp.length > 1) {\r\n                        resp.map((val) => {\r\n                            if (val.national_currency) {\r\n                                ts.customForm.get('currency_id').setValue(val.id);\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        ts.customForm.get('currency_id').setValue(resp[0].id);\r\n                    }\r\n                }\r\n            });\r\n            this.tor.getData({}).subscribe((resp) => {\r\n                this.typeOrg = resp;\r\n            });\r\n            ts.taxSer.getData({ isVat: 1 }).subscribe((resp) => {\r\n                ts.tax = resp;\r\n            });\r\n            ts.accountSer.getsubAccounts({}).subscribe((resp) => {\r\n                ts.accounts = resp;\r\n            });\r\n            ts.custSer.getMeansPayment({}).subscribe((resp) => {\r\n                ts.payments = resp;\r\n            });\r\n            ts.custSer.getTimeLimit({}).subscribe((resp) => {\r\n                ts.timelimits = resp;\r\n            });\r\n        }\r\n        loadData(id = 0) {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            ts.editing = true;\r\n            ts.custSer.getCustomers({ uid: id }).\r\n                subscribe((resp) => {\r\n                var _a, _b, _c, _d, _e, _f;\r\n                frm.setValue({\r\n                    address: resp[0].address,\r\n                    city_name: resp[0].city_name,\r\n                    company_name: resp[0].company_name,\r\n                    country_id: resp[0].country_id,\r\n                    currency_id: resp[0].currency_id,\r\n                    description: resp[0].description,\r\n                    dni: resp[0].dni,\r\n                    email: resp[0].email,\r\n                    full_name: resp[0].full_name,\r\n                    last_name: resp[0].last_name,\r\n                    location: resp[0].location,\r\n                    mobile: resp[0].mobile,\r\n                    names: resp[0].names,\r\n                    person_type_id: resp[0].person_type_id,\r\n                    type_organization_id: resp[0].type_organization_id,\r\n                    tax_rate_id: (_a = resp[0].tax_rate_id) !== null && _a !== void 0 ? _a : '0',\r\n                    means_payment_id: (_b = resp[0].means_payment_id) !== null && _b !== void 0 ? _b : '0',\r\n                    sales_term: (_c = resp[0].sales_term) !== null && _c !== void 0 ? _c : '0',\r\n                    accounting_account_id: (_d = resp[0].accounting_account_id) !== null && _d !== void 0 ? _d : '0',\r\n                    initial_balance: (_e = resp[0].initial_balance) !== null && _e !== void 0 ? _e : 0,\r\n                    initial_date: (_f = resp[0].initial_date) !== null && _f !== void 0 ? _f : new Date().toISOString().split('T')[0],\r\n                    phone: resp[0].phone,\r\n                    postal_code: resp[0].postal_code,\r\n                    state_name: resp[0].state_name,\r\n                    title: resp[0].title,\r\n                    web: resp[0].web,\r\n                });\r\n            });\r\n        }\r\n    }\r\n    ProviderFormComponent.ɵfac = function ProviderFormComponent_Factory(t) { return new (t || ProviderFormComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_forms[\"e\" /* FormBuilder */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Wb\" /* ɵɵdirectiveInject */](products[\"h\" /* TermsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](products[\"a\" /* AttributesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_spinner[\"c\" /* NgxSpinnerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](global[\"c\" /* IdentityDocumentsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](global[\"a\" /* CountriesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](global[\"b\" /* CurrencySysService */]), core[\"Wb\" /* ɵɵdirectiveInject */](companies[\"d\" /* TypeOrganizationService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"f\" /* TaxRatesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](accounting[\"b\" /* AccountsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"b\" /* PersonsService */])); };\r\n    ProviderFormComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: ProviderFormComponent, selectors: [[\"app-customer-form\"]], viewQuery: function ProviderFormComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](provider_form_component_c0, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](provider_form_component_c1, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c2, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.focusElement = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.uploadFile = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.imgUp = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 25, vars: 18, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\"], [\"ngbNav\", \"\", 1, \"nav-tabs\", 3, \"activeId\", \"activeIdChange\"], [\"nav\", \"ngbNav\"], [3, \"ngbNavItem\"], [\"ngbNavLink\", \"\", 1, \"display-none\"], [\"ngbNavContent\", \"\"], [1, \"mt-2\", 3, \"ngbNavOutlet\"], [1, \"card-footer\"], [3, \"loading\", \"showAaveACreate\", \"saveAClose\", \"closeEvent\", \"saveAndCreateEvent\", \"saveAndCloseEvent\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"form-group\"], [1, \"asterisk\"], [\"formControlName\", \"type_organization_id\", \"required\", \"\", \"name\", \"type_organization_id\", 3, \"virtualScroll\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"full_name\", \"required\", \"\", \"autofocus\", \"\", 1, \"form-control\"], [\"focusElement\", \"\"], [\"formControlName\", \"currency_id\", \"name\", \"currency_id\", \"required\", \"\", 3, \"virtualScroll\"], [\"formControlName\", \"country_id\", \"required\", \"\", 3, \"virtualScroll\"], [1, \"col-md-2\"], [\"type\", \"text\", \"formControlName\", \"title\", \"name\", \"title\", 1, \"form-control\"], [1, \"col-md-5\"], [\"type\", \"text\", \"formControlName\", \"names\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"last_name\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"dni\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"company_name\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"web\", 1, \"form-control\"], [3, \"value\"], [\"height\", \"15\", \"width\", \"15\", 3, \"src\"], [\"formControlName\", \"address\", \"rows\", \"2\", 1, \"form-control\"], [\"formControlName\", \"location\", \"rows\", \"2\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"city_name\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"state_name\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"postal_code\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"mobile\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"phone\", 1, \"form-control\"], [\"formControlName\", \"tax_rate_id\"], [\"value\", \"0\"], [\"formControlName\", \"accounting_account_id\", 3, \"virtualScroll\"], [\"formControlName\", \"means_payment_id\", 3, \"virtualScroll\"], [\"formControlName\", \"sales_term\", 3, \"virtualScroll\"], [\"currencyMask\", \"\", \"name\", \"initial_balance\", \"formControlName\", \"initial_balance\", 1, \"form-control\"], [\"type\", \"date\", \"name\", \"initial_date\", \"formControlName\", \"initial_date\", 1, \"form-control\"]], template: function ProviderFormComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"Uc\" /* ɵɵtext */](2);\r\n                core[\"pc\" /* ɵɵpipe */](3, \"uppercase\");\r\n                core[\"pc\" /* ɵɵpipe */](4, \"translate\");\r\n                core[\"pc\" /* ɵɵpipe */](5, \"uppercase\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](6, \"div\", 2);\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"form\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"ul\", 4, 5);\r\n                core[\"mc\" /* ɵɵlistener */](\"activeIdChange\", function ProviderFormComponent_Template_ul_activeIdChange_8_listener($event) { return ctx.active = $event; });\r\n                core[\"cc\" /* ɵɵelementStart */](10, \"li\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](11, \"a\", 7);\r\n                core[\"Uc\" /* ɵɵtext */](12, \"General\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](13, ProviderFormComponent_ng_template_13_Template, 79, 39, \"ng-template\", 8);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](14, \"li\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](15, \"a\", 7);\r\n                core[\"Uc\" /* ɵɵtext */](16, \"Ubicaci\\u00F3n/Direcci\\u00F3n\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](17, ProviderFormComponent_ng_template_17_Template, 37, 0, \"ng-template\", 8);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](18, \"li\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"a\", 7);\r\n                core[\"Uc\" /* ɵɵtext */](20, \"Pago y facturaci\\u00F3n\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](21, ProviderFormComponent_ng_template_21_Template, 46, 10, \"ng-template\", 8);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](22, \"div\", 9);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](23, \"div\", 10);\r\n                core[\"cc\" /* ɵɵelementStart */](24, \"app-footer-form\", 11);\r\n                core[\"mc\" /* ɵɵlistener */](\"closeEvent\", function ProviderFormComponent_Template_app_footer_form_closeEvent_24_listener() { return ctx.cancel(); })(\"saveAndCreateEvent\", function ProviderFormComponent_Template_app_footer_form_saveAndCreateEvent_24_listener() { return ctx.saveAndCreate(); })(\"saveAndCloseEvent\", function ProviderFormComponent_Template_app_footer_form_saveAndCloseEvent_24_listener() { return ctx.saveAndClose(); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                const _r0 = core[\"Ic\" /* ɵɵreference */](9);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"Xc\" /* ɵɵtextInterpolate2 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](3, 12, core[\"qc\" /* ɵɵpipeBind1 */](4, 14, \"general.createEdit\")), \" \", core[\"qc\" /* ɵɵpipeBind1 */](5, 16, ctx.title), \" \");\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"vc\" /* ɵɵproperty */](\"formGroup\", ctx.customForm);\r\n                core[\"Ib\" /* ɵɵadvance */](1);\r\n                core[\"vc\" /* ɵɵproperty */](\"activeId\", ctx.active);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngbNavItem\", 1);\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngbNavItem\", 2);\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngbNavItem\", 3);\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngbNavOutlet\", _r0);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"loading\", ctx.loading)(\"showAaveACreate\", true)(\"saveAClose\", ctx.saveAClose)(\"saveAClose\", ctx.saveAClose);\r\n            }\r\n        }, directives: [fesm2015_forms[\"z\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"h\" /* FormGroupDirective */], ng_bootstrap[\"u\" /* NgbNav */], ng_bootstrap[\"w\" /* NgbNavItem */], ng_bootstrap[\"x\" /* NgbNavLink */], ng_bootstrap[\"v\" /* NgbNavContent */], ng_bootstrap[\"z\" /* NgbNavOutlet */], footer_form_component[\"a\" /* FooterFormComponent */], ng_select_ng_select[\"a\" /* NgSelectComponent */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], fesm2015_forms[\"w\" /* RequiredValidator */], common[\"m\" /* NgForOf */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], ng_select_ng_select[\"d\" /* ɵr */], ngx_currency[\"a\" /* CurrencyMaskDirective */]], pipes: [common[\"v\" /* UpperCasePipe */], ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}\"] });\r\n    return ProviderFormComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./node_modules/sweetalert2/dist/sweetalert2.all.js\nvar sweetalert2_all = __webpack_require__(\"PSD3\");\nvar sweetalert2_all_default = /*#__PURE__*/__webpack_require__.n(sweetalert2_all);\n\n// CONCATENATED MODULE: ./src/app/shopping/invoices/invoices.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst invoices_component_c0 = [\"customGrid\"];\r\nconst invoices_component_c1 = [\"detailGrid\"];\r\nconst invoices_component_c2 = [\"searchField\"];\r\nconst _c3 = [\"myTabs\"];\r\nfunction InvoicesComponent_div_74_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r7 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\");\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"button\", 24);\r\n        core[\"mc\" /* ɵɵlistener */](\"click\", function InvoicesComponent_div_74_Template_button_click_1_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"oc\" /* ɵɵnextContext */](); return ctx_r6.importData(); });\r\n        core[\"Xb\" /* ɵɵelement */](2, \"i\", 39);\r\n        core[\"Uc\" /* ɵɵtext */](3);\r\n        core[\"pc\" /* ɵɵpipe */](4, \"translate\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r2 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx_r2.loading);\r\n        core[\"Ib\" /* ɵɵadvance */](2);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](4, 2, \"buttons.import\"), \" \");\r\n    }\r\n}\r\nlet invoices_component_InvoicesComponent = /*@__PURE__*/ (() => {\r\n    class InvoicesComponent extends jqx_custom_grid_component[\"a\" /* JqxCustomGridComponent */] {\r\n        constructor(msg, api, router, translate, aRouter, shopSer) {\r\n            super(msg, api, router, translate, aRouter);\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.shopSer = shopSer;\r\n            this.title = 'Registro de compras';\r\n            this.invoiceName = '';\r\n            this.source2 = {\r\n                localdata: [],\r\n                datafields: [\r\n                    { name: 'active', type: 'boolean' },\r\n                    { name: 'admission_date', type: 'string' },\r\n                    { name: 'amount', type: 'number' },\r\n                    { name: 'barcode', type: 'string' },\r\n                    { name: 'batch', type: 'string' },\r\n                    { name: 'expiration_date', type: 'string' },\r\n                    { name: 'fabrication_date', type: 'string' },\r\n                    { name: 'freight', type: 'number' },\r\n                    { name: 'id', type: 'number' },\r\n                    { name: 'internal_code', type: 'string' },\r\n                    { name: 'invoice_id', type: 'number' },\r\n                    { name: 'perishable', type: 'boolean' },\r\n                    { name: 'product_id', type: 'number' },\r\n                    { name: 'product_name', type: 'string' },\r\n                    { name: 'sale_price', type: 'number' },\r\n                    { name: 'state', type: 'number' },\r\n                    { name: 'tax_bill', type: 'number' },\r\n                    { name: 'tax_bill_id', type: 'number' },\r\n                    { name: 'tax_sale', type: 'number' },\r\n                    { name: 'tax_sale_id', type: 'number' },\r\n                    { name: 'total_cost', type: 'number' },\r\n                    { name: 'unit_cost', type: 'number' },\r\n                    { name: 'vat_included', type: 'boolean' },\r\n                ],\r\n                datatype: 'array'\r\n            };\r\n            this.dataAdapter2 = new jqx.dataAdapter(this.source2);\r\n            this.columnsDet = [\r\n                // {\r\n                //   columngroup: 'Actions',\r\n                //   text: '', sortable: false, filterable: false, editable: false, align: 'center',\r\n                //   groupable: false, draggable: false, resizable: false,\r\n                //   datafield: '#edit_#', columntype: 'text', width: 32,\r\n                //   cellsrenderer: (row: number, column: any, value: number): string => {\r\n                //       return '<span><i class=\"fas fa-pen fas-fa-edit fa-cursor\"></i></span>';\r\n                //   },\r\n                // },\r\n                {\r\n                    columngroup: 'Actions',\r\n                    text: '', sortable: false, filterable: false, editable: false, align: 'center',\r\n                    groupable: false, draggable: false, resizable: false,\r\n                    datafield: '#delete_#', columntype: 'text', width: 32,\r\n                    cellsrenderer: (row, column, value) => {\r\n                        return '<span><i class=\"fas fa-trash-alt fas-fa-delete fa-cursor\"></i></span>';\r\n                    },\r\n                },\r\n                { text: 'Cantidad', datafield: 'amount', align: 'center', width: 80, cellsalign: 'right' },\r\n                { text: 'Producto', datafield: 'product_name', align: 'center', minWidth: 250 },\r\n                { text: 'Precio unitario', datafield: 'unit_cost', align: 'center', cellsalign: 'right', cellsformat: 'c2', width: 120 },\r\n                { text: 'Precio de venta', datafield: 'sale_price', align: 'center', cellsalign: 'right', cellsformat: 'c2', width: 120 },\r\n                { text: 'Total', datafield: 'total_cost', align: 'center', cellsalign: 'right', cellsformat: 'c2', width: 120 },\r\n            ];\r\n        }\r\n        ngOnInit() {\r\n            this.changeLanguage(this.activeLang);\r\n        }\r\n        ngAfterViewInit() {\r\n            const ts = this;\r\n            ts.crudApi = {\r\n                create: '/shopping/create',\r\n                read: '/shopping/read',\r\n                update: '/shopping/update/',\r\n                delete: '/shopping/delete/'\r\n            };\r\n            ts.showActions = true;\r\n            ts.showRowNumber = true;\r\n            ts.pagesize = 10;\r\n            ts.datafields = [\r\n                { name: 'id', type: 'number' },\r\n                { name: 'invoice_nro', type: 'string' },\r\n                { name: 'total', type: 'number' },\r\n                { name: 'branch_name', type: 'string' },\r\n                { name: 'full_name', type: 'string' },\r\n                { name: 'winery_name', type: 'string' },\r\n            ];\r\n            ts.sourceColumns =\r\n                [\r\n                    {\r\n                        columngroup: 'Actions',\r\n                        text: '', sortable: false, filterable: false, editable: false, align: 'center',\r\n                        groupable: false, draggable: false, resizable: false,\r\n                        datafield: '#edit_shopping_#', columntype: 'text', width: 32,\r\n                        cellsrenderer: (row, column, value) => {\r\n                            return '<span><i class=\"fas fa-shopping-cart fas-fa-edit fa-cursor\"></i></span>';\r\n                        },\r\n                    },\r\n                    { text: 'Nº. Factura', datafield: 'invoice_nro', align: 'center', minwidth: 80, width: 100 },\r\n                    { text: 'Proveedor', datafield: 'full_name', align: 'center', minwidth: 100 },\r\n                    { text: 'Bodega', datafield: 'branch_name', align: 'center', minwidth: 100 },\r\n                    { text: 'Total', datafield: 'total', align: 'center', cellsalign: 'right', cellsformat: 'c2', minwidth: 100 },\r\n                ];\r\n            this.prepareGrid();\r\n        }\r\n        /**\r\n         * Click en una celda del detalle de la factura\r\n         */\r\n        cellDetailClick(event) {\r\n            const data = event.args;\r\n            const row = this.detailGrid.getrowdata(data.rowindex);\r\n            const ts = this;\r\n            if (data.datafield === '#edit_#') {\r\n                this.goRoute(`shopping/invoices/detail/edit/${row.id}`);\r\n            }\r\n            else if (data.datafield === '#delete_#') {\r\n                ts.deleteDetail(row);\r\n            }\r\n        }\r\n        /**\r\n         * Click en una celda de la factura\r\n         */\r\n        cellClick(event) {\r\n            const data = event.args;\r\n            const row = this.customGrid.getrowdata(data.rowindex);\r\n            const ts = this;\r\n            ts.invoiceName = row.invoice_nro;\r\n            if (data.datafield === '#edit_shopping_#') {\r\n                ts.goRoute(`shopping/invoices/create/detail/${row.id}`);\r\n            }\r\n            else {\r\n                if (data.datafield === '#edit_#') {\r\n                    ts.editData(row);\r\n                }\r\n                else if (data.datafield === '#delete_#') {\r\n                    ts.deleteData(row);\r\n                }\r\n                else {\r\n                    ts.refreshDetail(row.id);\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Quita un item del detalle de la factura\r\n         */\r\n        deleteDetail(data) {\r\n            const ts = this;\r\n            const lang = ts.translate;\r\n            // Implements\r\n            sweetalert2_all_default.a.fire({\r\n                title: lang.instant('titleMessages.delete'),\r\n                text: lang.instant('bodyMessages.delete'),\r\n                icon: 'question',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: lang.instant('buttons.yes'),\r\n                cancelButtonText: lang.instant('buttons.not')\r\n            }).then((result) => {\r\n                if (result.value) {\r\n                    ts.api.delete(`/shopping/delete/detail/${data.id}`)\r\n                        .subscribe((resp) => {\r\n                        ts.refreshDetail(data.invoice_id);\r\n                    }, (err) => {\r\n                        ts.msg.toastMessage(lang.instant('general.error'), err.error.message, 4);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        /**\r\n         * Refresca los datos del detale de la factura\r\n         */\r\n        refreshDetail(id) {\r\n            const ts = this;\r\n            ts.source2.localdata = [];\r\n            ts.detailGrid.updatebounddata('cells');\r\n            ts.detailGrid.showloadelement();\r\n            ts.shopSer.getDetail(id)\r\n                .subscribe((resp) => {\r\n                ts.source2.localdata = resp;\r\n                ts.detailGrid.updatebounddata('cells');\r\n                ts.detailGrid.hideloadelement();\r\n            }, () => ts.detailGrid.hideloadelement());\r\n        }\r\n        createData() {\r\n            const ts = this;\r\n            super.createData();\r\n            ts.goRoute('shopping/invoices/create');\r\n        }\r\n        editData(data) {\r\n            super.editData(data);\r\n            this.goRoute(`shopping/invoices/edit/${data.id}`);\r\n        }\r\n    }\r\n    InvoicesComponent.ɵfac = function InvoicesComponent_Factory(t) { return new (t || InvoicesComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Wb\" /* ɵɵdirectiveInject */](global[\"e\" /* ShoppingService */])); };\r\n    InvoicesComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: InvoicesComponent, selectors: [[\"app-invoices\"]], viewQuery: function InvoicesComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](invoices_component_c0, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](invoices_component_c1, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](invoices_component_c2, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c3, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.customGrid = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.detailGrid = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.searchField = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.myTabs = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 93, vars: 56, consts: [[3, \"width\", \"height\", \"position\", \"animationType\", \"selectionTracker\", \"theme\"], [\"myTabs\", \"\"], [2, \"margin-left\", \"30px\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"menuExport\"], [1, \"space-right\"], [1, \"btn\", \"btn-danger\", \"round\", \"mr-1\", \"mb-1\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-sync\", \"mr-1\", \"fas-fa-22\"], [1, \"myMenu\", \"space-right\"], [1, \"clearColor\", 3, \"height\", \"onItemclick\"], [\"myMenu\", \"\"], [\"id\", \"Exports\"], [1, \"fas\", \"fa-cog\", \"fas-fa-22\", \"fas-fa-red\"], [\"href\", \"javascript:void(0)\"], [2, \"width\", \"200px\"], [1, \"fas\", \"fa-file-excel\", \"fas-fa-xls\"], [1, \"fas\", \"fa-file-csv\", \"fas-fa-xls\"], [\"type\", \"separator\"], [1, \"fas\", \"fa-file-pdf\", \"fas-fa-pdf\"], [1, \"fas\", \"fa-file-code\", \"fas-fa-code\"], [1, \"fas\", \"fa-print\", \"fas-fa-print\"], [1, \"margin-left\", \"space-right\"], [1, \"btn\", \"btn-success\", \"round\", \"mr-1\", \"mb-1\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-plus\", \"mr-1\", \"fas-fa-22\"], [4, \"ngIf\"], [1, \"container-fluid\"], [1, \"input-group\"], [\"type\", \"text\", \"autofocus\", \"\", 1, \"form-control\", 3, \"placeholder\", \"keyup\"], [\"searchField\", \"\"], [1, \"input-group-append\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-search\"], [\"width\", \"100%\", 3, \"disabled\", \"auto-create\", \"onCellselect\", \"onBindingcomplete\"], [\"customGrid\", \"\"], [1, \"example-items-col\"], [\"width\", \"100%\", 3, \"source\", \"columns\", \"theme\", \"disabled\", \"selectionmode\", \"columnsresize\", \"sortable\", \"filterable\", \"showfilterrow\", \"onCellselect\"], [\"detailGrid\", \"\"], [1, \"fa\", \"fa-upload\", \"mr-1\", \"fas-fa-22\"]], template: function InvoicesComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"jqxTabs\", 0, 1);\r\n                core[\"cc\" /* ɵɵelementStart */](2, \"ul\");\r\n                core[\"cc\" /* ɵɵelementStart */](3, \"li\", 2);\r\n                core[\"Uc\" /* ɵɵtext */](4, \"Facturas\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](5, \"li\");\r\n                core[\"Uc\" /* ɵɵtext */](6, \"Detalle de la factura\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"div\");\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"div\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](9, \"div\", 4);\r\n                core[\"cc\" /* ɵɵelementStart */](10, \"h4\", 5);\r\n                core[\"Uc\" /* ɵɵtext */](11);\r\n                core[\"pc\" /* ɵɵpipe */](12, \"uppercase\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](13, \"div\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](14, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](15, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](16, \"button\", 8);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function InvoicesComponent_Template_button_click_16_listener() { return ctx.searchQuery(); });\r\n                core[\"Xb\" /* ɵɵelement */](17, \"i\", 9);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](18, \"div\", 10);\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"jqxMenu\", 11, 12);\r\n                core[\"mc\" /* ɵɵlistener */](\"onItemclick\", function InvoicesComponent_Template_jqxMenu_onItemclick_19_listener($event) { return ctx.itemclick($event); });\r\n                core[\"cc\" /* ɵɵelementStart */](21, \"ul\");\r\n                core[\"cc\" /* ɵɵelementStart */](22, \"li\", 13);\r\n                core[\"Xb\" /* ɵɵelement */](23, \"i\", 14);\r\n                core[\"Xb\" /* ɵɵelement */](24, \"a\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](25, \"ul\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](26, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](27, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](28, \"i\", 17);\r\n                core[\"Uc\" /* ɵɵtext */](29);\r\n                core[\"pc\" /* ɵɵpipe */](30, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](31, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](32, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](33, \"i\", 18);\r\n                core[\"Uc\" /* ɵɵtext */](34);\r\n                core[\"pc\" /* ɵɵpipe */](35, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](36, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](37, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](38, \"i\", 17);\r\n                core[\"Uc\" /* ɵɵtext */](39);\r\n                core[\"pc\" /* ɵɵpipe */](40, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](41, \"li\", 19);\r\n                core[\"cc\" /* ɵɵelementStart */](42, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](43, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](44, \"i\", 20);\r\n                core[\"Uc\" /* ɵɵtext */](45);\r\n                core[\"pc\" /* ɵɵpipe */](46, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](47, \"li\", 19);\r\n                core[\"cc\" /* ɵɵelementStart */](48, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](49, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](50, \"i\", 21);\r\n                core[\"Uc\" /* ɵɵtext */](51);\r\n                core[\"pc\" /* ɵɵpipe */](52, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](53, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](54, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](55, \"i\", 21);\r\n                core[\"Uc\" /* ɵɵtext */](56);\r\n                core[\"pc\" /* ɵɵpipe */](57, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](58, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](59, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](60, \"i\", 21);\r\n                core[\"Uc\" /* ɵɵtext */](61);\r\n                core[\"pc\" /* ɵɵpipe */](62, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](63, \"li\", 19);\r\n                core[\"cc\" /* ɵɵelementStart */](64, \"li\");\r\n                core[\"cc\" /* ɵɵelementStart */](65, \"a\", 15);\r\n                core[\"Xb\" /* ɵɵelement */](66, \"i\", 22);\r\n                core[\"Uc\" /* ɵɵtext */](67);\r\n                core[\"pc\" /* ɵɵpipe */](68, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](69, \"div\", 23);\r\n                core[\"cc\" /* ɵɵelementStart */](70, \"button\", 24);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function InvoicesComponent_Template_button_click_70_listener() { return ctx.createData(); });\r\n                core[\"Xb\" /* ɵɵelement */](71, \"i\", 25);\r\n                core[\"Uc\" /* ɵɵtext */](72);\r\n                core[\"pc\" /* ɵɵpipe */](73, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](74, InvoicesComponent_div_74_Template, 5, 4, \"div\", 26);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](75, \"div\", 27);\r\n                core[\"cc\" /* ɵɵelementStart */](76, \"fieldset\");\r\n                core[\"cc\" /* ɵɵelementStart */](77, \"div\", 28);\r\n                core[\"cc\" /* ɵɵelementStart */](78, \"input\", 29, 30);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup\", function InvoicesComponent_Template_input_keyup_78_listener($event) { return ctx.inputKey($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](80, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](81, \"button\", 32);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function InvoicesComponent_Template_button_click_81_listener() { return ctx.searchQuery(); });\r\n                core[\"Xb\" /* ɵɵelement */](82, \"i\", 33);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](83, \"jqxGrid\", 34, 35);\r\n                core[\"mc\" /* ɵɵlistener */](\"onCellselect\", function InvoicesComponent_Template_jqxGrid_onCellselect_83_listener($event) { return ctx.cellClick($event); })(\"onBindingcomplete\", function InvoicesComponent_Template_jqxGrid_onBindingcomplete_83_listener($event) { return ctx.Bindingcomplete($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](85, \"div\");\r\n                core[\"cc\" /* ɵɵelementStart */](86, \"div\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](87, \"div\", 4);\r\n                core[\"Uc\" /* ɵɵtext */](88);\r\n                core[\"pc\" /* ɵɵpipe */](89, \"uppercase\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](90, \"div\", 36);\r\n                core[\"cc\" /* ɵɵelementStart */](91, \"jqxGrid\", 37, 38);\r\n                core[\"mc\" /* ɵɵlistener */](\"onCellselect\", function InvoicesComponent_Template_jqxGrid_onCellselect_91_listener($event) { return ctx.cellDetailClick($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"vc\" /* ɵɵproperty */](\"width\", \"100%\")(\"height\", 600)(\"position\", \"top\")(\"animationType\", \"fade\")(\"selectionTracker\", false)(\"theme\", ctx.theme);\r\n                core[\"Ib\" /* ɵɵadvance */](11);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](12, 34, ctx.title));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"height\", 36);\r\n                core[\"Ib\" /* ɵɵadvance */](10);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](30, 36, \"export.excel\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](35, 38, \"export.csv\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](40, 40, \"export.xml\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](46, 42, \"export.pdf\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](52, 44, \"export.html\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](57, 46, \"export.json\"));\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](62, 48, \"export.tsv\"));\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Vc\" /* ɵɵtextInterpolate */](core[\"qc\" /* ɵɵpipeBind1 */](68, 50, \"export.print\"));\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](73, 52, \"buttons.new\"), \" \");\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", ctx.useImport);\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"placeholder\", ctx.placeholderSearch);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", ctx.loading)(\"auto-create\", false);\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\"FACTURA N\\u00BA: \", core[\"qc\" /* ɵɵpipeBind1 */](89, 54, ctx.invoiceName), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"source\", ctx.dataAdapter2)(\"columns\", ctx.columnsDet)(\"theme\", ctx.theme)(\"disabled\", ctx.loading)(\"selectionmode\", \"singlecell\")(\"columnsresize\", true)(\"sortable\", true)(\"filterable\", true)(\"showfilterrow\", true);\r\n            }\r\n        }, directives: [jqwidgets_ng_jqxtabs[\"a\" /* jqxTabsComponent */], jqwidgets_ng_jqxmenu[\"a\" /* jqxMenuComponent */], common[\"n\" /* NgIf */], jqwidgets_ng_jqxgrid[\"a\" /* jqxGridComponent */]], pipes: [common[\"v\" /* UpperCasePipe */], ngx_translate_core[\"c\" /* TranslatePipe */]], encapsulation: 2 });\r\n    return InvoicesComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/services/general/persons.service.ts\nvar persons_service = __webpack_require__(\"52YP\");\n\n// EXTERNAL MODULE: ./src/app/services/global/documents.service.ts\nvar documents_service = __webpack_require__(\"4IXu\");\n\n// EXTERNAL MODULE: ./src/app/services/global/shopping.service.ts\nvar shopping_service = __webpack_require__(\"Cx/d\");\n\n// CONCATENATED MODULE: ./src/app/shopping/invoices/invoices-form.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst invoices_form_component_c0 = [\"focusElement\"];\r\nfunction InvoicesFormComponent_ng_option_29_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const provider_r5 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", provider_r5.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Yc\" /* ɵɵtextInterpolate3 */](\" \", provider_r5.dni, \" - \", provider_r5.company_name, \" \", provider_r5.full_name, \" \");\r\n    }\r\n}\r\nfunction InvoicesFormComponent_ng_option_41_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const point_r6 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", point_r6.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", point_r6.branch_name, \" \");\r\n    }\r\n}\r\nfunction InvoicesFormComponent_ng_option_49_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const wa_house_r7 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", wa_house_r7.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", wa_house_r7.winery_name, \" \");\r\n    }\r\n}\r\nfunction InvoicesFormComponent_ng_option_59_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 31);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const payment_r8 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", payment_r8.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", payment_r8.payment_method, \" \");\r\n    }\r\n}\r\nlet invoices_form_component_InvoicesFormComponent = /*@__PURE__*/ (() => {\r\n    class InvoicesFormComponent extends form_component[\"a\" /* FormComponent */] {\r\n        constructor(fb, msg, api, router, translate, aRouter, provSer, docsSer, shopSer, branchSer, wareHouseServ, spinner) {\r\n            super(fb, msg, api, router, translate, aRouter, spinner);\r\n            this.fb = fb;\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.provSer = provSer;\r\n            this.docsSer = docsSer;\r\n            this.shopSer = shopSer;\r\n            this.branchSer = branchSer;\r\n            this.wareHouseServ = wareHouseServ;\r\n            this.spinner = spinner;\r\n            this.providers = [];\r\n            this.payments = [];\r\n            this.ware_house = [];\r\n            this.pointsOfSale = [];\r\n            this.translate.setDefaultLang(this.activeLang);\r\n            this.customForm = this.fb.group({\r\n                admission_date: [new Date().toISOString().split('T')[0], [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                discount: [0],\r\n                freight: [0],\r\n                rfte: [0],\r\n                invoice_nro: ['', [fesm2015_forms[\"y\" /* Validators */].required, fesm2015_forms[\"y\" /* Validators */].minLength(2)]],\r\n                vat: [0],\r\n                notes: [''],\r\n                pay_day: [new Date().toISOString().split('T')[0], [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                payment_method_id: ['', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                point_of_sale_id: ['0', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                warehouse_id: ['0'],\r\n                provider_id: ['0', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                sub_total: [0, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                total: [0, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n            });\r\n        }\r\n        get invalidName() {\r\n            return this.customForm.get('invoice_nro').invalid && this.customForm.get('invoice_nro').touched;\r\n        }\r\n        get invalidBranch() {\r\n            return this.customForm.get('point_of_sale_id').invalid && this.customForm.get('point_of_sale_id').touched;\r\n        }\r\n        ngOnInit() {\r\n            super.ngOnInit();\r\n            const ts = this;\r\n            ts.title = 'Crear/Editar factura de compra';\r\n            ts.PutURL = '/shopping/update/';\r\n            ts.PostURL = '/shopping/create';\r\n            ts.wareHouseServ.getData({}).subscribe((resp) => {\r\n                ts.ware_house = resp;\r\n            });\r\n            ts.provSer.getProviders({}).subscribe((resp) => {\r\n                ts.providers = resp;\r\n            });\r\n            ts.docsSer.getPaymentMethods({}).subscribe((resp) => {\r\n                ts.payments = resp;\r\n                if (resp.length > 0) {\r\n                    ts.customForm.get('payment_method_id').setValue(resp[0].id);\r\n                }\r\n            });\r\n            ts.branchSer.getPointsOfSale({}).subscribe((resp) => {\r\n                ts.pointsOfSale = resp;\r\n                if (resp.length > 0) {\r\n                    ts.customForm.get('point_of_sale_id').setValue(resp[0].id);\r\n                }\r\n            });\r\n        }\r\n        loadData(id = 0) {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            ts.editing = true;\r\n            ts.shopSer.getData({ uid: id }).subscribe((resp) => {\r\n                var _a;\r\n                frm.setValue({\r\n                    admission_date: resp[0].admission_date,\r\n                    discount: resp[0].discount,\r\n                    freight: resp[0].freight,\r\n                    invoice_nro: resp[0].invoice_nro,\r\n                    vat: resp[0].vat,\r\n                    rfte: resp[0].rfte,\r\n                    notes: resp[0].notes,\r\n                    pay_day: resp[0].pay_day,\r\n                    warehouse_id: (_a = resp[0].warehouse_id) !== null && _a !== void 0 ? _a : '0',\r\n                    payment_method_id: resp[0].payment_method_id,\r\n                    point_of_sale_id: resp[0].point_of_sale_id,\r\n                    provider_id: resp[0].provider_id,\r\n                    sub_total: resp[0].sub_total,\r\n                    total: resp[0].total,\r\n                });\r\n            });\r\n        }\r\n    }\r\n    InvoicesFormComponent.ɵfac = function InvoicesFormComponent_Factory(t) { return new (t || InvoicesFormComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_forms[\"e\" /* FormBuilder */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Wb\" /* ɵɵdirectiveInject */](persons_service[\"a\" /* PersonsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](documents_service[\"a\" /* DocumentsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](shopping_service[\"a\" /* ShoppingService */]), core[\"Wb\" /* ɵɵdirectiveInject */](companies[\"a\" /* BranchOfficeService */]), core[\"Wb\" /* ɵɵdirectiveInject */](companies[\"e\" /* WineriesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_spinner[\"c\" /* NgxSpinnerService */])); };\r\n    InvoicesFormComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: InvoicesFormComponent, selectors: [[\"app-invoices-form\"]], viewQuery: function InvoicesFormComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](invoices_form_component_c0, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.focusElement = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 122, vars: 42, consts: [[1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"col-md-4\"], [1, \"form-group\"], [1, \"asterisk\"], [\"type\", \"text\", \"nbinput\", \"\", \"formControlName\", \"invoice_nro\", \"required\", \"\", \"autofocus\", \"\", 1, \"form-control\"], [\"focusElement\", \"\"], [1, \"col-md-8\"], [\"formControlName\", \"provider_id\", \"required\", \"\"], [\"value\", \"0\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\"], [\"formControlName\", \"point_of_sale_id\", \"required\", \"\"], [\"formControlName\", \"warehouse_id\"], [\"formControlName\", \"payment_method_id\", \"required\", \"\"], [\"type\", \"date\", \"formControlName\", \"admission_date\", \"nbinput\", \"\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"pay_day\", \"nbinput\", \"\", \"required\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"sub_total\", \"nbinput\", \"\", \"required\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"discount\", \"nbinput\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"vat\", \"nbinput\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"freight\", \"nbinput\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"rfte\", \"nbinput\", \"\", 1, \"form-control\"], [\"currencyMask\", \"\", \"formControlName\", \"total\", \"ngbTooltip\", \"Total\", \"nbinput\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"col\"], [\"formControlName\", \"notes\", \"nbinput\", \"\", 1, \"form-control\"], [1, \"card-footer\"], [3, \"showAaveACreate\", \"saveAClose\", \"maskSpinner\", \"closeEvent\", \"saveAndCreateEvent\", \"saveAndCloseEvent\"], [3, \"value\"]], template: function InvoicesFormComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"cc\" /* ɵɵelementStart */](2, \"div\", 2);\r\n                core[\"cc\" /* ɵɵelementStart */](3, \"div\", 3);\r\n                core[\"Uc\" /* ɵɵtext */](4);\r\n                core[\"pc\" /* ɵɵpipe */](5, \"uppercase\");\r\n                core[\"pc\" /* ɵɵpipe */](6, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"div\", 4);\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"form\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](9, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](10, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](11, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](12, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](13, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](14);\r\n                core[\"pc\" /* ɵɵpipe */](15, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](16, \"N\\u00BA. de la factura\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](17, \"input\", 9, 10);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"div\", 11);\r\n                core[\"cc\" /* ɵɵelementStart */](20, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](21, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](22, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](23);\r\n                core[\"pc\" /* ɵɵpipe */](24, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](25, \"Proveedor\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](26, \"ng-select\", 12);\r\n                core[\"cc\" /* ɵɵelementStart */](27, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](28, \"Seleccionar proveedor\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](29, InvoicesFormComponent_ng_option_29_Template, 2, 4, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](30, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](31, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](32, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](33, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](34, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](35);\r\n                core[\"pc\" /* ɵɵpipe */](36, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](37, \"Punto de venta\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](38, \"ng-select\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](39, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](40, \"Seleccionar punto de venta\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](41, InvoicesFormComponent_ng_option_41_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](42, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](43, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](44, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](45, \"Bodega\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](46, \"ng-select\", 17);\r\n                core[\"cc\" /* ɵɵelementStart */](47, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](48, \"Seleccionar bopdega\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](49, InvoicesFormComponent_ng_option_49_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](50, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](51, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](52, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](53, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](54, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](55);\r\n                core[\"pc\" /* ɵɵpipe */](56, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](57, \"Forma de pago\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](58, \"ng-select\", 18);\r\n                core[\"Sc\" /* ɵɵtemplate */](59, InvoicesFormComponent_ng_option_59_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](60, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](61, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](62, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](63, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](64);\r\n                core[\"pc\" /* ɵɵpipe */](65, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](66, \"Fecha de emisi\\u00F3n\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](67, \"input\", 19);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](68, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](69, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](70, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](71, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](72);\r\n                core[\"pc\" /* ɵɵpipe */](73, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](74, \"Fecha de pago\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](75, \"input\", 20);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](76, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](77, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](78, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](79, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](80, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](81);\r\n                core[\"pc\" /* ɵɵpipe */](82, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](83, \"Subtotal\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](84, \"input\", 21);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](85, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](86, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](87, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](88, \"Descuento\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](89, \"input\", 22);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](90, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](91, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](92, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](93, \"IVA\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](94, \"input\", 23);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](95, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](96, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](97, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](98, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](99, \"Cargo/Seguro/Flete\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](100, \"input\", 24);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](101, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](102, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](103, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](104, \"Retefuente\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](105, \"input\", 25);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](106, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](107, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](108, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](109, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](110);\r\n                core[\"pc\" /* ɵɵpipe */](111, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](112, \"Total\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](113, \"input\", 26);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](114, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](115, \"div\", 27);\r\n                core[\"cc\" /* ɵɵelementStart */](116, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](117, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](118, \"Notas\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](119, \"textarea\", 28);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](120, \"div\", 29);\r\n                core[\"cc\" /* ɵɵelementStart */](121, \"app-footer-form\", 30);\r\n                core[\"mc\" /* ɵɵlistener */](\"closeEvent\", function InvoicesFormComponent_Template_app_footer_form_closeEvent_121_listener() { return ctx.cancel(); })(\"saveAndCreateEvent\", function InvoicesFormComponent_Template_app_footer_form_saveAndCreateEvent_121_listener() { return ctx.saveAndCreate(); })(\"saveAndCloseEvent\", function InvoicesFormComponent_Template_app_footer_form_saveAndCloseEvent_121_listener() { return ctx.saveAndClose(); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\"\", core[\"qc\" /* ɵɵpipeBind1 */](5, 22, core[\"qc\" /* ɵɵpipeBind1 */](6, 24, \"general.createEdit\")), \" FACTURA DE COMPRA \");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"formGroup\", ctx.customForm);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](15, 26, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"Ob\" /* ɵɵclassProp */](\"status-danger\", ctx.invalidName)(\"is-invalid\", ctx.invalidName);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](24, 28, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.providers);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](36, 30, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.pointsOfSale);\r\n                core[\"Ib\" /* ɵɵadvance */](8);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.ware_house);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](56, 32, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.payments);\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](65, 34, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](8);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](73, 36, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](9);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](82, 38, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](29);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](111, 40, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](11);\r\n                core[\"vc\" /* ɵɵproperty */](\"showAaveACreate\", false)(\"saveAClose\", ctx.saveAClose)(\"saveAClose\", ctx.saveAClose)(\"maskSpinner\", ctx.maskSpinner);\r\n            }\r\n        }, directives: [fesm2015_forms[\"z\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"h\" /* FormGroupDirective */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], fesm2015_forms[\"w\" /* RequiredValidator */], ng_select_ng_select[\"a\" /* NgSelectComponent */], ng_select_ng_select[\"d\" /* ɵr */], common[\"m\" /* NgForOf */], ngx_currency[\"a\" /* CurrencyMaskDirective */], ng_bootstrap[\"N\" /* NgbTooltip */], footer_form_component[\"a\" /* FooterFormComponent */]], pipes: [common[\"v\" /* UpperCasePipe */], ngx_translate_core[\"c\" /* TranslatePipe */]], styles: [\"nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}\"] });\r\n    return InvoicesFormComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/core/components/base/invoice-bill.component.ts\nvar invoice_bill_component = __webpack_require__(\"GCUp\");\n\n// EXTERNAL MODULE: ./src/app/services/global/reports.service.ts\nvar reports_service = __webpack_require__(\"PU63\");\n\n// EXTERNAL MODULE: ./src/app/services/companies/wineries.service.ts\nvar wineries_service = __webpack_require__(\"K56k\");\n\n// CONCATENATED MODULE: ./src/app/shopping/shopping/shopping-create.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst shopping_create_component_c0 = [\"myDataTable\"];\r\nconst shopping_create_component_c1 = [\"searchbar\"];\r\nconst shopping_create_component_c2 = [\"invoiceEle\"];\r\nfunction ShoppingCreateComponent_ng_option_29_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 61);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const provider_r10 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", provider_r10.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Yc\" /* ɵɵtextInterpolate3 */](\" \", provider_r10.dni, \" - \", provider_r10.full_name, \" \", provider_r10.company_name, \" \");\r\n    }\r\n}\r\nfunction ShoppingCreateComponent_ng_option_41_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 61);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const point_r11 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", point_r11.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", point_r11.branch_name, \" \");\r\n    }\r\n}\r\nfunction ShoppingCreateComponent_ng_option_49_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 61);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const w_house_r12 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", w_house_r12.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", w_house_r12.winery_name, \" \");\r\n    }\r\n}\r\nfunction ShoppingCreateComponent_ng_option_59_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 61);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const payment_r13 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", payment_r13.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", payment_r13.payment_method, \" \");\r\n    }\r\n}\r\nfunction ShoppingCreateComponent_div_101_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r16 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 62);\r\n        core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_div_101_Template_div_click_0_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r16); const itemres_r14 = ctx.$implicit; const ctx_r15 = core[\"oc\" /* ɵɵnextContext */](); return ctx_r15.onClickItem(itemres_r14); });\r\n        core[\"Xb\" /* ɵɵelement */](1, \"img\", 63);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 2);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"h6\", 64);\r\n        core[\"Uc\" /* ɵɵtext */](4);\r\n        core[\"pc\" /* ɵɵpipe */](5, \"currency\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](6, \"p\", 65);\r\n        core[\"Uc\" /* ɵɵtext */](7);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const itemres_r14 = ctx.$implicit;\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"src\", itemres_r14.image, core[\"Oc\" /* ɵɵsanitizeUrl */]);\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](5, 3, itemres_r14.sale_price), \"\");\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](itemres_r14.product_name);\r\n    }\r\n}\r\nfunction ShoppingCreateComponent_div_146_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 5);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"div\", 21);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 7);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"label\");\r\n        core[\"Uc\" /* ɵɵtext */](4, \"Notas(Opcional)\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"Xb\" /* ɵɵelement */](5, \"textarea\", 66);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet shopping_create_component_ShoppingCreateComponent = /*@__PURE__*/ (() => {\r\n    class ShoppingCreateComponent extends invoice_bill_component[\"a\" /* InvoiceBillComponent */] {\r\n        constructor(fb, msg, api, router, translate, aRouter, branchSer, perSer, currSer, reporstSer, itemsSer, spinner, documents, shopSer, taxSer, docsSer, wareHouseServ, modalService) {\r\n            super(fb, msg, api, router, translate, aRouter, spinner, modalService, itemsSer, reporstSer);\r\n            this.fb = fb;\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.branchSer = branchSer;\r\n            this.perSer = perSer;\r\n            this.currSer = currSer;\r\n            this.reporstSer = reporstSer;\r\n            this.itemsSer = itemsSer;\r\n            this.spinner = spinner;\r\n            this.documents = documents;\r\n            this.shopSer = shopSer;\r\n            this.taxSer = taxSer;\r\n            this.docsSer = docsSer;\r\n            this.wareHouseServ = wareHouseServ;\r\n            this.modalService = modalService;\r\n            this.title = 'Productos/Servicios';\r\n            this.aDocuments = [];\r\n            this.ware_house = [];\r\n            this.providers = [];\r\n            this.currency = [];\r\n            this.items = [];\r\n            this.itemsResult = [];\r\n            this.lines = [];\r\n            this.timeLimits = [];\r\n            this.paymentMethods = [];\r\n            this.payments = [];\r\n            this.meansPayment = [];\r\n            this.taxBill = [];\r\n            this.taxSales = [];\r\n            this.pointsOfSale = [];\r\n            this.tax_rates = [];\r\n            this.selectedRow = false;\r\n            this.isCounted = true;\r\n            this.perishable = false;\r\n            this.rowIndex = -1;\r\n            this.invoice_id = 0;\r\n            this.pathfile = \"\";\r\n            this.itemName = \"\";\r\n            this.source = {};\r\n            this.taxRatesSource = {};\r\n            this.theme = 'bootstrap';\r\n            this.customForm = this.fb.group({\r\n                admission_date: [new Date().toISOString().split('T')[0], [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                // rfte              : [0],\r\n                invoice_nro: ['', [fesm2015_forms[\"y\" /* Validators */].required, fesm2015_forms[\"y\" /* Validators */].minLength(2)]],\r\n                notes: [''],\r\n                pay_day: [new Date().toISOString().split('T')[0], [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                payment_id: ['', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                warehouse_id: ['0', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                point_of_sale_id: ['0', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                provider_id: ['0', [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                // freight           : [0],\r\n                discount: [0],\r\n                vat: [0],\r\n                sub_total: [0, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                total: [0, [fesm2015_forms[\"y\" /* Validators */].required]],\r\n                // subtotal          : [0, [Validators.required]],\r\n                tax_sale_id: [0],\r\n                tax_bill_id: [0],\r\n                product_id: [0],\r\n                invoice_id: [0],\r\n            });\r\n        }\r\n        get invalidName() {\r\n            return this.isInvalid('invoice_nro');\r\n        }\r\n        get invalidBranch() {\r\n            return this.isInvalid('branch_id');\r\n        }\r\n        ngOnInit() {\r\n            const ts = this;\r\n            ts.showSpinner();\r\n            ts.wareHouseServ.getData({}).subscribe((resp) => {\r\n                ts.ware_house = resp;\r\n            });\r\n            ts.docsSer.getPaymentMethods({}).subscribe((resp) => {\r\n                ts.payments = resp;\r\n                if (resp.length > 0) {\r\n                    ts.customForm.get('payment_id').setValue(resp[0].id);\r\n                }\r\n            });\r\n            ts.branchSer.getPointsOfSale({}).subscribe((resp) => {\r\n                ts.pointsOfSale = resp;\r\n                if (resp.length > 0) {\r\n                    ts.customForm.get('point_of_sale_id').setValue(resp[0].id);\r\n                }\r\n            });\r\n            ts.perSer.getProviders({}).subscribe((resp) => {\r\n                ts.providers = resp;\r\n            });\r\n            super.ngOnInit();\r\n        }\r\n        ngAfterViewInit() {\r\n            super.ngAfterViewInit();\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            ts.invoiceEle.nativeElement.focus();\r\n            ts.taxSer.getData({ isVat: true }).subscribe((resp) => {\r\n                ts.taxBill = resp;\r\n                ts.taxSales = resp;\r\n                if (resp.length > 0) {\r\n                    frm.get('tax_bill_id').setValue(resp[0].id);\r\n                    frm.get('tax_sale_id').setValue(resp[0].id);\r\n                    ts.taxBillSelect = resp[0];\r\n                    ts.taxSaleSelect = resp[0];\r\n                    ts.tax_rates = resp;\r\n                    ts.onCreateGrid();\r\n                }\r\n            });\r\n        }\r\n        onCreateGrid() {\r\n            const ts = this;\r\n            ts.taxRatesSource = {\r\n                datatype: 'array',\r\n                datafields: [\r\n                    { name: 'id', type: 'number' },\r\n                    { name: 'account_id', type: 'number' },\r\n                    { name: 'tax_gruop_id', type: 'number' },\r\n                    { name: 'name_taxe', type: 'string' },\r\n                    { name: 'rate_abbre', type: 'string' },\r\n                    { name: 'rate_name', type: 'string' },\r\n                    { name: 'account_name', type: 'string' },\r\n                    { name: 'is_exempt', type: 'number' },\r\n                    { name: 'decimal_rate', type: 'number' },\r\n                    { name: 'rate_value', type: 'number' },\r\n                ],\r\n                localdata: ts.tax_rates,\r\n            };\r\n            ts.taxRatesAdapter = new jqx.dataAdapter(ts.taxRatesSource, { autoBind: true });\r\n            ts.source = {\r\n                localdata: this.lines,\r\n                datatype: \"array\",\r\n                datafields: [\r\n                    { name: 'product_class_name', type: 'string' },\r\n                    { name: 'sku', type: ' string' },\r\n                    { name: 'image', type: ' string' },\r\n                    { name: 'unit_name', type: ' string' },\r\n                    { name: 'unit_description', type: ' string' },\r\n                    { name: 'abbre_unit', type: ' string' },\r\n                    { name: 'qr_code', type: 'string' },\r\n                    { name: 'product_name', type: 'string' },\r\n                    { name: 'notes', type: 'string' },\r\n                    { name: 'description_sales', type: 'string' },\r\n                    { name: 'shopping_description', type: 'string' },\r\n                    { name: 'barcode', type: 'string' },\r\n                    { name: 'rate_name', type: 'string' },\r\n                    { name: 'internal_code', type: 'string' },\r\n                    { name: 'state', type: 'number' },\r\n                    { name: 'quantity', type: 'number' },\r\n                    { name: 'invoice_id', type: 'number' },\r\n                    { name: 'detail_id', type: 'number' },\r\n                    { name: 'total', type: 'number' },\r\n                    { name: 'discount', type: 'number' },\r\n                    { name: 'sale_price', type: 'number' },\r\n                    { name: 'purchase_cost', type: 'number' },\r\n                    // { name: 'tax_sales', type : 'number'},\r\n                    { name: 'tax_amount', type: 'number' },\r\n                    { name: 'tax_bill_id', type: 'number' },\r\n                    { name: 'tax_bill', value: 'tax_bill_id', values: { source: ts.taxRatesAdapter.records, value: 'id', name: 'rate_value' } },\r\n                    { name: 'tax_bill_rate', type: 'number' },\r\n                    { name: 'tax_sale_rate', type: 'number' },\r\n                    { name: 'stock_min', type: 'number' },\r\n                    { name: 'stock_max', type: 'number' },\r\n                    { name: 'tax_sales_id', type: 'number' },\r\n                    { name: 'tax_sales', value: 'tax_sales_id', values: { source: ts.taxRatesAdapter.records, value: 'id', name: 'rate_value' } },\r\n                    { name: 'brand_id', type: ' number' },\r\n                    { name: 'stock', type: ' number' },\r\n                    { name: 'category_id', type: ' number' },\r\n                    { name: 'product_unit_id', type: ' number' },\r\n                    { name: 'factor', type: ' number' },\r\n                    { name: 'sub_category_id', type: ' number' },\r\n                    { name: 'gain', type: 'number' },\r\n                    { name: 'percentage_gain', type: 'string' },\r\n                    { name: 'item_type_id', type: 'number' },\r\n                    { name: 'unit_id', type: 'number' },\r\n                    { name: 'base_factor', type: 'number' },\r\n                    { name: 'class_id', type: 'number' },\r\n                    { name: 'average_cost', type: 'number' },\r\n                    { name: 'recipe', type: 'boolean' },\r\n                    { name: 'vat_included', type: 'bool' },\r\n                    { name: 'selling_out_of_inventory', type: 'boolean' },\r\n                    { name: 'perishable', type: 'bool' },\r\n                    { name: 'batch', type: 'string' },\r\n                    { name: 'fabrication_date', type: 'date' },\r\n                    { name: 'expiration_date', type: 'date' },\r\n                    { name: 'id', type: 'number' },\r\n                ]\r\n            };\r\n            ts.dataAdapter = new jqx.dataAdapter(ts.source);\r\n            ts.columns =\r\n                [\r\n                    {\r\n                        text: '#', sortable: false, filterable: false, editable: false, align: 'center',\r\n                        groupable: false, draggable: false, resizable: false,\r\n                        datafield: '', columntype: 'number', width: 40,\r\n                        cellsrenderer: (row, column, value) => {\r\n                            return '<div style=\"margin: 4px; text-align: right\">' + (value + 1) + '</div>';\r\n                        }\r\n                    },\r\n                    { text: 'Detalle', columngroup: 'Shopping', dataField: 'product_name', minWidth: 300, align: 'center', cellsAlign: 'left', editable: false },\r\n                    { text: 'Cant', columngroup: 'Shopping', dataField: 'quantity', width: 55, align: 'center', cellsAlign: 'right' },\r\n                    // { text: 'U.M', dataField: 'abbre_unit', minWidth: 40, width: 40, align: 'center', cellsAlign: 'center', editable: false },\r\n                    { text: 'Precio de compra', columngroup: 'Shopping', dataField: 'purchase_cost', width: 120, align: 'center', cellsAlign: 'right', cellsFormat: 'c2' },\r\n                    {\r\n                        text: 'IVA', columngroup: 'Shopping', width: 50, align: 'center', datafield: 'tax_sales_id', displayfield: 'tax_sales', columntype: 'combobox',\r\n                        createeditor: (row, value, editor) => {\r\n                            editor.jqxComboBox({\r\n                                source: ts.taxRatesAdapter,\r\n                                displayMember: 'rate_value',\r\n                                valueMember: 'id'\r\n                            });\r\n                        },\r\n                        // update the editor's value before saving it.\r\n                        cellvaluechanging: (row, column, columntype, oldvalue, newvalue) => {\r\n                            // return the old value, if the new value is empty.\r\n                            if (newvalue == '')\r\n                                return oldvalue;\r\n                            setTimeout(() => {\r\n                                this.onLineTotal(this.myDataTable.getrowdata(row), row);\r\n                            }, 50);\r\n                        }\r\n                    },\r\n                    { text: 'Vr. IVA', columngroup: 'Shopping', editable: false, dataField: 'tax_amount', width: 120, align: 'right', cellsAlign: 'right', cellsFormat: 'c2' },\r\n                    { text: 'Iva incluido', columngroup: 'Shopping', datafield: 'vat_included', columntype: 'checkbox', width: 90, cellvaluechanging: (row, column, columntype, oldvalue, newvalue) => {\r\n                            setTimeout(() => {\r\n                                this.onLineTotal(this.myDataTable.getrowdata(row), row);\r\n                            }, 50);\r\n                        }\r\n                    },\r\n                    { text: 'Descuento', columngroup: 'Shopping', dataField: 'discount', width: 120, align: 'right', cellsAlign: 'right', cellsFormat: 'c2' },\r\n                    { text: 'Total', columngroup: 'Shopping', dataField: 'total', width: 100, align: 'right', cellsAlign: 'right', cellsFormat: 'c2', editable: false },\r\n                    { text: 'Perecedero', columngroup: 'Shopping', datafield: 'perishable', columntype: 'checkbox', width: 80 },\r\n                    { text: 'Lote #', columngroup: 'Shopping', dataField: 'batch', minWidth: 50, align: 'center', cellsAlign: 'left', editable: false },\r\n                    {\r\n                        text: 'Fecha fabricación', columngroup: 'Shopping', datafield: 'fabrication_date', columntype: 'datetimeinput', width: 110, cellsalign: 'right', cellsformat: 'd',\r\n                        validation: (cell, value) => {\r\n                            let year = value.getFullYear();\r\n                            if (year < 2021) {\r\n                                return { result: false, message: 'Ship Date should be before 1/1/2021' };\r\n                            }\r\n                            return true;\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Fecha expiración', columngroup: 'Shopping', datafield: 'expiration_date', columntype: 'datetimeinput', width: 110, cellsalign: 'right', cellsformat: 'd',\r\n                        validation: (cell, value) => {\r\n                            let year = value.getFullYear();\r\n                            if (year < 2021) {\r\n                                return { result: false, message: 'Ship Date should be before 1/1/2021' };\r\n                            }\r\n                            return true;\r\n                        }\r\n                    },\r\n                    { text: 'Precio de venta', columngroup: 'Sales', dataField: 'sale_price', width: 120, align: 'center', cellsAlign: 'right', cellsFormat: 'c2' },\r\n                    {\r\n                        text: 'IVA', columngroup: 'Sales', width: 50, align: 'center', datafield: 'tax_bill_id', displayfield: 'tax_bill', columntype: 'combobox',\r\n                        createeditor: (row, value, editor) => {\r\n                            editor.jqxComboBox({\r\n                                source: ts.taxRatesAdapter,\r\n                                displayMember: 'rate_value',\r\n                                valueMember: 'id'\r\n                            });\r\n                        },\r\n                        // update the editor's value before saving it.\r\n                        cellvaluechanging: (row, column, columntype, oldvalue, newvalue) => {\r\n                            // return the old value, if the new value is empty.\r\n                            if (newvalue == '')\r\n                                return oldvalue;\r\n                        }\r\n                    },\r\n                    { text: 'Ganancia', columngroup: 'Sales', dataField: 'gain', width: 120, align: 'center', cellsAlign: 'right', cellsFormat: 'c2' },\r\n                    { text: '% Ganancia', columngroup: 'Sales', dataField: 'percentage_gain', width: 110, align: 'center', cellsAlign: 'right' },\r\n                ];\r\n            ts.columngroups = [\r\n                { text: 'Compra', align: 'center', name: 'Shopping' },\r\n                { text: 'Venta', align: 'center', name: 'Sales' }\r\n            ];\r\n            const settings = {\r\n                source: ts.dataAdapter,\r\n                columnsresize: true,\r\n                editable: true,\r\n                enabletooltips: true,\r\n                altrows: true,\r\n                autoshowloadelement: true,\r\n                theme: ts.theme,\r\n                // selectionmode\t: 'singlecell',\r\n                columns: ts.columns,\r\n                columngroups: ts.columngroups\r\n            };\r\n            ts.myDataTable.createComponent(settings);\r\n            ts.onRefresh();\r\n        }\r\n        loadData(id = 0) {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            ts.editing = true;\r\n            ts.shopSer.getData({ uid: id })\r\n                .subscribe({\r\n                next: (resp) => {\r\n                    var _a, _b;\r\n                    ts.invoice_id = id;\r\n                    frm.get('invoice_nro').setValue(resp[0].invoice_nro);\r\n                    frm.get('total').setValue(resp[0].total);\r\n                    frm.get('provider_id').setValue(resp[0].provider_id);\r\n                    frm.get('admission_date').setValue(resp[0].admission_date);\r\n                    frm.get('discount').setValue(resp[0].discount);\r\n                    // frm.get('freight')         .setValue(resp[0].freight);\r\n                    // frm.get('rfte')            .setValue(resp[0].rfte);\r\n                    frm.get('vat').setValue(resp[0].vat);\r\n                    frm.get('notes').setValue(resp[0].notes);\r\n                    frm.get('pay_day').setValue(resp[0].pay_day);\r\n                    frm.get('payment_id').setValue(resp[0].payment_method_id);\r\n                    frm.get('warehouse_id').setValue((_a = resp[0].warehouse_id) !== null && _a !== void 0 ? _a : '0');\r\n                    frm.get('point_of_sale_id').setValue((_b = resp[0].point_of_sale_id) !== null && _b !== void 0 ? _b : '0');\r\n                    frm.get('sub_total').setValue(resp[0].sub_total);\r\n                    ts.getDeatailId(id);\r\n                    // ts.onRefresh();\r\n                }\r\n            });\r\n        }\r\n        getDeatailId(id) {\r\n            const ts = this;\r\n            const grid = ts.myDataTable;\r\n            ts.showSpinner('Cargando detalle de la factura.');\r\n            ts.shopSer.getDetail(id)\r\n                .subscribe({\r\n                next: (resp) => {\r\n                    resp.map((ele, i) => {\r\n                        let item = {};\r\n                        item = ele;\r\n                        item.detail_id = ele.id;\r\n                        item.id = ele.product_id;\r\n                        grid.addrow(null, item, i);\r\n                        setTimeout(() => {\r\n                            ts.onLineTotal(item, i);\r\n                        }, 5);\r\n                    });\r\n                },\r\n                error: (err) => {\r\n                    ts.hideSpinner();\r\n                    ts.msg.errorMessage('', err);\r\n                }\r\n            });\r\n        }\r\n        /**\r\n         * Actualiza listado de productos\r\n         */\r\n        onRefresh(query = '') {\r\n            const ts = this;\r\n            ts.onSearchExecute(query);\r\n        }\r\n        onSearchExecute(query = '', type = 1) {\r\n            const ts = this;\r\n            ts.showSpinner('Procesando petición...');\r\n            ts.itemsSer.getData({ query, type, start: 0, limit: 60 })\r\n                .subscribe({\r\n                next: (resp) => {\r\n                    ts.items = resp;\r\n                    ts.itemsResult = resp;\r\n                    ts.hideSpinner();\r\n                    ts.msg.toastMessage('', `Se hallaron ${resp.length} resultados.`);\r\n                },\r\n                error: (err) => {\r\n                    ts.hideSpinner();\r\n                    ts.msg.errorMessage('', err);\r\n                }\r\n            });\r\n        }\r\n        /**\r\n         * Realiza la suma de una fila del grid\r\n         * @param ele Item\r\n         * @param i Número de la fila del gridLines\r\n         */\r\n        onLineTotal(ele, i) {\r\n            const ts = this;\r\n            let grid = ts.myDataTable;\r\n            const taxe = ts.tax_rates.find(tax => tax.id == ele.tax_sales_id);\r\n            const tax = parseFloat(taxe.decimal_rate.toString());\r\n            const discount = parseFloat(ele.discount.toString());\r\n            const unitCost = parseFloat(ele.purchase_cost.toString());\r\n            const quantity = parseFloat(ele.quantity.toString());\r\n            let total = (unitCost * quantity) - discount;\r\n            let tax_value = total - (total / tax);\r\n            /**\r\n        * Cuendo el IVA no está includio en el precio de venta.\r\n        */\r\n            if (!ele.vat_included) {\r\n                if (tax > 1) {\r\n                    tax_value = (total * tax) - total;\r\n                }\r\n                else if (tax < 1) {\r\n                    tax_value = total * tax;\r\n                }\r\n                total += tax_value;\r\n            }\r\n            tax_value = parseFloat(tax_value.toFixed(2));\r\n            total = parseFloat(total.toFixed(2));\r\n            grid.setcellvalue(i, 'total', total);\r\n            grid.setcellvalue(i, 'tax_amount', tax_value);\r\n            ts.onSalesData(ele, i);\r\n            ts.onSum();\r\n        }\r\n        onSum() {\r\n            const ts = this;\r\n            let grid = ts.myDataTable;\r\n            let subtotal = 0;\r\n            let total = 0;\r\n            let taxTotal = 0;\r\n            let discount = 0;\r\n            let frm = ts.customForm;\r\n            const rows = grid.getrows();\r\n            if (rows.length > 0) {\r\n                rows.map((ele, i) => {\r\n                    const subt = (ele.quantity * ele.purchase_cost);\r\n                    discount += parseFloat(ele.discount.toString());\r\n                    subtotal += subt;\r\n                    total += ele.total;\r\n                    taxTotal += ele.tax_amount;\r\n                });\r\n            }\r\n            frm.get('discount').setValue(discount);\r\n            frm.get('sub_total').setValue(subtotal - taxTotal);\r\n            frm.get('vat').setValue(taxTotal);\r\n            frm.get('total').setValue(total);\r\n        }\r\n        /**\r\n         * Calcula los valores de venta\r\n         */\r\n        onSalesData(ele, i) {\r\n            const ts = this;\r\n            const grid = ts.myDataTable;\r\n            const unit_price = parseFloat(ele.purchase_cost.toString());\r\n            const sale_price = parseFloat(ele.sale_price.toString());\r\n            const taxBill = ts.tax_rates.find(tax => tax.id == ele.tax_bill_id);\r\n            const taxSale = ts.tax_rates.find(tax => tax.id == ele.tax_sales_id);\r\n            const vat = parseFloat(taxBill.decimal_rate.toString());\r\n            const vatSale = parseFloat(taxSale.decimal_rate.toString());\r\n            const included = ele.vat_included;\r\n            let realPrice = 0;\r\n            let realCost = 0;\r\n            let gain = 0;\r\n            let percGain = 0;\r\n            if (included == true) { // Impuesto incluido en el precio de compra\r\n                realCost = (unit_price / vat);\r\n            }\r\n            else {\r\n                realCost = unit_price;\r\n            }\r\n            realPrice = (sale_price / vatSale);\r\n            gain = realPrice - realCost;\r\n            percGain = (gain / realPrice) * 100;\r\n            grid.setcellvalue(i, 'gain', gain);\r\n            grid.setcellvalue(i, 'percentage_gain', `${percGain.toFixed(2)} %`);\r\n        }\r\n        /**\r\n         * Guarda la factura y el detalle\r\n         */\r\n        onSave() {\r\n            const ts = this;\r\n            let frm = ts.customForm;\r\n            let values = frm.getRawValue();\r\n            const lines = ts.myDataTable.getrows();\r\n            if (frm.invalid) {\r\n                ts.msg.toastMessage('', 'Hay campos sin llenar.', 4);\r\n                return false;\r\n            }\r\n            values.lines = JSON.stringify(lines);\r\n            ts.showSpinner('Guardando factura');\r\n            if (ts.invoice_id > 0) {\r\n                values.invoice_id = ts.invoice_id;\r\n                ts.api.put(`/shopping/update/${ts.invoice_id}`, { records: JSON.stringify(values) }).\r\n                    subscribe({\r\n                    next: (resp) => {\r\n                        ts.hideSpinner();\r\n                        if (resp.success) {\r\n                            ts.onClose();\r\n                        }\r\n                        else {\r\n                            ts.msg.errorMessage('', resp.message);\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        ts.hideSpinner();\r\n                        ts.msg.errorMessage('', err);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                if (lines.length <= 0) {\r\n                    ts.hideSpinner();\r\n                    ts.msg.toastMessage('', 'No hay productos en el detalle de la factura.', 4);\r\n                    return false;\r\n                }\r\n                ts.api.post('/shopping/create', values).\r\n                    subscribe({\r\n                    next: (resp) => {\r\n                        ts.hideSpinner();\r\n                        if (resp.success) {\r\n                            ts.onClose();\r\n                        }\r\n                        else {\r\n                            ts.msg.errorMessage('', resp.message);\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        ts.hideSpinner();\r\n                        ts.msg.errorMessage('', err);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        onClose() {\r\n            this.goRoute(`shopping/invoices`);\r\n        }\r\n        onDelete() {\r\n            const ts = this;\r\n            let grid = ts.myDataTable;\r\n            let row = grid.getrowdata(ts.rowIndex);\r\n            const lang = ts.translate;\r\n            if (ts.invoice_id > 0) {\r\n                const detail_id = row.detail_id;\r\n                if (detail_id > 0) {\r\n                    sweetalert2_all_default.a.fire({\r\n                        title: lang.instant('titleMessages.delete'),\r\n                        text: lang.instant('bodyMessages.delete'),\r\n                        icon: 'question',\r\n                        showCancelButton: true,\r\n                        confirmButtonColor: '#3085d6',\r\n                        cancelButtonColor: '#d33',\r\n                        confirmButtonText: lang.instant('buttons.yes'),\r\n                        cancelButtonText: lang.instant('buttons.not')\r\n                    }).then((result) => {\r\n                        if (result.value) {\r\n                            ts.showSpinner();\r\n                            ts.api.delete(`/shopping/detail/delete/${detail_id}`)\r\n                                .subscribe({\r\n                                next: () => {\r\n                                    ts.hideSpinner();\r\n                                    super.onDelete();\r\n                                },\r\n                                error: (err) => {\r\n                                    ts.hideSpinner();\r\n                                    ts.msg.errorMessage(lang.instant('general.error'), err);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    super.onDelete();\r\n                }\r\n            }\r\n            else {\r\n                super.onDelete();\r\n            }\r\n        }\r\n    }\r\n    ShoppingCreateComponent.ɵfac = function ShoppingCreateComponent_Factory(t) { return new (t || ShoppingCreateComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_forms[\"e\" /* FormBuilder */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Wb\" /* ɵɵdirectiveInject */](companies[\"a\" /* BranchOfficeService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"b\" /* PersonsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"a\" /* CurrencySysService */]), core[\"Wb\" /* ɵɵdirectiveInject */](reports_service[\"a\" /* ReportsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](products[\"e\" /* ItemsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_spinner[\"c\" /* NgxSpinnerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](documents_service[\"a\" /* DocumentsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](shopping_service[\"a\" /* ShoppingService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"f\" /* TaxRatesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](documents_service[\"a\" /* DocumentsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](wineries_service[\"a\" /* WineriesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](ng_bootstrap[\"r\" /* NgbModal */])); };\r\n    ShoppingCreateComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: ShoppingCreateComponent, selectors: [[\"app-shopping\"]], viewQuery: function ShoppingCreateComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](shopping_create_component_c0, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](shopping_create_component_c1, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](shopping_create_component_c2, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.myDataTable = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.searchbar = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.invoiceEle = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 150, vars: 43, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"container-fluid\", \"padding-top-bottom\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"form-group\"], [1, \"asterisk\"], [\"type\", \"text\", \"formControlName\", \"invoice_nro\", \"required\", \"\", \"autofocus\", \"\", \"placement\", \"bottom\", \"ngbTooltip\", \"N\\u00BA. de la factura\", 1, \"form-control\"], [\"focusElement\", \"\", \"invoiceEle\", \"\"], [1, \"col-md-8\"], [\"fullWidth\", \"\", \"formControlName\", \"provider_id\", \"required\", \"\", \"placement\", \"bottom\", \"ngbTooltip\", \"Proveedor\"], [\"value\", \"0\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\"], [\"fullWidth\", \"\", \"formControlName\", \"point_of_sale_id\", \"required\", \"\", \"placement\", \"bottom\", \"ngbTooltip\", \"Punto de venta\"], [\"fullWidth\", \"\", \"formControlName\", \"warehouse_id\", \"required\", \"\", \"placement\", \"bottom\", \"ngbTooltip\", \"Bodega\"], [\"fullWidth\", \"\", \"formControlName\", \"payment_id\", \"required\", \"\"], [\"type\", \"date\", \"formControlName\", \"admission_date\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"pay_day\", \"required\", \"\", 1, \"form-control\"], [1, \"col\"], [1, \"page-search-input\", \"form-group\"], [1, \"input-group\"], [\"type\", \"search\", \"id\", \"searchbar\", \"placeholder\", \"B\\u00FAsqueda por nombre o referencia\", \"autofocus\", \"\", 1, \"form-control\", \"rounded-right\", \"form-control-lg\", \"shadow\", \"pl-2\", 3, \"keyup.enter\"], [\"searchbar\", \"\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"search-btn\", \"rounded\", \"space-right\", 3, \"click\"], [1, \"d-none\", \"d-sm-block\"], [1, \"fas\", \"fa-search\"], [\"type\", \"button\", \"ngbTooltip\", \"Crear nuevo producto\", 1, \"btn\", \"btn-success\", \"space-right\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Refrescar\", 1, \"btn\", \"btn-info\", \"space-right\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-sync\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Limpiar\", 1, \"btn\", \"btn-danger\", \"space-right\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-broom\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Cerrar\", 1, \"btn\", \"btn-danger\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"fas-fa-22\"], [1, \"card-col-list\"], [1, \"card-columns\"], [\"class\", \"card card-sales\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-12\", \"card-col\"], [1, \"col-sm-12\", \"col-md-6\", \"padding-top-bottom\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-primary\", \"space-right\", \"radius-button\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-trash-alt\", \"fas-fa-22\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-success\", \"space-right\", \"radius-button\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-danger\", \"space-right\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-minus\", \"fas-fa-22\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-info\", \"space-right\", \"radius-button\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-save\", \"fas-fa-22\", \"space-right\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-danger\", \"radius-button\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-broom\", \"fas-fa-22\", \"space-right\"], [\"currencyMask\", \"\", \"formControlName\", \"total\", \"aria-describedby\", \"helpId\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"small\", \"total-bg\"], [3, \"auto-create\", \"autoheight\", \"width\", \"onCellselect\", \"onRowselect\", \"Rowunselect\", \"onCellendedit\"], [\"myDataTable\", \"\"], [\"currencyMask\", \"\", \"formControlName\", \"sub_total\", \"aria-describedby\", \"helpId\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"small\", \"total\"], [\"currencyMask\", \"\", \"formControlName\", \"discount\", \"aria-describedby\", \"helpId\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"small\", \"discounts\"], [\"currencyMask\", \"\", \"formControlName\", \"vat\", \"aria-describedby\", \"helpId\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"small\", \"vat\"], [\"currencyMask\", \"\", \"formControlName\", \"total\", \"aria-describedby\", \"helpId\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"small\", \"total\"], [\"class\", \"row\", 4, \"ngIf\"], [2, \"color\", \"white\"], [3, \"value\"], [1, \"card\", \"card-sales\", 3, \"click\"], [\"fallimg\", \"product\", 1, \"img-product\", \"card-img-top\", 3, \"src\"], [1, \"price\"], [1, \"product-name\"], [\"formControlName\", \"notes\", 1, \"form-control\"]], template: function ShoppingCreateComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                const _r17 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"Uc\" /* ɵɵtext */](2);\r\n                core[\"pc\" /* ɵɵpipe */](3, \"uppercase\");\r\n                core[\"pc\" /* ɵɵpipe */](4, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](5, \"div\", 2);\r\n                core[\"cc\" /* ɵɵelementStart */](6, \"form\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"div\", 4);\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](9, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](10, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](11, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](12, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](13);\r\n                core[\"pc\" /* ɵɵpipe */](14, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](15, \"N\\u00BA. de la factura\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](16, \"input\", 9, 10);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"div\", 11);\r\n                core[\"cc\" /* ɵɵelementStart */](20, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](21, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](22, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](23);\r\n                core[\"pc\" /* ɵɵpipe */](24, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](25, \"Proveedor\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](26, \"ng-select\", 12);\r\n                core[\"cc\" /* ɵɵelementStart */](27, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](28, \"Seleccionar proveedor\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](29, ShoppingCreateComponent_ng_option_29_Template, 2, 4, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](30, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](31, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](32, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](33, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](34, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](35);\r\n                core[\"pc\" /* ɵɵpipe */](36, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](37, \"Punto de venta\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](38, \"ng-select\", 16);\r\n                core[\"cc\" /* ɵɵelementStart */](39, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](40, \"Seleccionar punto de venta\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](41, ShoppingCreateComponent_ng_option_41_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](42, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](43, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](44, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](45, \"Bodega\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](46, \"ng-select\", 17);\r\n                core[\"cc\" /* ɵɵelementStart */](47, \"ng-option\", 13);\r\n                core[\"Uc\" /* ɵɵtext */](48, \"Seleccionar una bodega\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](49, ShoppingCreateComponent_ng_option_49_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](50, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](51, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](52, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](53, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](54, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](55);\r\n                core[\"pc\" /* ɵɵpipe */](56, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](57, \"Forma de pago\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](58, \"ng-select\", 18);\r\n                core[\"Sc\" /* ɵɵtemplate */](59, ShoppingCreateComponent_ng_option_59_Template, 2, 2, \"ng-option\", 14);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](60, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](61, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](62, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](63, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](64);\r\n                core[\"pc\" /* ɵɵpipe */](65, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](66, \"Fecha de emisi\\u00F3n\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](67, \"input\", 19);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](68, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](69, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](70, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](71, \"span\", 8);\r\n                core[\"Uc\" /* ɵɵtext */](72);\r\n                core[\"pc\" /* ɵɵpipe */](73, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Uc\" /* ɵɵtext */](74, \"Fecha de pago\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](75, \"input\", 20);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](76, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](77, \"div\", 21);\r\n                core[\"cc\" /* ɵɵelementStart */](78, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](79, \"div\", 21);\r\n                core[\"cc\" /* ɵɵelementStart */](80, \"div\", 22);\r\n                core[\"cc\" /* ɵɵelementStart */](81, \"fieldset\");\r\n                core[\"cc\" /* ɵɵelementStart */](82, \"div\", 23);\r\n                core[\"cc\" /* ɵɵelementStart */](83, \"input\", 24, 25);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup.enter\", function ShoppingCreateComponent_Template_input_keyup_enter_83_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r17); const _r6 = core[\"Ic\" /* ɵɵreference */](84); return ctx.onSearchProducts(_r6.value, 1); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](85, \"div\", 26);\r\n                core[\"cc\" /* ɵɵelementStart */](86, \"button\", 27);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_86_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r17); const _r6 = core[\"Ic\" /* ɵɵreference */](84); return ctx.onSearchProducts(_r6.value, 1); });\r\n                core[\"Xb\" /* ɵɵelement */](87, \"span\", 28);\r\n                core[\"Xb\" /* ɵɵelement */](88, \"i\", 29);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](89, \"button\", 30);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_89_listener() { return ctx.onCreateProduct(); });\r\n                core[\"Xb\" /* ɵɵelement */](90, \"i\", 31);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](91, \"button\", 32);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_91_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r17); const _r6 = core[\"Ic\" /* ɵɵreference */](84); return ctx.onRefresh(_r6.value); });\r\n                core[\"Xb\" /* ɵɵelement */](92, \"i\", 33);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](93, \"button\", 34);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_93_listener() { return ctx.onClearFilter(); });\r\n                core[\"Xb\" /* ɵɵelement */](94, \"i\", 35);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](95, \"button\", 36);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_95_listener() { return ctx.onClose(); });\r\n                core[\"Xb\" /* ɵɵelement */](96, \"i\", 37);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](97, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](98, \"div\", 21);\r\n                core[\"cc\" /* ɵɵelementStart */](99, \"div\", 38);\r\n                core[\"cc\" /* ɵɵelementStart */](100, \"div\", 39);\r\n                core[\"Sc\" /* ɵɵtemplate */](101, ShoppingCreateComponent_div_101_Template, 8, 5, \"div\", 40);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](102, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](103, \"div\", 41);\r\n                core[\"cc\" /* ɵɵelementStart */](104, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](105, \"div\", 42);\r\n                core[\"cc\" /* ɵɵelementStart */](106, \"button\", 43);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_106_listener() { return ctx.onDelete(); });\r\n                core[\"Xb\" /* ɵɵelement */](107, \"i\", 44);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](108, \"button\", 45);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_108_listener() { return ctx.onAdd(); });\r\n                core[\"Xb\" /* ɵɵelement */](109, \"i\", 31);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](110, \"button\", 46);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_110_listener() { return ctx.onMinus(); });\r\n                core[\"Xb\" /* ɵɵelement */](111, \"i\", 47);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](112, \"button\", 48);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_112_listener() { return ctx.onSave(); });\r\n                core[\"Xb\" /* ɵɵelement */](113, \"i\", 49);\r\n                core[\"Uc\" /* ɵɵtext */](114, \"Guardar \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](115, \"button\", 50);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function ShoppingCreateComponent_Template_button_click_115_listener() { return ctx.onCancel(); });\r\n                core[\"Xb\" /* ɵɵelement */](116, \"i\", 51);\r\n                core[\"Uc\" /* ɵɵtext */](117, \"Cancelar \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](118, \"div\", 42);\r\n                core[\"Xb\" /* ɵɵelement */](119, \"input\", 52);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](120, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](121, \"div\", 21);\r\n                core[\"cc\" /* ɵɵelementStart */](122, \"jqxGrid\", 53, 54);\r\n                core[\"mc\" /* ɵɵlistener */](\"onCellselect\", function ShoppingCreateComponent_Template_jqxGrid_onCellselect_122_listener($event) { return ctx.onCelSelect($event); })(\"onRowselect\", function ShoppingCreateComponent_Template_jqxGrid_onRowselect_122_listener($event) { return ctx.onRowSelect($event); })(\"Rowunselect\", function ShoppingCreateComponent_Template_jqxGrid_Rowunselect_122_listener($event) { return ctx.onRowUnselect($event); })(\"onCellendedit\", function ShoppingCreateComponent_Template_jqxGrid_onCellendedit_122_listener($event) { return ctx.onCellEndEdit($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](124, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](125, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](126, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](127, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](128, \" Subtotal\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](129, \"input\", 55);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](130, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](131, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](132, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](133, \" Descuento\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](134, \"input\", 56);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](135, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](136, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](137, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](138, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](139, \" IVA\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](140, \"input\", 57);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](141, \"div\", 15);\r\n                core[\"cc\" /* ɵɵelementStart */](142, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](143, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](144, \" Total\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](145, \"input\", 58);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](146, ShoppingCreateComponent_div_146_Template, 6, 0, \"div\", 59);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](147, \"ngx-spinner\");\r\n                core[\"cc\" /* ɵɵelementStart */](148, \"p\", 60);\r\n                core[\"Uc\" /* ɵɵtext */](149);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](3, 27, core[\"qc\" /* ɵɵpipeBind1 */](4, 29, \"general.createEdit\")), \" FACTURA DE COMPRA \");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"formGroup\", ctx.customForm);\r\n                core[\"Ib\" /* ɵɵadvance */](7);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](14, 31, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"Ob\" /* ɵɵclassProp */](\"status-danger\", ctx.invalidName)(\"is-invalid\", ctx.invalidName);\r\n                core[\"Ib\" /* ɵɵadvance */](7);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](24, 33, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.providers);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](36, 35, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.pointsOfSale);\r\n                core[\"Ib\" /* ɵɵadvance */](8);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.ware_house);\r\n                core[\"Ib\" /* ɵɵadvance */](6);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](56, 37, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.payments);\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](65, 39, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](8);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](73, 41, \"general.asterisk\"), \"\");\r\n                core[\"Ib\" /* ɵɵadvance */](29);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.itemsResult);\r\n                core[\"Ib\" /* ɵɵadvance */](5);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.selectedRow);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.selectedRow);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.selectedRow);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.selectedRow);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.selectedRow || ctx.invoice_id > 0);\r\n                core[\"Ib\" /* ɵɵadvance */](7);\r\n                core[\"vc\" /* ɵɵproperty */](\"auto-create\", false)(\"autoheight\", true)(\"width\", ctx.getWidth());\r\n                core[\"Ib\" /* ɵɵadvance */](24);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", !ctx.editing);\r\n                core[\"Ib\" /* ɵɵadvance */](3);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", ctx.maskSpinner, \" \");\r\n            }\r\n        }, directives: [fesm2015_forms[\"z\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"h\" /* FormGroupDirective */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], fesm2015_forms[\"w\" /* RequiredValidator */], ng_bootstrap[\"N\" /* NgbTooltip */], ng_select_ng_select[\"a\" /* NgSelectComponent */], ng_select_ng_select[\"d\" /* ɵr */], common[\"m\" /* NgForOf */], ngx_currency[\"a\" /* CurrencyMaskDirective */], jqwidgets_ng_jqxgrid[\"a\" /* jqxGridComponent */], common[\"n\" /* NgIf */], ngx_spinner[\"a\" /* NgxSpinnerComponent */]], pipes: [common[\"v\" /* UpperCasePipe */], ngx_translate_core[\"c\" /* TranslatePipe */], common[\"d\" /* CurrencyPipe */]], styles: [\"@media (min-width:768px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:4;column-count:4}}@media (min-width:992px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:6;column-count:6}}@media (min-width:1200px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:8;column-count:8}}.create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col-list[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}\"] });\r\n    return ShoppingCreateComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./src/app/core/components/forms/index.ts + 1 modules\nvar components_forms = __webpack_require__(\"xg8E\");\n\n// CONCATENATED MODULE: ./src/app/shopping/shopping/detail-edit.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst detail_edit_component_c0 = [\"customGrid\"];\r\nconst detail_edit_component_c1 = [\"myDataTable\"];\r\nconst detail_edit_component_c2 = [\"searchField\"];\r\nconst detail_edit_component_c3 = [\"focusElement\"];\r\nconst _c4 = [\"amountElement\"];\r\nconst _c5 = [\"cashele\"];\r\nconst _c6 = [\"searchbar\"];\r\nconst _c7 = [\"myTabs\"];\r\nfunction DetailEditComponent_div_41_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r10 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 59);\r\n        core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_div_41_Template_div_click_0_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r10); const itemres_r8 = ctx.$implicit; const ctx_r9 = core[\"oc\" /* ɵɵnextContext */](); return ctx_r9.onClickItem(itemres_r8); });\r\n        core[\"Xb\" /* ɵɵelement */](1, \"img\", 60);\r\n        core[\"cc\" /* ɵɵelementStart */](2, \"div\", 2);\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"h6\", 61);\r\n        core[\"Uc\" /* ɵɵtext */](4);\r\n        core[\"pc\" /* ɵɵpipe */](5, \"currency\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](6, \"p\", 62);\r\n        core[\"Uc\" /* ɵɵtext */](7);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const itemres_r8 = ctx.$implicit;\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"vc\" /* ɵɵproperty */](\"src\", itemres_r8.image, core[\"Oc\" /* ɵɵsanitizeUrl */]);\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](5, 3, itemres_r8.sale_price), \"\");\r\n        core[\"Ib\" /* ɵɵadvance */](3);\r\n        core[\"Vc\" /* ɵɵtextInterpolate */](itemres_r8.product_name);\r\n    }\r\n}\r\nfunction DetailEditComponent_ng_option_60_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 63);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const taxB_r11 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", taxB_r11.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Xc\" /* ɵɵtextInterpolate2 */](\" \", taxB_r11.name_taxe, \" - \", taxB_r11.rate_value, \" % \");\r\n    }\r\n}\r\nfunction DetailEditComponent_ng_option_87_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"ng-option\", 63);\r\n        core[\"Uc\" /* ɵɵtext */](1);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const taxS_r12 = ctx.$implicit;\r\n        core[\"vc\" /* ɵɵproperty */](\"value\", taxS_r12.id);\r\n        core[\"Ib\" /* ɵɵadvance */](1);\r\n        core[\"Xc\" /* ɵɵtextInterpolate2 */](\" \", taxS_r12.name_taxe, \" - \", taxS_r12.rate_value, \" % \");\r\n    }\r\n}\r\nfunction DetailEditComponent_div_103_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 31);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"label\", 64);\r\n        core[\"Uc\" /* ɵɵtext */](2, \"Lote #\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"div\", 65);\r\n        core[\"Xb\" /* ɵɵelement */](4, \"input\", 66);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r5 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](4);\r\n        core[\"vc\" /* ɵɵproperty */](\"readonly\", !ctx_r5.perishable);\r\n    }\r\n}\r\nfunction DetailEditComponent_div_104_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 31);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"label\", 64);\r\n        core[\"Uc\" /* ɵɵtext */](2, \"Fecha de fabricaci\\u00F3n\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"div\", 65);\r\n        core[\"Xb\" /* ɵɵelement */](4, \"input\", 67);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r6 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](4);\r\n        core[\"vc\" /* ɵɵproperty */](\"readonly\", !ctx_r6.perishable);\r\n    }\r\n}\r\nfunction DetailEditComponent_div_105_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"cc\" /* ɵɵelementStart */](0, \"div\", 31);\r\n        core[\"cc\" /* ɵɵelementStart */](1, \"label\", 64);\r\n        core[\"Uc\" /* ɵɵtext */](2, \"Fecha de vencimiento\");\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"cc\" /* ɵɵelementStart */](3, \"div\", 65);\r\n        core[\"Xb\" /* ɵɵelement */](4, \"input\", 68);\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n        core[\"bc\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r7 = core[\"oc\" /* ɵɵnextContext */]();\r\n        core[\"Ib\" /* ɵɵadvance */](4);\r\n        core[\"vc\" /* ɵɵproperty */](\"readonly\", !ctx_r7.perishable);\r\n    }\r\n}\r\nlet detail_edit_component_DetailEditComponent = /*@__PURE__*/ (() => {\r\n    class DetailEditComponent extends components_forms[\"a\" /* FormComponent */] {\r\n        constructor(fb, msg, api, router, translate, aRouter, currSer, reporstSer, itemsSer, spinner, documents, shopSer, taxSer) {\r\n            super(fb, msg, api, router, translate, aRouter, spinner);\r\n            this.fb = fb;\r\n            this.msg = msg;\r\n            this.api = api;\r\n            this.router = router;\r\n            this.translate = translate;\r\n            this.aRouter = aRouter;\r\n            this.currSer = currSer;\r\n            this.reporstSer = reporstSer;\r\n            this.itemsSer = itemsSer;\r\n            this.spinner = spinner;\r\n            this.documents = documents;\r\n            this.shopSer = shopSer;\r\n            this.taxSer = taxSer;\r\n            this.title = 'Productos/Servicios';\r\n            this.items = [];\r\n            this.itemsResult = [];\r\n            this.lines = [];\r\n            this.taxBill = [];\r\n            this.taxSales = [];\r\n            this.perishable = false;\r\n            this.itemName = \"\";\r\n            this.oldItem = [];\r\n            this.customForm = this.fb.group({\r\n                amount: [''],\r\n                batch: [''],\r\n                expiration_date: [''],\r\n                fabrication_date: [''],\r\n                product_name: [''],\r\n                sale_price: [''],\r\n                tax_bill_id: [''],\r\n                tax_sale_id: [''],\r\n                total_cost: [''],\r\n                unit_cost: [''],\r\n                unit_price: [''],\r\n                gain: [''],\r\n                percentage_gain: [''],\r\n                vat_included: [''],\r\n            });\r\n        }\r\n        ngOnInit() {\r\n            const ts = this;\r\n            let frm = ts.customForm;\r\n            ts.showSpinner();\r\n            ts.taxSer.getData({ isVat: true }).subscribe((resp) => {\r\n                ts.taxBill = resp;\r\n                ts.taxSales = resp;\r\n                super.ngOnInit();\r\n            });\r\n        }\r\n        ngAfterViewInit() {\r\n            const ts = this;\r\n        }\r\n        loadData(id = 0) {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            ts.editing = true;\r\n            ts.shopSer.getDetailID(id).subscribe((resp) => {\r\n                ts.oldItem = resp;\r\n                ts.onClearForm();\r\n                ts.onRefresh();\r\n            });\r\n        }\r\n        /**\r\n         * Cuando se cambia el precio de compra\r\n         */\r\n        onChangeUnitPrice() {\r\n            this.onPurchaseData();\r\n        }\r\n        /**\r\n         * Cuando se cambia el precio de venta\r\n         */\r\n        onChangeSalePrice() {\r\n            this.onSalesData();\r\n        }\r\n        /**\r\n         * Cuando se selecciona un item de la lista de productos\r\n         */\r\n        onClickItem(i) {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            let line = i;\r\n            const lang = ts.translate;\r\n            if (line.class_id !== 2) {\r\n                // Implements\r\n                sweetalert2_all_default.a.fire({\r\n                    title: 'Cambiar item',\r\n                    text: 'Está a punto de cambiar el ITEM, ¿Desea continuar.?',\r\n                    icon: 'question',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: lang.instant('buttons.yes'),\r\n                    cancelButtonText: lang.instant('buttons.not')\r\n                }).then((result) => {\r\n                    if (result.value) {\r\n                        ts.perishable = line.perishable;\r\n                        const purchase_cost = parseFloat(line.purchase_cost.toString()) / parseFloat(line.tax_bill_rate.toString());\r\n                        frm.get('amount').setValue(1);\r\n                        frm.get('unit_price').setValue(purchase_cost);\r\n                        frm.get('tax_bill_id').setValue(line.tax_bill_id);\r\n                        frm.get('tax_sale_id').setValue(line.tax_sales_id);\r\n                        let sale_price = parseFloat(((purchase_cost * line.percentage_gain) / 100).toString()) + purchase_cost;\r\n                        if (line.sale_price > sale_price) {\r\n                            sale_price = line.sale_price;\r\n                        }\r\n                        frm.get('sale_price').setValue(sale_price);\r\n                        ts.amountElement.nativeElement.focus;\r\n                        ts.itemSelect = line;\r\n                        ts.itemName = line.product_name;\r\n                        ts.onChageTaxBill(line.tax_bill_id);\r\n                        ts.onChangeTaxSale(line.tax_sales_id);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                ts.msg.toastMessage('', 'El item seleccionado no maneja inventarios.', 4);\r\n                ts.onClearForm();\r\n            }\r\n        }\r\n        /**\r\n         * Quita filtro activo\r\n         */\r\n        onClearFilter() {\r\n            const ts = this;\r\n            ts.onClearForm();\r\n            ts.searchField.nativeElement.value = '';\r\n            ts.itemsResult = ts.items;\r\n            ts.searchField.nativeElement.focus;\r\n        }\r\n        /**\r\n         * Actualiza listado de productos\r\n         */\r\n        onRefresh() {\r\n            const ts = this;\r\n            ts.showSpinner('Cargando listado de productos.');\r\n            ts.itemsSer.getDataSales({}).subscribe((resp) => {\r\n                ts.items = resp;\r\n                ts.hideSpinner();\r\n                ts.itemsResult = ts.items;\r\n                ts.searchField.nativeElement.focus;\r\n            }, () => ts.hideSpinner());\r\n        }\r\n        /**\r\n         * Búsqueda de productos\r\n         */\r\n        onSearchProducts(query) {\r\n            const ts = this;\r\n            ts.showSpinner();\r\n            ts.onClearForm();\r\n            if (ts.items.length === 0 && query.length > 0) {\r\n                ts.itemsSer.getDataSales({}).subscribe((resp) => {\r\n                    ts.items = resp;\r\n                    ts.hideSpinner();\r\n                    ts.itemsResult = ts.items.filter((ele) => ele.product_name.toLowerCase().indexOf(query.toLowerCase()) >= 0);\r\n                });\r\n            }\r\n            else {\r\n                if (query.length > 0) {\r\n                    ts.itemsResult = ts.items.filter((ele) => ele.product_name.toLowerCase().indexOf(query.toLowerCase()) >= 0);\r\n                    ts.hideSpinner();\r\n                }\r\n                else {\r\n                    ts.itemsResult = ts.items;\r\n                    ts.hideSpinner();\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Limpia el formulario\r\n         */\r\n        onClearForm() {\r\n            const ts = this;\r\n            const frm = ts.customForm;\r\n            const resp = ts.oldItem;\r\n            ts.itemSelect = null;\r\n            ts.itemName = '';\r\n            ts.taxBillSelect = ts.taxBill.find(tax => tax.id === resp[0].tax_bill_id);\r\n            let unitCost = resp[0].unit_cost;\r\n            /**\r\n             * Si no tiene iva Incluido, se resta para dejar el precio unitario correcto\r\n             */\r\n            if (!resp[0].vat_included) {\r\n                unitCost = parseFloat(resp[0].unit_cost.toString()) / parseFloat(ts.taxBillSelect.decimal_rate.toString());\r\n            }\r\n            frm.setValue({\r\n                amount: resp[0].amount,\r\n                batch: resp[0].batch,\r\n                expiration_date: resp[0].expiration_date,\r\n                fabrication_date: resp[0].fabrication_date,\r\n                product_name: resp[0].product_name,\r\n                sale_price: resp[0].sale_price,\r\n                tax_bill_id: resp[0].tax_bill_id,\r\n                tax_sale_id: resp[0].tax_sale_id,\r\n                total_cost: resp[0].total_cost,\r\n                unit_cost: resp[0].unit_cost,\r\n                unit_price: unitCost,\r\n                gain: 0,\r\n                percentage_gain: 0,\r\n                vat_included: resp[0].vat_included,\r\n            });\r\n            ts.perishable = resp[0].perishable;\r\n            ts.searchField.nativeElement.focus;\r\n            ts.onChageTaxBill(resp[0].tax_bill_id);\r\n            ts.onChangeTaxSale(resp[0].tax_sale_id);\r\n            ts.onPurchaseData();\r\n        }\r\n        /**\r\n         * Cuando se selecciona un nuevo impuesto de compra\r\n         */\r\n        onChageTaxBill(val) {\r\n            const ts = this;\r\n            ts.taxBillSelect = ts.taxBill.find(tax => tax.id === val);\r\n            ts.onPurchaseData();\r\n        }\r\n        /**\r\n         * Cuando se cambia la cantidad\r\n         */\r\n        onChageAmount(e) {\r\n            this.onPurchaseData();\r\n        }\r\n        /**\r\n         * Cuando se cambia el impuesto incluido\r\n         */\r\n        onChageIncluded(e) {\r\n            this.onPurchaseData();\r\n        }\r\n        /**\r\n         * Cuando se selecciona un nuevo impuesto de venta\r\n         */\r\n        onChangeTaxSale(val) {\r\n            const ts = this;\r\n            ts.taxSaleSelect = ts.taxSales.find(tax => tax.id === val);\r\n            ts.onSalesData();\r\n        }\r\n        /**\r\n         * Calcula los valores de venta\r\n         */\r\n        onSalesData() {\r\n            const ts = this;\r\n            if (ts.taxSaleSelect) {\r\n                const frm = ts.customForm;\r\n                const unit_price = parseFloat(frm.get('unit_price').value);\r\n                const sale_price = parseFloat(frm.get('sale_price').value);\r\n                const vat = parseFloat(ts.taxBillSelect.decimal_rate.toString());\r\n                const vatSale = parseFloat(ts.taxSaleSelect.decimal_rate.toString());\r\n                const included = frm.get('vat_included').value;\r\n                let realPrice = 0;\r\n                let realCost = 0;\r\n                let gain = 0;\r\n                let percGain = 0;\r\n                if (included == true) { // Impuesto incluido en el precio de compra\r\n                    realCost = (unit_price / vat);\r\n                }\r\n                else {\r\n                    realCost = unit_price;\r\n                }\r\n                realPrice = (sale_price / vatSale);\r\n                gain = realPrice - realCost;\r\n                percGain = (gain / realPrice) * 100;\r\n                frm.get('gain').setValue(gain);\r\n                frm.get('percentage_gain').setValue(`${percGain.toFixed(2)} %`);\r\n            }\r\n        }\r\n        /**\r\n         *\r\n         * Calcula los valores de compra\r\n         */\r\n        onPurchaseData() {\r\n            const ts = this;\r\n            if (ts.taxBillSelect) {\r\n                const frm = ts.customForm;\r\n                const amount = parseFloat(frm.get('amount').value);\r\n                const unit_price = parseFloat(frm.get('unit_price').value);\r\n                const vat = parseFloat(ts.taxBillSelect.decimal_rate.toString());\r\n                const included = frm.get('vat_included').value;\r\n                const unit_cost = (vat > 0) ? (unit_price * vat) : unit_price;\r\n                const total = unit_cost * amount;\r\n                if (included == true) { // Impuesto incluido en el precio de compra\r\n                    frm.get('unit_cost').setValue(unit_price);\r\n                    frm.get('total_cost').setValue(unit_price * amount);\r\n                }\r\n                else {\r\n                    frm.get('unit_cost').setValue(unit_cost);\r\n                    frm.get('total_cost').setValue(total);\r\n                }\r\n                if (amount > 0) {\r\n                    ts.onSalesData();\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Guarda la factura y el detalle\r\n         */\r\n        onSave(content = {}) {\r\n            const ts = this;\r\n            let frm = ts.customForm;\r\n            const uid = ts.uid;\r\n            let values = frm.getRawValue();\r\n            if (parseFloat(values.amount) <= 0 || parseFloat(values.sale_price) <= 0 || parseFloat(values.unit_cost) <= 0) {\r\n                ts.msg.toastMessage('', 'Hay un error en las cantidades.', 4);\r\n                return false;\r\n            }\r\n            if (frm.invalid) {\r\n                ts.msg.toastMessage('', 'Hay campos sin llenar.', 4);\r\n                return false;\r\n            }\r\n            if (uid) {\r\n                ts.onSaveDetail(values);\r\n            }\r\n            else {\r\n                ts.msg.toastMessage('Error', 'Error en la aplicación');\r\n            }\r\n        }\r\n        onSaveDetail(values) {\r\n            const ts = this;\r\n            ts.showSpinner('Guardando cambios');\r\n            if (ts.itemSelect) {\r\n                if (!ts.itemSelect.perishable) {\r\n                    values.batch = null;\r\n                    values.fabrication_date = null;\r\n                    values.expiration_date = null;\r\n                }\r\n                values.product_id = ts.itemSelect.id;\r\n            }\r\n            else if (!ts.oldItem[0].perishable) {\r\n                values.batch = null;\r\n                values.fabrication_date = null;\r\n                values.expiration_date = null;\r\n            }\r\n            let data = {\r\n                records: JSON.stringify(values)\r\n            };\r\n            ts.api.put(`/shopping/update/detail/${ts.uid}`, data).subscribe((resp) => {\r\n                if (resp.success) {\r\n                    ts.msg.toastMessage('', 'Los cambios se han guardado correctamente.');\r\n                    ts.onClose();\r\n                }\r\n                else {\r\n                    ts.msg.toastMessage('', resp.message, 4);\r\n                }\r\n                ts.searchField.nativeElement.focus;\r\n                ts.hideSpinner();\r\n            }, (resp) => {\r\n                ts.hideSpinner();\r\n            });\r\n        }\r\n        onClose() {\r\n            this.goRoute(`shopping/invoices`);\r\n        }\r\n    }\r\n    DetailEditComponent.ɵfac = function DetailEditComponent_Factory(t) { return new (t || DetailEditComponent)(core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_forms[\"e\" /* FormBuilder */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"b\" /* MessagesService */]), core[\"Wb\" /* ɵɵdirectiveInject */](utils[\"a\" /* ApiServerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"c\" /* Router */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_translate_core[\"d\" /* TranslateService */]), core[\"Wb\" /* ɵɵdirectiveInject */](fesm2015_router[\"a\" /* ActivatedRoute */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"a\" /* CurrencySysService */]), core[\"Wb\" /* ɵɵdirectiveInject */](reports_service[\"a\" /* ReportsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](products[\"e\" /* ItemsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](ngx_spinner[\"c\" /* NgxSpinnerService */]), core[\"Wb\" /* ɵɵdirectiveInject */](documents_service[\"a\" /* DocumentsService */]), core[\"Wb\" /* ɵɵdirectiveInject */](shopping_service[\"a\" /* ShoppingService */]), core[\"Wb\" /* ɵɵdirectiveInject */](general[\"f\" /* TaxRatesService */])); };\r\n    DetailEditComponent.ɵcmp = core[\"Qb\" /* ɵɵdefineComponent */]({ type: DetailEditComponent, selectors: [[\"app-detail-edit\"]], viewQuery: function DetailEditComponent_Query(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"ad\" /* ɵɵviewQuery */](detail_edit_component_c0, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](detail_edit_component_c1, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](detail_edit_component_c2, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](detail_edit_component_c3, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c4, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c5, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c6, 1);\r\n                core[\"ad\" /* ɵɵviewQuery */](_c7, 1);\r\n            }\r\n            if (rf & 2) {\r\n                let _t;\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.customGrid = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.myDataTable = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.searchField = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.focusElement = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.amountElement = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.cashele = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.searchbar = _t.first);\r\n                core[\"Hc\" /* ɵɵqueryRefresh */](_t = core[\"nc\" /* ɵɵloadQuery */]()) && (ctx.myTabs = _t.first);\r\n            }\r\n        }, features: [core[\"Fb\" /* ɵɵInheritDefinitionFeature */]], decls: 114, vars: 14, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [3, \"formGroup\"], [1, \"container-fluid\", \"padding-top-bottom\"], [1, \"row\"], [1, \"col\"], [1, \"form-group\"], [\"type\", \"text\", \"nbinput\", \"\", \"fullWidth\", \"\", \"formControlName\", \"product_name\", 1, \"form-control\", 3, \"readOnly\"], [1, \"col-md-7\"], [1, \"page-search-input\", \"form-group\"], [1, \"input-group\"], [\"type\", \"search\", \"id\", \"searchbar\", \"placeholder\", \"B\\u00FAsqueda\", \"autofocus\", \"\", 1, \"form-control\", \"rounded-right\", \"form-control-lg\", \"shadow\", \"pl-2\", 3, \"keyup.enter\"], [\"searchField\", \"\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"search-btn\", \"rounded\", \"space-right\", 3, \"click\"], [1, \"d-none\", \"d-sm-block\"], [1, \"fas\", \"fa-search\"], [\"type\", \"button\", \"ngbTooltip\", \"Crear nuevo producto\", 1, \"btn\", \"btn-success\", \"space-right\", \"radius-button\"], [1, \"fas\", \"fa-plus\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Refrescar\", 1, \"btn\", \"btn-info\", \"space-right\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-sync\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Limpiar\", 1, \"btn\", \"btn-danger\", \"space-right\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-broom\", \"fas-fa-22\"], [\"type\", \"button\", \"ngbTooltip\", \"Cerrar\", 1, \"btn\", \"btn-danger\", \"radius-button\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"fas-fa-22\"], [1, \"col\", \"product-name-header\"], [1, \"col\", \"card-col\"], [1, \"card-columns\"], [\"class\", \"card card-sales\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-5\", \"card-col\"], [1, \"form-group\", \"row\"], [\"for\", \"inputQuantity\", 1, \"col-sm-3\", \"col-form-label\"], [1, \"col-sm-9\"], [\"type\", \"number\", \"id\", \"inputQuantity\", \"placeholder\", \"Cantidad\", \"formControlName\", \"amount\", 1, \"form-control\", 3, \"change\"], [\"amountElement\", \"\"], [\"for\", \"selectBill\", 1, \"col-sm-3\", \"col-form-label\"], [\"id\", \"selectBill\", \"formControlName\", \"tax_bill_id\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"ckInclude\", \"formControlName\", \"vat_included\", 1, \"form-check-input\", 3, \"change\"], [\"for\", \"ckInclude\", 1, \"form-check-label\"], [\"for\", \"inputAmount1\", 1, \"col-sm-3\", \"col-form-label\"], [\"formControlName\", \"unit_price\", \"currencyMask\", \"\", \"type\", \"text\", \"id\", \"inputAmount1\", \"ngbTooltip\", \"Costo unitario sin impuesto\", \"placeholder\", \"Costo unitario\", 1, \"form-control\", 3, \"keyup\"], [1, \"col-sm-6\"], [\"formControlName\", \"unit_cost\", \"currencyMask\", \"\", \"type\", \"text\", \"id\", \"inputAmount\", \"ngbTooltip\", \"Costo unitario con impuesto\", \"placeholder\", \"Costo unitario\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"total\"], [\"formControlName\", \"total_cost\", \"type\", \"text\", \"currencyMask\", \"\", \"placeholder\", \"Total\", \"readonly\", \"\", 1, \"form-control\", \"radius-button\", \"total\"], [\"for\", \"selectSale\", 1, \"col-sm-4\", \"col-form-label\"], [1, \"col-sm-8\"], [\"id\", \"selectSale\", \"formControlName\", \"tax_sale_id\", 3, \"change\"], [\"for\", \"salePrice\", 1, \"col-sm-4\", \"col-form-label\"], [\"formControlName\", \"sale_price\", \"currencyMask\", \"\", \"type\", \"text\", \"id\", \"salePrice\", \"placement\", \"bottom\", \"ngbTooltip\", \"Precio de venta con impuesto incluido\", \"placeholder\", \"Precio de venta\", 1, \"form-control\", 3, \"keyup\"], [1, \"col-sm-4\", \"col-form-label\"], [\"readonly\", \"\", \"formControlName\", \"gain\", \"currencyMask\", \"\", \"type\", \"text\", \"placement\", \"bottom\", \"ngbTooltip\", \"Ganancia posible\", \"placeholder\", \"Ganancia posible\", 1, \"form-control\"], [\"readonly\", \"\", \"formControlName\", \"percentage_gain\", \"type\", \"text\", \"placement\", \"bottom\", \"ngbTooltip\", \"Procentaje Ganancia posible\", 1, \"form-control\"], [\"class\", \"form-group row\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"radius-button\", \"btn-primary\", \"space-right\", \"radius-button\", \"btn-block\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-save\", \"fas-fa-22\"], [2, \"color\", \"white\"], [1, \"card\", \"card-sales\", 3, \"click\"], [\"fallimg\", \"product\", 1, \"img-product\", \"card-img-top\", 3, \"src\"], [1, \"price\"], [1, \"product-name\"], [3, \"value\"], [1, \"col-sm-5\", \"col-form-label\"], [1, \"col-sm-7\"], [\"formControlName\", \"batch\", \"type\", \"text\", 1, \"form-control\", 3, \"readonly\"], [\"formControlName\", \"fabrication_date\", \"type\", \"date\", 1, \"form-control\", 3, \"readonly\"], [\"formControlName\", \"expiration_date\", \"type\", \"date\", 1, \"form-control\", 3, \"readonly\"]], template: function DetailEditComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                const _r13 = core[\"dc\" /* ɵɵgetCurrentView */]();\r\n                core[\"cc\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"Uc\" /* ɵɵtext */](2, \" EDITAR DETALLE DEL ITEM \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](3, \"div\", 2);\r\n                core[\"cc\" /* ɵɵelementStart */](4, \"form\", 3);\r\n                core[\"cc\" /* ɵɵelementStart */](5, \"div\", 4);\r\n                core[\"cc\" /* ɵɵelementStart */](6, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](7, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](8, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](9, \"label\");\r\n                core[\"Uc\" /* ɵɵtext */](10, \"Nombre del producto.\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Xb\" /* ɵɵelement */](11, \"input\", 8);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](12, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](13, \"div\", 9);\r\n                core[\"cc\" /* ɵɵelementStart */](14, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](15, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](16, \"div\", 10);\r\n                core[\"cc\" /* ɵɵelementStart */](17, \"fieldset\");\r\n                core[\"cc\" /* ɵɵelementStart */](18, \"div\", 11);\r\n                core[\"cc\" /* ɵɵelementStart */](19, \"input\", 12, 13);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup.enter\", function DetailEditComponent_Template_input_keyup_enter_19_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r13); const _r0 = core[\"Ic\" /* ɵɵreference */](20); return ctx.onSearchProducts(_r0.value); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](21, \"div\", 14);\r\n                core[\"cc\" /* ɵɵelementStart */](22, \"button\", 15);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_Template_button_click_22_listener() { core[\"Lc\" /* ɵɵrestoreView */](_r13); const _r0 = core[\"Ic\" /* ɵɵreference */](20); return ctx.onSearchProducts(_r0.value); });\r\n                core[\"Xb\" /* ɵɵelement */](23, \"span\", 16);\r\n                core[\"Xb\" /* ɵɵelement */](24, \"i\", 17);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](25, \"button\", 18);\r\n                core[\"Xb\" /* ɵɵelement */](26, \"i\", 19);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](27, \"button\", 20);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_Template_button_click_27_listener() { return ctx.onRefresh(); });\r\n                core[\"Xb\" /* ɵɵelement */](28, \"i\", 21);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](29, \"button\", 22);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_Template_button_click_29_listener() { return ctx.onClearFilter(); });\r\n                core[\"Xb\" /* ɵɵelement */](30, \"i\", 23);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](31, \"button\", 24);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_Template_button_click_31_listener() { return ctx.onClose(); });\r\n                core[\"Xb\" /* ɵɵelement */](32, \"i\", 25);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](33, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](34, \"div\", 26);\r\n                core[\"cc\" /* ɵɵelementStart */](35, \"label\");\r\n                core[\"cc\" /* ɵɵelementStart */](36, \"span\");\r\n                core[\"Uc\" /* ɵɵtext */](37);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](38, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](39, \"div\", 27);\r\n                core[\"cc\" /* ɵɵelementStart */](40, \"div\", 28);\r\n                core[\"Sc\" /* ɵɵtemplate */](41, DetailEditComponent_div_41_Template, 8, 5, \"div\", 29);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](42, \"div\", 30);\r\n                core[\"cc\" /* ɵɵelementStart */](43, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](44, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](45, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](46, \"div\", 1);\r\n                core[\"Uc\" /* ɵɵtext */](47, \" Datos de compra \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](48, \"div\");\r\n                core[\"cc\" /* ɵɵelementStart */](49, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](50, \"label\", 32);\r\n                core[\"Uc\" /* ɵɵtext */](51, \"Cantidad\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](52, \"div\", 33);\r\n                core[\"cc\" /* ɵɵelementStart */](53, \"input\", 34, 35);\r\n                core[\"mc\" /* ɵɵlistener */](\"change\", function DetailEditComponent_Template_input_change_53_listener($event) { return ctx.onChageAmount($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](55, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](56, \"label\", 36);\r\n                core[\"Uc\" /* ɵɵtext */](57, \"Impuesto\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](58, \"div\", 33);\r\n                core[\"cc\" /* ɵɵelementStart */](59, \"ng-select\", 37);\r\n                core[\"mc\" /* ɵɵlistener */](\"change\", function DetailEditComponent_Template_ng_select_change_59_listener($event) { return ctx.onChageTaxBill($event); });\r\n                core[\"Sc\" /* ɵɵtemplate */](60, DetailEditComponent_ng_option_60_Template, 2, 3, \"ng-option\", 38);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](61, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](62, \"div\", 39);\r\n                core[\"cc\" /* ɵɵelementStart */](63, \"input\", 40);\r\n                core[\"mc\" /* ɵɵlistener */](\"change\", function DetailEditComponent_Template_input_change_63_listener($event) { return ctx.onChageIncluded($event); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](64, \"label\", 41);\r\n                core[\"Uc\" /* ɵɵtext */](65, \" Incluido \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](66, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](67, \"label\", 42);\r\n                core[\"Uc\" /* ɵɵtext */](68, \"Costo U.\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](69, \"div\", 33);\r\n                core[\"cc\" /* ɵɵelementStart */](70, \"input\", 43);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup\", function DetailEditComponent_Template_input_keyup_70_listener() { return ctx.onChangeUnitPrice(); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](71, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](72, \"div\", 44);\r\n                core[\"Xb\" /* ɵɵelement */](73, \"input\", 45);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](74, \"div\", 44);\r\n                core[\"Xb\" /* ɵɵelement */](75, \"input\", 46);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](76, \"div\", 5);\r\n                core[\"cc\" /* ɵɵelementStart */](77, \"div\", 6);\r\n                core[\"cc\" /* ɵɵelementStart */](78, \"div\", 0);\r\n                core[\"cc\" /* ɵɵelementStart */](79, \"div\");\r\n                core[\"Uc\" /* ɵɵtext */](80, \" Datos de venta \");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](81, \"div\");\r\n                core[\"cc\" /* ɵɵelementStart */](82, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](83, \"label\", 47);\r\n                core[\"Uc\" /* ɵɵtext */](84, \"Impuesto\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](85, \"div\", 48);\r\n                core[\"cc\" /* ɵɵelementStart */](86, \"ng-select\", 49);\r\n                core[\"mc\" /* ɵɵlistener */](\"change\", function DetailEditComponent_Template_ng_select_change_86_listener($event) { return ctx.onChangeTaxSale($event); });\r\n                core[\"Sc\" /* ɵɵtemplate */](87, DetailEditComponent_ng_option_87_Template, 2, 3, \"ng-option\", 38);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](88, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](89, \"label\", 50);\r\n                core[\"Uc\" /* ɵɵtext */](90, \"Precio de venta\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](91, \"div\", 48);\r\n                core[\"cc\" /* ɵɵelementStart */](92, \"input\", 51);\r\n                core[\"mc\" /* ɵɵlistener */](\"keyup\", function DetailEditComponent_Template_input_keyup_92_listener() { return ctx.onChangeSalePrice(); });\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](93, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](94, \"label\", 52);\r\n                core[\"Uc\" /* ɵɵtext */](95, \"Ganancia posible\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](96, \"div\", 48);\r\n                core[\"Xb\" /* ɵɵelement */](97, \"input\", 53);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](98, \"div\", 31);\r\n                core[\"cc\" /* ɵɵelementStart */](99, \"label\", 52);\r\n                core[\"Uc\" /* ɵɵtext */](100, \"% Ganancia\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](101, \"div\", 48);\r\n                core[\"Xb\" /* ɵɵelement */](102, \"input\", 54);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"Sc\" /* ɵɵtemplate */](103, DetailEditComponent_div_103_Template, 5, 1, \"div\", 55);\r\n                core[\"Sc\" /* ɵɵtemplate */](104, DetailEditComponent_div_104_Template, 5, 1, \"div\", 55);\r\n                core[\"Sc\" /* ɵɵtemplate */](105, DetailEditComponent_div_105_Template, 5, 1, \"div\", 55);\r\n                core[\"cc\" /* ɵɵelementStart */](106, \"div\", 7);\r\n                core[\"cc\" /* ɵɵelementStart */](107, \"button\", 56);\r\n                core[\"mc\" /* ɵɵlistener */](\"click\", function DetailEditComponent_Template_button_click_107_listener() { return ctx.onSave(); });\r\n                core[\"Xb\" /* ɵɵelement */](108, \"i\", 57);\r\n                core[\"Uc\" /* ɵɵtext */](109);\r\n                core[\"pc\" /* ɵɵpipe */](110, \"translate\");\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"cc\" /* ɵɵelementStart */](111, \"ngx-spinner\");\r\n                core[\"cc\" /* ɵɵelementStart */](112, \"p\", 58);\r\n                core[\"Uc\" /* ɵɵtext */](113);\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n                core[\"bc\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"formGroup\", ctx.customForm);\r\n                core[\"Ib\" /* ɵɵadvance */](7);\r\n                core[\"vc\" /* ɵɵproperty */](\"readOnly\", ctx.editing);\r\n                core[\"Ib\" /* ɵɵadvance */](26);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", ctx.itemName, \" \");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.itemsResult);\r\n                core[\"Ib\" /* ɵɵadvance */](19);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.taxBill);\r\n                core[\"Ib\" /* ɵɵadvance */](27);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngForOf\", ctx.taxSales);\r\n                core[\"Ib\" /* ɵɵadvance */](16);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", ctx.perishable);\r\n                core[\"Ib\" /* ɵɵadvance */](1);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", ctx.perishable);\r\n                core[\"Ib\" /* ɵɵadvance */](1);\r\n                core[\"vc\" /* ɵɵproperty */](\"ngIf\", ctx.perishable);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"vc\" /* ɵɵproperty */](\"disabled\", !ctx.customForm.valid);\r\n                core[\"Ib\" /* ɵɵadvance */](2);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", core[\"qc\" /* ɵɵpipeBind1 */](110, 12, \"buttons.save\"), \" \");\r\n                core[\"Ib\" /* ɵɵadvance */](4);\r\n                core[\"Wc\" /* ɵɵtextInterpolate1 */](\" \", ctx.maskSpinner, \" \");\r\n            }\r\n        }, directives: [fesm2015_forms[\"z\" /* ɵangular_packages_forms_forms_ba */], fesm2015_forms[\"q\" /* NgControlStatusGroup */], fesm2015_forms[\"h\" /* FormGroupDirective */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"p\" /* NgControlStatus */], fesm2015_forms[\"g\" /* FormControlName */], ng_bootstrap[\"N\" /* NgbTooltip */], common[\"m\" /* NgForOf */], fesm2015_forms[\"u\" /* NumberValueAccessor */], ng_select_ng_select[\"a\" /* NgSelectComponent */], fesm2015_forms[\"a\" /* CheckboxControlValueAccessor */], ngx_currency[\"a\" /* CurrencyMaskDirective */], common[\"n\" /* NgIf */], ngx_spinner[\"a\" /* NgxSpinnerComponent */], ng_select_ng_select[\"d\" /* ɵr */]], pipes: [ngx_translate_core[\"c\" /* TranslatePipe */], common[\"d\" /* CurrencyPipe */]], styles: [\"@media (min-width:768px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:4;column-count:4}}@media (min-width:992px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:6;column-count:6}}@media (min-width:1200px){.card-columns[_ngcontent-%COMP%]{-moz-column-count:8;column-count:8}}.create-customer[_ngcontent-%COMP%]{background-color:#a50721!important;color:#fff!important;font-weight:700!important}.search-custom[_ngcontent-%COMP%]{background:#fff!important;border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.322);padding-bottom:5px!important}.card-col-list[_ngcontent-%COMP%]{max-height:250px;overflow:auto}.card-col[_ngcontent-%COMP%]{max-height:870px;min-height:200px;overflow:auto}.discounts[_ngcontent-%COMP%]{color:green;font-weight:700}.total[_ngcontent-%COMP%], .total-bg[_ngcontent-%COMP%]{color:red;font-weight:700}.total-bg[_ngcontent-%COMP%]{font-size:24px}.vat[_ngcontent-%COMP%]{color:#00f;font-weight:700}.card-sales[_ngcontent-%COMP%]{border:2px solid hsla(0,0%,100%,.247);box-shadow:0 2px 6px 0 rgba(50,50,50,.322);margin:5px!important;min-height:138px!important}.card-sales[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:red;font-size:16px;font-weight:700;margin-bottom:auto;margin-top:auto;padding-bottom:4px;padding-top:4px;text-align:right}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:4px}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.card-sales[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover   .price[_ngcontent-%COMP%]{color:#fff}.card-sales[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;margin-bottom:0!important;text-align:center;text-transform:uppercase}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]{display:block;margin:auto;max-width:62px}.card-sales[_ngcontent-%COMP%]   .img-product[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:0 2px 8px 0 rgba(50,50,50,.75)}.card-sales[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:1px!important;padding-left:4px;padding-right:4px;padding-top:1px!important}.card-sales[_ngcontent-%COMP%]:hover{border:2px solid rgba(23,58,253,.12156862745098039);cursor:pointer}.card-sales[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]:hover{background-color:#173afd;color:#fff}.product-name-header[_ngcontent-%COMP%]{background-color:#639;border:2px solid hsla(0,0%,100%,.5137254901960784);border-radius:25px;color:#fff;font-size:16px;font-weight:700;height:32px;padding:4px;text-align:center;word-break:break-all}\"] });\r\n    return DetailEditComponent;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/shopping/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/app/shopping/shopping-routing.module.ts\n\r\n\r\n\r\n\r\n\r\nconst routes = [{\r\n        path: '',\r\n        component: shopping_component_ShoppingComponent,\r\n        children: [\r\n            {\r\n                path: 'invoices',\r\n                component: invoices_component_InvoicesComponent,\r\n            },\r\n            {\r\n                path: 'invoices/create',\r\n                component: shopping_create_component_ShoppingCreateComponent,\r\n            },\r\n            {\r\n                path: 'invoices/edit/:id',\r\n                component: shopping_create_component_ShoppingCreateComponent,\r\n            },\r\n            {\r\n                path: 'invoices/create/detail/:id',\r\n                component: shopping_create_component_ShoppingCreateComponent,\r\n            },\r\n            {\r\n                path: 'invoices/detail/edit/:id',\r\n                component: detail_edit_component_DetailEditComponent,\r\n            },\r\n            {\r\n                path: 'providers',\r\n                component: providers_component_ProvidersComponent,\r\n            },\r\n            {\r\n                path: 'providers/create',\r\n                component: provider_form_component_ProviderFormComponent\r\n            },\r\n            {\r\n                path: 'providers/edit/:id',\r\n                component: provider_form_component_ProviderFormComponent\r\n            },\r\n        ],\r\n    }];\r\nlet shopping_routing_module_ShoppingRoutingModule = /*@__PURE__*/ (() => {\r\n    class ShoppingRoutingModule {\r\n    }\r\n    ShoppingRoutingModule.ɵfac = function ShoppingRoutingModule_Factory(t) { return new (t || ShoppingRoutingModule)(); };\r\n    ShoppingRoutingModule.ɵmod = core[\"Ub\" /* ɵɵdefineNgModule */]({ type: ShoppingRoutingModule });\r\n    ShoppingRoutingModule.ɵinj = core[\"Tb\" /* ɵɵdefineInjector */]({ imports: [[fesm2015_router[\"f\" /* RouterModule */].forChild(routes)], fesm2015_router[\"f\" /* RouterModule */]] });\r\n    return ShoppingRoutingModule;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/shopping/shopping.module.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n* Translation\r\n*/\r\n\r\n\r\n\r\n\r\nconst customCurrencyMaskConfig = {\r\n    align: \"right\",\r\n    allowNegative: true,\r\n    allowZero: true,\r\n    decimal: \".\",\r\n    precision: 2,\r\n    prefix: \"$ \",\r\n    suffix: \"\",\r\n    thousands: \",\",\r\n    nullable: true\r\n};\r\nlet shopping_module_ShoppingModule = /*@__PURE__*/ (() => {\r\n    class ShoppingModule {\r\n    }\r\n    ShoppingModule.ɵfac = function ShoppingModule_Factory(t) { return new (t || ShoppingModule)(); };\r\n    ShoppingModule.ɵmod = core[\"Ub\" /* ɵɵdefineNgModule */]({ type: ShoppingModule });\r\n    ShoppingModule.ɵinj = core[\"Tb\" /* ɵɵdefineInjector */]({ imports: [[\r\n                common[\"c\" /* CommonModule */],\r\n                ngx_spinner[\"b\" /* NgxSpinnerModule */],\r\n                jqwidgets_ng_jqxdatatable[\"a\" /* jqxDataTableModule */],\r\n                ng_bootstrap[\"t\" /* NgbModule */],\r\n                core_module[\"a\" /* CoreModule */],\r\n                ng_bootstrap[\"C\" /* NgbPaginationModule */],\r\n                ngx_currency[\"b\" /* NgxCurrencyModule */].forRoot(customCurrencyMaskConfig),\r\n                jqwidgets_ng_jqxmenu[\"b\" /* jqxMenuModule */],\r\n                ng_select_ng_select[\"c\" /* NgSelectModule */],\r\n                jqwidgets_ng_jqxgrid[\"b\" /* jqxGridModule */],\r\n                jqwidgets_ng_jqxtabs[\"b\" /* jqxTabsModule */],\r\n                fesm2015_forms[\"v\" /* ReactiveFormsModule */],\r\n                ngx_translate_core[\"b\" /* TranslateModule */],\r\n                shopping_routing_module_ShoppingRoutingModule\r\n            ]] });\r\n    return ShoppingModule;\r\n})();\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}