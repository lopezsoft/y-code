import '../jqwidgets/jqxcore';
import '../jqwidgets/jqxbuttons';
import '../jqwidgets/jqxtabs';
import { EventEmitter, Component, ElementRef, Input, Output, NgModule } from '@angular/core';

/// <reference path="../../jqwidgets.d.ts" />
import * as ɵngcc0 from '@angular/core';

const _c0 = ["*"];
class jqxTabsComponent {
    constructor(containerElement) {
        this.autoCreate = true;
        this.properties = ['animationType', 'autoHeight', 'closeButtonSize', 'collapsible', 'contentTransitionDuration', 'disabled', 'enabledHover', 'enableScrollAnimation', 'enableDropAnimation', 'height', 'initTabContent', 'keyboardNavigation', 'next', 'previous', 'position', 'reorder', 'rtl', 'scrollAnimationDuration', 'selectedItem', 'selectionTracker', 'scrollable', 'scrollPosition', 'scrollStep', 'showCloseButtons', 'toggleMode', 'theme', 'width'];
        // jqxTabsComponent events
        this.onAdd = new EventEmitter();
        this.onCollapsed = new EventEmitter();
        this.onDragStart = new EventEmitter();
        this.onDragEnd = new EventEmitter();
        this.onExpanded = new EventEmitter();
        this.onRemoved = new EventEmitter();
        this.onSelecting = new EventEmitter();
        this.onSelected = new EventEmitter();
        this.onTabclick = new EventEmitter();
        this.onUnselecting = new EventEmitter();
        this.onUnselected = new EventEmitter();
        this.elementRef = containerElement;
    }
    ngOnInit() {
        if (this.autoCreate) {
            this.createComponent();
        }
    }
    ;
    ngOnChanges(changes) {
        if (this.host) {
            for (let i = 0; i < this.properties.length; i++) {
                let attrName = 'attr' + this.properties[i].substring(0, 1).toUpperCase() + this.properties[i].substring(1);
                let areEqual = false;
                if (this[attrName] !== undefined) {
                    if (typeof this[attrName] === 'object') {
                        if (this[attrName] instanceof Array) {
                            areEqual = this.arraysEqual(this[attrName], this.host.jqxTabs(this.properties[i]));
                        }
                        if (areEqual) {
                            return false;
                        }
                        this.host.jqxTabs(this.properties[i], this[attrName]);
                        continue;
                    }
                    if (this[attrName] !== this.host.jqxTabs(this.properties[i])) {
                        this.host.jqxTabs(this.properties[i], this[attrName]);
                    }
                }
            }
        }
    }
    arraysEqual(attrValue, hostValue) {
        if ((attrValue && !hostValue) || (!attrValue && hostValue)) {
            return false;
        }
        if (attrValue.length != hostValue.length) {
            return false;
        }
        for (let i = 0; i < attrValue.length; i++) {
            if (attrValue[i] !== hostValue[i]) {
                return false;
            }
        }
        return true;
    }
    manageAttributes() {
        let options = {};
        for (let i = 0; i < this.properties.length; i++) {
            let attrName = 'attr' + this.properties[i].substring(0, 1).toUpperCase() + this.properties[i].substring(1);
            if (this[attrName] !== undefined) {
                options[this.properties[i]] = this[attrName];
            }
        }
        return options;
    }
    moveClasses(parentEl, childEl) {
        let classes = parentEl.classList;
        if (classes.length > 0) {
            childEl.classList.add(...classes);
        }
        parentEl.className = '';
    }
    moveStyles(parentEl, childEl) {
        let style = parentEl.style.cssText;
        childEl.style.cssText = style;
        parentEl.style.cssText = '';
    }
    createComponent(options) {
        if (this.host) {
            return;
        }
        if (options) {
            JQXLite.extend(options, this.manageAttributes());
        }
        else {
            options = this.manageAttributes();
        }
        this.host = JQXLite(this.elementRef.nativeElement.firstChild);
        this.moveClasses(this.elementRef.nativeElement, this.host[0]);
        this.moveStyles(this.elementRef.nativeElement, this.host[0]);
        this.__wireEvents__();
        this.widgetObject = jqwidgets.createInstance(this.host, 'jqxTabs', options);
    }
    createWidget(options) {
        this.createComponent(options);
    }
    __updateRect__() {
        if (this.host)
            this.host.css({ width: this.attrWidth, height: this.attrHeight });
    }
    setOptions(options) {
        this.host.jqxTabs('setOptions', options);
    }
    // jqxTabsComponent properties
    animationType(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('animationType', arg);
        }
        else {
            return this.host.jqxTabs('animationType');
        }
    }
    autoHeight(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('autoHeight', arg);
        }
        else {
            return this.host.jqxTabs('autoHeight');
        }
    }
    closeButtonSize(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('closeButtonSize', arg);
        }
        else {
            return this.host.jqxTabs('closeButtonSize');
        }
    }
    collapsible(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('collapsible', arg);
        }
        else {
            return this.host.jqxTabs('collapsible');
        }
    }
    contentTransitionDuration(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('contentTransitionDuration', arg);
        }
        else {
            return this.host.jqxTabs('contentTransitionDuration');
        }
    }
    disabled(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('disabled', arg);
        }
        else {
            return this.host.jqxTabs('disabled');
        }
    }
    enabledHover(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('enabledHover', arg);
        }
        else {
            return this.host.jqxTabs('enabledHover');
        }
    }
    enableScrollAnimation(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('enableScrollAnimation', arg);
        }
        else {
            return this.host.jqxTabs('enableScrollAnimation');
        }
    }
    enableDropAnimation(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('enableDropAnimation', arg);
        }
        else {
            return this.host.jqxTabs('enableDropAnimation');
        }
    }
    height(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('height', arg);
        }
        else {
            return this.host.jqxTabs('height');
        }
    }
    initTabContent(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('initTabContent', arg);
        }
        else {
            return this.host.jqxTabs('initTabContent');
        }
    }
    keyboardNavigation(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('keyboardNavigation', arg);
        }
        else {
            return this.host.jqxTabs('keyboardNavigation');
        }
    }
    next(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('next', arg);
        }
        else {
            return this.host.jqxTabs('next');
        }
    }
    previous(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('previous', arg);
        }
        else {
            return this.host.jqxTabs('previous');
        }
    }
    position(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('position', arg);
        }
        else {
            return this.host.jqxTabs('position');
        }
    }
    reorder(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('reorder', arg);
        }
        else {
            return this.host.jqxTabs('reorder');
        }
    }
    rtl(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('rtl', arg);
        }
        else {
            return this.host.jqxTabs('rtl');
        }
    }
    scrollAnimationDuration(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('scrollAnimationDuration', arg);
        }
        else {
            return this.host.jqxTabs('scrollAnimationDuration');
        }
    }
    selectedItem(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('selectedItem', arg);
        }
        else {
            return this.host.jqxTabs('selectedItem');
        }
    }
    selectionTracker(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('selectionTracker', arg);
        }
        else {
            return this.host.jqxTabs('selectionTracker');
        }
    }
    scrollable(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('scrollable', arg);
        }
        else {
            return this.host.jqxTabs('scrollable');
        }
    }
    scrollPosition(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('scrollPosition', arg);
        }
        else {
            return this.host.jqxTabs('scrollPosition');
        }
    }
    scrollStep(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('scrollStep', arg);
        }
        else {
            return this.host.jqxTabs('scrollStep');
        }
    }
    showCloseButtons(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('showCloseButtons', arg);
        }
        else {
            return this.host.jqxTabs('showCloseButtons');
        }
    }
    toggleMode(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('toggleMode', arg);
        }
        else {
            return this.host.jqxTabs('toggleMode');
        }
    }
    theme(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('theme', arg);
        }
        else {
            return this.host.jqxTabs('theme');
        }
    }
    width(arg) {
        if (arg !== undefined) {
            this.host.jqxTabs('width', arg);
        }
        else {
            return this.host.jqxTabs('width');
        }
    }
    // jqxTabsComponent functions
    addAt(index, title, content) {
        this.host.jqxTabs('addAt', index, title, content);
    }
    addFirst(htmlElement1, htmlElement2) {
        this.host.jqxTabs('addFirst', htmlElement1, htmlElement2);
    }
    addLast(htmlElement1, htmlElement2) {
        this.host.jqxTabs('addLast', htmlElement1, htmlElement2);
    }
    collapse() {
        this.host.jqxTabs('collapse');
    }
    disable() {
        this.host.jqxTabs('disable');
    }
    disableAt(index) {
        this.host.jqxTabs('disableAt', index);
    }
    destroy() {
        this.host.jqxTabs('destroy');
    }
    ensureVisible(index) {
        this.host.jqxTabs('ensureVisible', index);
    }
    enableAt(index) {
        this.host.jqxTabs('enableAt', index);
    }
    expand() {
        this.host.jqxTabs('expand');
    }
    enable() {
        this.host.jqxTabs('enable');
    }
    focus() {
        this.host.jqxTabs('focus');
    }
    getTitleAt(index) {
        return this.host.jqxTabs('getTitleAt', index);
    }
    getContentAt(index) {
        return this.host.jqxTabs('getContentAt', index);
    }
    getDisabledTabsCount() {
        return this.host.jqxTabs('getDisabledTabsCount');
    }
    hideCloseButtonAt(index) {
        this.host.jqxTabs('hideCloseButtonAt', index);
    }
    hideAllCloseButtons() {
        this.host.jqxTabs('hideAllCloseButtons');
    }
    length() {
        return this.host.jqxTabs('length');
    }
    removeAt(index) {
        this.host.jqxTabs('removeAt', index);
    }
    removeFirst() {
        this.host.jqxTabs('removeFirst');
    }
    removeLast() {
        this.host.jqxTabs('removeLast');
    }
    select(index) {
        this.host.jqxTabs('select', index);
    }
    setContentAt(index, htmlElement) {
        this.host.jqxTabs('setContentAt', index, htmlElement);
    }
    setTitleAt(index, htmlElement) {
        this.host.jqxTabs('setTitleAt', index, htmlElement);
    }
    showCloseButtonAt(index) {
        this.host.jqxTabs('showCloseButtonAt', index);
    }
    showAllCloseButtons() {
        this.host.jqxTabs('showAllCloseButtons');
    }
    val(value) {
        if (value !== undefined) {
            return this.host.jqxTabs('val', value);
        }
        else {
            return this.host.jqxTabs('val');
        }
    }
    ;
    __wireEvents__() {
        this.host.on('add', (eventData) => { this.onAdd.emit(eventData); });
        this.host.on('collapsed', (eventData) => { this.onCollapsed.emit(eventData); });
        this.host.on('dragStart', (eventData) => { this.onDragStart.emit(eventData); });
        this.host.on('dragEnd', (eventData) => { this.onDragEnd.emit(eventData); });
        this.host.on('expanded', (eventData) => { this.onExpanded.emit(eventData); });
        this.host.on('removed', (eventData) => { this.onRemoved.emit(eventData); });
        this.host.on('selecting', (eventData) => { this.onSelecting.emit(eventData); });
        this.host.on('selected', (eventData) => { this.onSelected.emit(eventData); });
        this.host.on('tabclick', (eventData) => { this.onTabclick.emit(eventData); });
        this.host.on('unselecting', (eventData) => { this.onUnselecting.emit(eventData); });
        this.host.on('unselected', (eventData) => { this.onUnselected.emit(eventData); });
    }
}
jqxTabsComponent.ɵfac = function jqxTabsComponent_Factory(t) { return new (t || jqxTabsComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
jqxTabsComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: jqxTabsComponent, selectors: [["jqxTabs"]], inputs: { autoCreate: ["auto-create", "autoCreate"], attrAnimationType: ["animationType", "attrAnimationType"], attrAutoHeight: ["autoHeight", "attrAutoHeight"], attrCloseButtonSize: ["closeButtonSize", "attrCloseButtonSize"], attrCollapsible: ["collapsible", "attrCollapsible"], attrContentTransitionDuration: ["contentTransitionDuration", "attrContentTransitionDuration"], attrDisabled: ["disabled", "attrDisabled"], attrEnabledHover: ["enabledHover", "attrEnabledHover"], attrEnableScrollAnimation: ["enableScrollAnimation", "attrEnableScrollAnimation"], attrEnableDropAnimation: ["enableDropAnimation", "attrEnableDropAnimation"], attrInitTabContent: ["initTabContent", "attrInitTabContent"], attrKeyboardNavigation: ["keyboardNavigation", "attrKeyboardNavigation"], attrNext: ["next", "attrNext"], attrPrevious: ["previous", "attrPrevious"], attrPosition: ["position", "attrPosition"], attrReorder: ["reorder", "attrReorder"], attrRtl: ["rtl", "attrRtl"], attrScrollAnimationDuration: ["scrollAnimationDuration", "attrScrollAnimationDuration"], attrSelectedItem: ["selectedItem", "attrSelectedItem"], attrSelectionTracker: ["selectionTracker", "attrSelectionTracker"], attrScrollable: ["scrollable", "attrScrollable"], attrScrollPosition: ["scrollPosition", "attrScrollPosition"], attrScrollStep: ["scrollStep", "attrScrollStep"], attrShowCloseButtons: ["showCloseButtons", "attrShowCloseButtons"], attrToggleMode: ["toggleMode", "attrToggleMode"], attrTheme: ["theme", "attrTheme"], attrWidth: ["width", "attrWidth"], attrHeight: ["height", "attrHeight"] }, outputs: { onAdd: "onAdd", onCollapsed: "onCollapsed", onDragStart: "onDragStart", onDragEnd: "onDragEnd", onExpanded: "onExpanded", onRemoved: "onRemoved", onSelecting: "onSelecting", onSelected: "onSelected", onTabclick: "onTabclick", onUnselecting: "onUnselecting", onUnselected: "onUnselected" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c0, decls: 2, vars: 0, template: function jqxTabsComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵprojection(1);
        ɵngcc0.ɵɵelementEnd();
    } }, encapsulation: 2 });
jqxTabsComponent.ctorParameters = () => [
    { type: ElementRef }
];
jqxTabsComponent.propDecorators = {
    attrAnimationType: [{ type: Input, args: ['animationType',] }],
    attrAutoHeight: [{ type: Input, args: ['autoHeight',] }],
    attrCloseButtonSize: [{ type: Input, args: ['closeButtonSize',] }],
    attrCollapsible: [{ type: Input, args: ['collapsible',] }],
    attrContentTransitionDuration: [{ type: Input, args: ['contentTransitionDuration',] }],
    attrDisabled: [{ type: Input, args: ['disabled',] }],
    attrEnabledHover: [{ type: Input, args: ['enabledHover',] }],
    attrEnableScrollAnimation: [{ type: Input, args: ['enableScrollAnimation',] }],
    attrEnableDropAnimation: [{ type: Input, args: ['enableDropAnimation',] }],
    attrInitTabContent: [{ type: Input, args: ['initTabContent',] }],
    attrKeyboardNavigation: [{ type: Input, args: ['keyboardNavigation',] }],
    attrNext: [{ type: Input, args: ['next',] }],
    attrPrevious: [{ type: Input, args: ['previous',] }],
    attrPosition: [{ type: Input, args: ['position',] }],
    attrReorder: [{ type: Input, args: ['reorder',] }],
    attrRtl: [{ type: Input, args: ['rtl',] }],
    attrScrollAnimationDuration: [{ type: Input, args: ['scrollAnimationDuration',] }],
    attrSelectedItem: [{ type: Input, args: ['selectedItem',] }],
    attrSelectionTracker: [{ type: Input, args: ['selectionTracker',] }],
    attrScrollable: [{ type: Input, args: ['scrollable',] }],
    attrScrollPosition: [{ type: Input, args: ['scrollPosition',] }],
    attrScrollStep: [{ type: Input, args: ['scrollStep',] }],
    attrShowCloseButtons: [{ type: Input, args: ['showCloseButtons',] }],
    attrToggleMode: [{ type: Input, args: ['toggleMode',] }],
    attrTheme: [{ type: Input, args: ['theme',] }],
    attrWidth: [{ type: Input, args: ['width',] }],
    attrHeight: [{ type: Input, args: ['height',] }],
    autoCreate: [{ type: Input, args: ['auto-create',] }],
    onAdd: [{ type: Output }],
    onCollapsed: [{ type: Output }],
    onDragStart: [{ type: Output }],
    onDragEnd: [{ type: Output }],
    onExpanded: [{ type: Output }],
    onRemoved: [{ type: Output }],
    onSelecting: [{ type: Output }],
    onSelected: [{ type: Output }],
    onTabclick: [{ type: Output }],
    onUnselecting: [{ type: Output }],
    onUnselected: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(jqxTabsComponent, [{
        type: Component,
        args: [{
                selector: 'jqxTabs',
                template: '<div><ng-content></ng-content></div>'
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { autoCreate: [{
            type: Input,
            args: ['auto-create']
        }], onAdd: [{
            type: Output
        }], onCollapsed: [{
            type: Output
        }], onDragStart: [{
            type: Output
        }], onDragEnd: [{
            type: Output
        }], onExpanded: [{
            type: Output
        }], onRemoved: [{
            type: Output
        }], onSelecting: [{
            type: Output
        }], onSelected: [{
            type: Output
        }], onTabclick: [{
            type: Output
        }], onUnselecting: [{
            type: Output
        }], onUnselected: [{
            type: Output
        }], attrAnimationType: [{
            type: Input,
            args: ['animationType']
        }], attrAutoHeight: [{
            type: Input,
            args: ['autoHeight']
        }], attrCloseButtonSize: [{
            type: Input,
            args: ['closeButtonSize']
        }], attrCollapsible: [{
            type: Input,
            args: ['collapsible']
        }], attrContentTransitionDuration: [{
            type: Input,
            args: ['contentTransitionDuration']
        }], attrDisabled: [{
            type: Input,
            args: ['disabled']
        }], attrEnabledHover: [{
            type: Input,
            args: ['enabledHover']
        }], attrEnableScrollAnimation: [{
            type: Input,
            args: ['enableScrollAnimation']
        }], attrEnableDropAnimation: [{
            type: Input,
            args: ['enableDropAnimation']
        }], attrInitTabContent: [{
            type: Input,
            args: ['initTabContent']
        }], attrKeyboardNavigation: [{
            type: Input,
            args: ['keyboardNavigation']
        }], attrNext: [{
            type: Input,
            args: ['next']
        }], attrPrevious: [{
            type: Input,
            args: ['previous']
        }], attrPosition: [{
            type: Input,
            args: ['position']
        }], attrReorder: [{
            type: Input,
            args: ['reorder']
        }], attrRtl: [{
            type: Input,
            args: ['rtl']
        }], attrScrollAnimationDuration: [{
            type: Input,
            args: ['scrollAnimationDuration']
        }], attrSelectedItem: [{
            type: Input,
            args: ['selectedItem']
        }], attrSelectionTracker: [{
            type: Input,
            args: ['selectionTracker']
        }], attrScrollable: [{
            type: Input,
            args: ['scrollable']
        }], attrScrollPosition: [{
            type: Input,
            args: ['scrollPosition']
        }], attrScrollStep: [{
            type: Input,
            args: ['scrollStep']
        }], attrShowCloseButtons: [{
            type: Input,
            args: ['showCloseButtons']
        }], attrToggleMode: [{
            type: Input,
            args: ['toggleMode']
        }], attrTheme: [{
            type: Input,
            args: ['theme']
        }], attrWidth: [{
            type: Input,
            args: ['width']
        }], attrHeight: [{
            type: Input,
            args: ['height']
        }] }); })();

class jqxTabsModule {
}
jqxTabsModule.ɵfac = function jqxTabsModule_Factory(t) { return new (t || jqxTabsModule)(); };
jqxTabsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: jqxTabsModule });
jqxTabsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(jqxTabsModule, { declarations: [jqxTabsComponent], exports: [jqxTabsComponent] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(jqxTabsModule, [{
        type: NgModule,
        args: [{
                imports: [],
                declarations: [jqxTabsComponent],
                exports: [jqxTabsComponent]
            }]
    }], null, null); })();

/**
 * Generated bundle index. Do not edit.
 */

export { jqxTabsComponent, jqxTabsModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianF3aWRnZXRzLW5nLWpxeHRhYnMuanMiLCJzb3VyY2VzIjpbImpxd2lkZ2V0cy1uZy1qcXh0YWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7NkJBTUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUNGO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OzBCQU9FO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9qcXdpZGdldHMvanF4Y29yZSc7XG5pbXBvcnQgJy4uL2pxd2lkZ2V0cy9qcXhidXR0b25zJztcbmltcG9ydCAnLi4vanF3aWRnZXRzL2pxeHRhYnMnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPdXRwdXQsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9qcXdpZGdldHMuZC50c1wiIC8+XHJcbmNsYXNzIGpxeFRhYnNDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuYXV0b0NyZWF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gWydhbmltYXRpb25UeXBlJywgJ2F1dG9IZWlnaHQnLCAnY2xvc2VCdXR0b25TaXplJywgJ2NvbGxhcHNpYmxlJywgJ2NvbnRlbnRUcmFuc2l0aW9uRHVyYXRpb24nLCAnZGlzYWJsZWQnLCAnZW5hYmxlZEhvdmVyJywgJ2VuYWJsZVNjcm9sbEFuaW1hdGlvbicsICdlbmFibGVEcm9wQW5pbWF0aW9uJywgJ2hlaWdodCcsICdpbml0VGFiQ29udGVudCcsICdrZXlib2FyZE5hdmlnYXRpb24nLCAnbmV4dCcsICdwcmV2aW91cycsICdwb3NpdGlvbicsICdyZW9yZGVyJywgJ3J0bCcsICdzY3JvbGxBbmltYXRpb25EdXJhdGlvbicsICdzZWxlY3RlZEl0ZW0nLCAnc2VsZWN0aW9uVHJhY2tlcicsICdzY3JvbGxhYmxlJywgJ3Njcm9sbFBvc2l0aW9uJywgJ3Njcm9sbFN0ZXAnLCAnc2hvd0Nsb3NlQnV0dG9ucycsICd0b2dnbGVNb2RlJywgJ3RoZW1lJywgJ3dpZHRoJ107XHJcbiAgICAgICAgLy8ganF4VGFic0NvbXBvbmVudCBldmVudHNcclxuICAgICAgICB0aGlzLm9uQWRkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMub25Db2xsYXBzZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5vbkRyYWdTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLm9uRHJhZ0VuZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLm9uRXhwYW5kZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5vblNlbGVjdGluZyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLm9uU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5vblRhYmNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMub25VbnNlbGVjdGluZyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLm9uVW5zZWxlY3RlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRSZWYgPSBjb250YWluZXJFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0NyZWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbXBvbmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIDtcclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXR0ck5hbWUgPSAnYXR0cicgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyZUVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1thdHRyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1thdHRyTmFtZV0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW2F0dHJOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVFcXVhbCA9IHRoaXMuYXJyYXlzRXF1YWwodGhpc1thdHRyTmFtZV0sIHRoaXMuaG9zdC5qcXhUYWJzKHRoaXMucHJvcGVydGllc1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmVFcXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKHRoaXMucHJvcGVydGllc1tpXSwgdGhpc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbYXR0ck5hbWVdICE9PSB0aGlzLmhvc3QuanF4VGFicyh0aGlzLnByb3BlcnRpZXNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKHRoaXMucHJvcGVydGllc1tpXSwgdGhpc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFycmF5c0VxdWFsKGF0dHJWYWx1ZSwgaG9zdFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKChhdHRyVmFsdWUgJiYgIWhvc3RWYWx1ZSkgfHwgKCFhdHRyVmFsdWUgJiYgaG9zdFZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdHRyVmFsdWUubGVuZ3RoICE9IGhvc3RWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJWYWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlW2ldICE9PSBob3N0VmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIG1hbmFnZUF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYXR0ck5hbWUgPSAnYXR0cicgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICBpZiAodGhpc1thdHRyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1t0aGlzLnByb3BlcnRpZXNbaV1dID0gdGhpc1thdHRyTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3NlcyhwYXJlbnRFbCwgY2hpbGRFbCkge1xyXG4gICAgICAgIGxldCBjbGFzc2VzID0gcGFyZW50RWwuY2xhc3NMaXN0O1xyXG4gICAgICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY2hpbGRFbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnRFbC5jbGFzc05hbWUgPSAnJztcclxuICAgIH1cclxuICAgIG1vdmVTdHlsZXMocGFyZW50RWwsIGNoaWxkRWwpIHtcclxuICAgICAgICBsZXQgc3R5bGUgPSBwYXJlbnRFbC5zdHlsZS5jc3NUZXh0O1xyXG4gICAgICAgIGNoaWxkRWwuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xyXG4gICAgICAgIHBhcmVudEVsLnN0eWxlLmNzc1RleHQgPSAnJztcclxuICAgIH1cclxuICAgIGNyZWF0ZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIEpRWExpdGUuZXh0ZW5kKG9wdGlvbnMsIHRoaXMubWFuYWdlQXR0cmlidXRlcygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm1hbmFnZUF0dHJpYnV0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob3N0ID0gSlFYTGl0ZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB0aGlzLm1vdmVDbGFzc2VzKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCB0aGlzLmhvc3RbMF0pO1xyXG4gICAgICAgIHRoaXMubW92ZVN0eWxlcyh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgdGhpcy5ob3N0WzBdKTtcclxuICAgICAgICB0aGlzLl9fd2lyZUV2ZW50c19fKCk7XHJcbiAgICAgICAgdGhpcy53aWRnZXRPYmplY3QgPSBqcXdpZGdldHMuY3JlYXRlSW5zdGFuY2UodGhpcy5ob3N0LCAnanF4VGFicycsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlV2lkZ2V0KG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbXBvbmVudChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIF9fdXBkYXRlUmVjdF9fKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QpXHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5jc3MoeyB3aWR0aDogdGhpcy5hdHRyV2lkdGgsIGhlaWdodDogdGhpcy5hdHRySGVpZ2h0IH0pO1xyXG4gICAgfVxyXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3NldE9wdGlvbnMnLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIC8vIGpxeFRhYnNDb21wb25lbnQgcHJvcGVydGllc1xyXG4gICAgYW5pbWF0aW9uVHlwZShhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2FuaW1hdGlvblR5cGUnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdhbmltYXRpb25UeXBlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b0hlaWdodChhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2F1dG9IZWlnaHQnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdhdXRvSGVpZ2h0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvc2VCdXR0b25TaXplKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnY2xvc2VCdXR0b25TaXplJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnY2xvc2VCdXR0b25TaXplJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29sbGFwc2libGUoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdjb2xsYXBzaWJsZScsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ2NvbGxhcHNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29udGVudFRyYW5zaXRpb25EdXJhdGlvbihhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2NvbnRlbnRUcmFuc2l0aW9uRHVyYXRpb24nLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdjb250ZW50VHJhbnNpdGlvbkR1cmF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzYWJsZWQoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdkaXNhYmxlZCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW5hYmxlZEhvdmVyKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZW5hYmxlZEhvdmVyJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnZW5hYmxlZEhvdmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW5hYmxlU2Nyb2xsQW5pbWF0aW9uKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZW5hYmxlU2Nyb2xsQW5pbWF0aW9uJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnZW5hYmxlU2Nyb2xsQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW5hYmxlRHJvcEFuaW1hdGlvbihhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2VuYWJsZURyb3BBbmltYXRpb24nLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdlbmFibGVEcm9wQW5pbWF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGVpZ2h0KGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnaGVpZ2h0JywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnaGVpZ2h0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdFRhYkNvbnRlbnQoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdpbml0VGFiQ29udGVudCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ2luaXRUYWJDb250ZW50Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAga2V5Ym9hcmROYXZpZ2F0aW9uKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygna2V5Ym9hcmROYXZpZ2F0aW9uJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygna2V5Ym9hcmROYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbmV4dChhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ25leHQnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCduZXh0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJldmlvdXMoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdwcmV2aW91cycsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3ByZXZpb3VzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcG9zaXRpb24oYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdwb3NpdGlvbicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVvcmRlcihhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3Jlb3JkZXInLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdyZW9yZGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcnRsKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygncnRsJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygncnRsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2Nyb2xsQW5pbWF0aW9uRHVyYXRpb24oYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdzY3JvbGxBbmltYXRpb25EdXJhdGlvbicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3Njcm9sbEFuaW1hdGlvbkR1cmF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VsZWN0ZWRJdGVtKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnc2VsZWN0ZWRJdGVtJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnc2VsZWN0ZWRJdGVtJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VsZWN0aW9uVHJhY2tlcihhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3NlbGVjdGlvblRyYWNrZXInLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdzZWxlY3Rpb25UcmFja2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2Nyb2xsYWJsZShhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3Njcm9sbGFibGUnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdzY3JvbGxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2Nyb2xsUG9zaXRpb24oYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdzY3JvbGxQb3NpdGlvbicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3Njcm9sbFBvc2l0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2Nyb2xsU3RlcChhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3Njcm9sbFN0ZXAnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdzY3JvbGxTdGVwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd0Nsb3NlQnV0dG9ucyhhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3Nob3dDbG9zZUJ1dHRvbnMnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCdzaG93Q2xvc2VCdXR0b25zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdG9nZ2xlTW9kZShhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3RvZ2dsZU1vZGUnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhUYWJzKCd0b2dnbGVNb2RlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhlbWUoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCd0aGVtZScsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3RoZW1lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2lkdGgoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCd3aWR0aCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3dpZHRoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8ganF4VGFic0NvbXBvbmVudCBmdW5jdGlvbnNcclxuICAgIGFkZEF0KGluZGV4LCB0aXRsZSwgY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdhZGRBdCcsIGluZGV4LCB0aXRsZSwgY29udGVudCk7XHJcbiAgICB9XHJcbiAgICBhZGRGaXJzdChodG1sRWxlbWVudDEsIGh0bWxFbGVtZW50Mikge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdhZGRGaXJzdCcsIGh0bWxFbGVtZW50MSwgaHRtbEVsZW1lbnQyKTtcclxuICAgIH1cclxuICAgIGFkZExhc3QoaHRtbEVsZW1lbnQxLCBodG1sRWxlbWVudDIpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnYWRkTGFzdCcsIGh0bWxFbGVtZW50MSwgaHRtbEVsZW1lbnQyKTtcclxuICAgIH1cclxuICAgIGNvbGxhcHNlKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdjb2xsYXBzZScpO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZGlzYWJsZScpO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZUF0KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2Rpc2FibGVBdCcsIGluZGV4KTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2Rlc3Ryb3knKTtcclxuICAgIH1cclxuICAgIGVuc3VyZVZpc2libGUoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZW5zdXJlVmlzaWJsZScsIGluZGV4KTtcclxuICAgIH1cclxuICAgIGVuYWJsZUF0KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2VuYWJsZUF0JywgaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgZXhwYW5kKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdleHBhbmQnKTtcclxuICAgIH1cclxuICAgIGVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZW5hYmxlJyk7XHJcbiAgICB9XHJcbiAgICBmb2N1cygpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnZm9jdXMnKTtcclxuICAgIH1cclxuICAgIGdldFRpdGxlQXQoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ2dldFRpdGxlQXQnLCBpbmRleCk7XHJcbiAgICB9XHJcbiAgICBnZXRDb250ZW50QXQoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ2dldENvbnRlbnRBdCcsIGluZGV4KTtcclxuICAgIH1cclxuICAgIGdldERpc2FibGVkVGFic0NvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnZ2V0RGlzYWJsZWRUYWJzQ291bnQnKTtcclxuICAgIH1cclxuICAgIGhpZGVDbG9zZUJ1dHRvbkF0KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ2hpZGVDbG9zZUJ1dHRvbkF0JywgaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgaGlkZUFsbENsb3NlQnV0dG9ucygpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnaGlkZUFsbENsb3NlQnV0dG9ucycpO1xyXG4gICAgfVxyXG4gICAgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygnbGVuZ3RoJyk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVBdChpbmRleCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdyZW1vdmVBdCcsIGluZGV4KTtcclxuICAgIH1cclxuICAgIHJlbW92ZUZpcnN0KCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdyZW1vdmVGaXJzdCcpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlTGFzdCgpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygncmVtb3ZlTGFzdCcpO1xyXG4gICAgfVxyXG4gICAgc2VsZWN0KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3NlbGVjdCcsIGluZGV4KTtcclxuICAgIH1cclxuICAgIHNldENvbnRlbnRBdChpbmRleCwgaHRtbEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnc2V0Q29udGVudEF0JywgaW5kZXgsIGh0bWxFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHNldFRpdGxlQXQoaW5kZXgsIGh0bWxFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeFRhYnMoJ3NldFRpdGxlQXQnLCBpbmRleCwgaHRtbEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgc2hvd0Nsb3NlQnV0dG9uQXQoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4VGFicygnc2hvd0Nsb3NlQnV0dG9uQXQnLCBpbmRleCk7XHJcbiAgICB9XHJcbiAgICBzaG93QWxsQ2xvc2VCdXR0b25zKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhUYWJzKCdzaG93QWxsQ2xvc2VCdXR0b25zJyk7XHJcbiAgICB9XHJcbiAgICB2YWwodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeFRhYnMoJ3ZhbCcsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4VGFicygndmFsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgO1xyXG4gICAgX193aXJlRXZlbnRzX18oKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0Lm9uKCdhZGQnLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25BZGQuZW1pdChldmVudERhdGEpOyB9KTtcclxuICAgICAgICB0aGlzLmhvc3Qub24oJ2NvbGxhcHNlZCcsIChldmVudERhdGEpID0+IHsgdGhpcy5vbkNvbGxhcHNlZC5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbignZHJhZ1N0YXJ0JywgKGV2ZW50RGF0YSkgPT4geyB0aGlzLm9uRHJhZ1N0YXJ0LmVtaXQoZXZlbnREYXRhKTsgfSk7XHJcbiAgICAgICAgdGhpcy5ob3N0Lm9uKCdkcmFnRW5kJywgKGV2ZW50RGF0YSkgPT4geyB0aGlzLm9uRHJhZ0VuZC5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbignZXhwYW5kZWQnLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25FeHBhbmRlZC5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbigncmVtb3ZlZCcsIChldmVudERhdGEpID0+IHsgdGhpcy5vblJlbW92ZWQuZW1pdChldmVudERhdGEpOyB9KTtcclxuICAgICAgICB0aGlzLmhvc3Qub24oJ3NlbGVjdGluZycsIChldmVudERhdGEpID0+IHsgdGhpcy5vblNlbGVjdGluZy5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbignc2VsZWN0ZWQnLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25TZWxlY3RlZC5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbigndGFiY2xpY2snLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25UYWJjbGljay5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbigndW5zZWxlY3RpbmcnLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25VbnNlbGVjdGluZy5lbWl0KGV2ZW50RGF0YSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbigndW5zZWxlY3RlZCcsIChldmVudERhdGEpID0+IHsgdGhpcy5vblVuc2VsZWN0ZWQuZW1pdChldmVudERhdGEpOyB9KTtcclxuICAgIH1cclxufSAvL2pxeFRhYnNDb21wb25lbnRcclxuanF4VGFic0NvbXBvbmVudC5kZWNvcmF0b3JzID0gW1xyXG4gICAgeyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2pxeFRhYnMnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2PjxuZy1jb250ZW50PjwvbmctY29udGVudD48L2Rpdj4nXHJcbiAgICAgICAgICAgIH0sXSB9XHJcbl07XHJcbmpxeFRhYnNDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXHJcbiAgICB7IHR5cGU6IEVsZW1lbnRSZWYgfVxyXG5dO1xyXG5qcXhUYWJzQ29tcG9uZW50LnByb3BEZWNvcmF0b3JzID0ge1xyXG4gICAgYXR0ckFuaW1hdGlvblR5cGU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2FuaW1hdGlvblR5cGUnLF0gfV0sXHJcbiAgICBhdHRyQXV0b0hlaWdodDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYXV0b0hlaWdodCcsXSB9XSxcclxuICAgIGF0dHJDbG9zZUJ1dHRvblNpemU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2Nsb3NlQnV0dG9uU2l6ZScsXSB9XSxcclxuICAgIGF0dHJDb2xsYXBzaWJsZTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnY29sbGFwc2libGUnLF0gfV0sXHJcbiAgICBhdHRyQ29udGVudFRyYW5zaXRpb25EdXJhdGlvbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnY29udGVudFRyYW5zaXRpb25EdXJhdGlvbicsXSB9XSxcclxuICAgIGF0dHJEaXNhYmxlZDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnZGlzYWJsZWQnLF0gfV0sXHJcbiAgICBhdHRyRW5hYmxlZEhvdmVyOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydlbmFibGVkSG92ZXInLF0gfV0sXHJcbiAgICBhdHRyRW5hYmxlU2Nyb2xsQW5pbWF0aW9uOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydlbmFibGVTY3JvbGxBbmltYXRpb24nLF0gfV0sXHJcbiAgICBhdHRyRW5hYmxlRHJvcEFuaW1hdGlvbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnZW5hYmxlRHJvcEFuaW1hdGlvbicsXSB9XSxcclxuICAgIGF0dHJJbml0VGFiQ29udGVudDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnaW5pdFRhYkNvbnRlbnQnLF0gfV0sXHJcbiAgICBhdHRyS2V5Ym9hcmROYXZpZ2F0aW9uOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydrZXlib2FyZE5hdmlnYXRpb24nLF0gfV0sXHJcbiAgICBhdHRyTmV4dDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnbmV4dCcsXSB9XSxcclxuICAgIGF0dHJQcmV2aW91czogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsncHJldmlvdXMnLF0gfV0sXHJcbiAgICBhdHRyUG9zaXRpb246IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3Bvc2l0aW9uJyxdIH1dLFxyXG4gICAgYXR0clJlb3JkZXI6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3Jlb3JkZXInLF0gfV0sXHJcbiAgICBhdHRyUnRsOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydydGwnLF0gfV0sXHJcbiAgICBhdHRyU2Nyb2xsQW5pbWF0aW9uRHVyYXRpb246IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3Njcm9sbEFuaW1hdGlvbkR1cmF0aW9uJyxdIH1dLFxyXG4gICAgYXR0clNlbGVjdGVkSXRlbTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2VsZWN0ZWRJdGVtJyxdIH1dLFxyXG4gICAgYXR0clNlbGVjdGlvblRyYWNrZXI6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3NlbGVjdGlvblRyYWNrZXInLF0gfV0sXHJcbiAgICBhdHRyU2Nyb2xsYWJsZTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2Nyb2xsYWJsZScsXSB9XSxcclxuICAgIGF0dHJTY3JvbGxQb3NpdGlvbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2Nyb2xsUG9zaXRpb24nLF0gfV0sXHJcbiAgICBhdHRyU2Nyb2xsU3RlcDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2Nyb2xsU3RlcCcsXSB9XSxcclxuICAgIGF0dHJTaG93Q2xvc2VCdXR0b25zOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydzaG93Q2xvc2VCdXR0b25zJyxdIH1dLFxyXG4gICAgYXR0clRvZ2dsZU1vZGU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3RvZ2dsZU1vZGUnLF0gfV0sXHJcbiAgICBhdHRyVGhlbWU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3RoZW1lJyxdIH1dLFxyXG4gICAgYXR0cldpZHRoOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd3aWR0aCcsXSB9XSxcclxuICAgIGF0dHJIZWlnaHQ6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2hlaWdodCcsXSB9XSxcclxuICAgIGF1dG9DcmVhdGU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2F1dG8tY3JlYXRlJyxdIH1dLFxyXG4gICAgb25BZGQ6IFt7IHR5cGU6IE91dHB1dCB9XSxcclxuICAgIG9uQ29sbGFwc2VkOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvbkRyYWdTdGFydDogW3sgdHlwZTogT3V0cHV0IH1dLFxyXG4gICAgb25EcmFnRW5kOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvbkV4cGFuZGVkOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvblJlbW92ZWQ6IFt7IHR5cGU6IE91dHB1dCB9XSxcclxuICAgIG9uU2VsZWN0aW5nOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvblNlbGVjdGVkOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvblRhYmNsaWNrOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvblVuc2VsZWN0aW5nOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvblVuc2VsZWN0ZWQ6IFt7IHR5cGU6IE91dHB1dCB9XVxyXG59O1xuXG5jbGFzcyBqcXhUYWJzTW9kdWxlIHtcclxufVxyXG5qcXhUYWJzTW9kdWxlLmRlY29yYXRvcnMgPSBbXHJcbiAgICB7IHR5cGU6IE5nTW9kdWxlLCBhcmdzOiBbe1xyXG4gICAgICAgICAgICAgICAgaW1wb3J0czogW10sXHJcbiAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtqcXhUYWJzQ29tcG9uZW50XSxcclxuICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtqcXhUYWJzQ29tcG9uZW50XVxyXG4gICAgICAgICAgICB9LF0gfVxyXG5dO1xuXG4vKipcclxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXHJcbiAqL1xuXG5leHBvcnQgeyBqcXhUYWJzQ29tcG9uZW50LCBqcXhUYWJzTW9kdWxlIH07XG4iXX0=