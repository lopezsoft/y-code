import '../jqwidgets/jqxcore';
import '../jqwidgets/jqxdata';
import '../jqwidgets/jqxmenu';
import { EventEmitter, Component, ElementRef, Input, Output, NgModule } from '@angular/core';

/// <reference path="../../jqwidgets.d.ts" />
import * as Éµngcc0 from '@angular/core';

const _c0 = ["*"];
class jqxMenuComponent {
    constructor(containerElement) {
        this.autoCreate = true;
        this.properties = ['animationShowDuration', 'animationHideDuration', 'animationHideDelay', 'animationShowDelay', 'autoCloseInterval', 'autoSizeMainItems', 'autoCloseOnClick', 'autoOpenPopup', 'autoOpen', 'autoCloseOnMouseLeave', 'clickToOpen', 'disabled', 'enableHover', 'easing', 'height', 'keyboardNavigation', 'minimizeWidth', 'mode', 'popupZIndex', 'rtl', 'showTopLevelArrows', 'source', 'theme', 'width'];
        // jqxMenuComponent events
        this.onClosed = new EventEmitter();
        this.onItemclick = new EventEmitter();
        this.onShown = new EventEmitter();
        this.elementRef = containerElement;
    }
    ngOnInit() {
        if (this.autoCreate) {
            this.createComponent();
        }
    }
    ;
    ngOnChanges(changes) {
        if (this.host) {
            for (let i = 0; i < this.properties.length; i++) {
                let attrName = 'attr' + this.properties[i].substring(0, 1).toUpperCase() + this.properties[i].substring(1);
                let areEqual = false;
                if (this[attrName] !== undefined) {
                    if (typeof this[attrName] === 'object') {
                        if (this[attrName] instanceof Array) {
                            areEqual = this.arraysEqual(this[attrName], this.host.jqxMenu(this.properties[i]));
                        }
                        if (areEqual) {
                            return false;
                        }
                        this.host.jqxMenu(this.properties[i], this[attrName]);
                        continue;
                    }
                    if (this[attrName] !== this.host.jqxMenu(this.properties[i])) {
                        this.host.jqxMenu(this.properties[i], this[attrName]);
                    }
                }
            }
        }
    }
    arraysEqual(attrValue, hostValue) {
        if ((attrValue && !hostValue) || (!attrValue && hostValue)) {
            return false;
        }
        if (attrValue.length != hostValue.length) {
            return false;
        }
        for (let i = 0; i < attrValue.length; i++) {
            if (attrValue[i] !== hostValue[i]) {
                return false;
            }
        }
        return true;
    }
    manageAttributes() {
        let options = {};
        for (let i = 0; i < this.properties.length; i++) {
            let attrName = 'attr' + this.properties[i].substring(0, 1).toUpperCase() + this.properties[i].substring(1);
            if (this[attrName] !== undefined) {
                options[this.properties[i]] = this[attrName];
            }
        }
        return options;
    }
    moveClasses(parentEl, childEl) {
        let classes = parentEl.classList;
        if (classes.length > 0) {
            childEl.classList.add(...classes);
        }
        parentEl.className = '';
    }
    moveStyles(parentEl, childEl) {
        let style = parentEl.style.cssText;
        childEl.style.cssText = style;
        parentEl.style.cssText = '';
    }
    createComponent(options) {
        if (this.host) {
            return;
        }
        if (options) {
            JQXLite.extend(options, this.manageAttributes());
        }
        else {
            options = this.manageAttributes();
        }
        this.host = JQXLite(this.elementRef.nativeElement.firstChild);
        this.moveClasses(this.elementRef.nativeElement, this.host[0]);
        this.moveStyles(this.elementRef.nativeElement, this.host[0]);
        this.__wireEvents__();
        this.widgetObject = jqwidgets.createInstance(this.host, 'jqxMenu', options);
    }
    createWidget(options) {
        this.createComponent(options);
    }
    __updateRect__() {
        if (this.host)
            this.host.css({ width: this.attrWidth, height: this.attrHeight });
    }
    setOptions(options) {
        this.host.jqxMenu('setOptions', options);
    }
    // jqxMenuComponent properties
    animationShowDuration(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('animationShowDuration', arg);
        }
        else {
            return this.host.jqxMenu('animationShowDuration');
        }
    }
    animationHideDuration(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('animationHideDuration', arg);
        }
        else {
            return this.host.jqxMenu('animationHideDuration');
        }
    }
    animationHideDelay(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('animationHideDelay', arg);
        }
        else {
            return this.host.jqxMenu('animationHideDelay');
        }
    }
    animationShowDelay(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('animationShowDelay', arg);
        }
        else {
            return this.host.jqxMenu('animationShowDelay');
        }
    }
    autoCloseInterval(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoCloseInterval', arg);
        }
        else {
            return this.host.jqxMenu('autoCloseInterval');
        }
    }
    autoSizeMainItems(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoSizeMainItems', arg);
        }
        else {
            return this.host.jqxMenu('autoSizeMainItems');
        }
    }
    autoCloseOnClick(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoCloseOnClick', arg);
        }
        else {
            return this.host.jqxMenu('autoCloseOnClick');
        }
    }
    autoOpenPopup(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoOpenPopup', arg);
        }
        else {
            return this.host.jqxMenu('autoOpenPopup');
        }
    }
    autoOpen(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoOpen', arg);
        }
        else {
            return this.host.jqxMenu('autoOpen');
        }
    }
    autoCloseOnMouseLeave(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('autoCloseOnMouseLeave', arg);
        }
        else {
            return this.host.jqxMenu('autoCloseOnMouseLeave');
        }
    }
    clickToOpen(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('clickToOpen', arg);
        }
        else {
            return this.host.jqxMenu('clickToOpen');
        }
    }
    disabled(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('disabled', arg);
        }
        else {
            return this.host.jqxMenu('disabled');
        }
    }
    enableHover(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('enableHover', arg);
        }
        else {
            return this.host.jqxMenu('enableHover');
        }
    }
    easing(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('easing', arg);
        }
        else {
            return this.host.jqxMenu('easing');
        }
    }
    height(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('height', arg);
        }
        else {
            return this.host.jqxMenu('height');
        }
    }
    keyboardNavigation(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('keyboardNavigation', arg);
        }
        else {
            return this.host.jqxMenu('keyboardNavigation');
        }
    }
    minimizeWidth(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('minimizeWidth', arg);
        }
        else {
            return this.host.jqxMenu('minimizeWidth');
        }
    }
    mode(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('mode', arg);
        }
        else {
            return this.host.jqxMenu('mode');
        }
    }
    popupZIndex(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('popupZIndex', arg);
        }
        else {
            return this.host.jqxMenu('popupZIndex');
        }
    }
    rtl(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('rtl', arg);
        }
        else {
            return this.host.jqxMenu('rtl');
        }
    }
    showTopLevelArrows(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('showTopLevelArrows', arg);
        }
        else {
            return this.host.jqxMenu('showTopLevelArrows');
        }
    }
    source(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('source', arg);
        }
        else {
            return this.host.jqxMenu('source');
        }
    }
    theme(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('theme', arg);
        }
        else {
            return this.host.jqxMenu('theme');
        }
    }
    width(arg) {
        if (arg !== undefined) {
            this.host.jqxMenu('width', arg);
        }
        else {
            return this.host.jqxMenu('width');
        }
    }
    // jqxMenuComponent functions
    closeItem(itemID) {
        this.host.jqxMenu('closeItem', itemID);
    }
    close() {
        this.host.jqxMenu('close');
    }
    disable(itemID, value) {
        this.host.jqxMenu('disable', itemID, value);
    }
    destroy() {
        this.host.jqxMenu('destroy');
    }
    focus() {
        this.host.jqxMenu('focus');
    }
    minimize() {
        this.host.jqxMenu('minimize');
    }
    open(left, top) {
        this.host.jqxMenu('open', left, top);
    }
    openItem(itemID) {
        this.host.jqxMenu('openItem', itemID);
    }
    restore() {
        this.host.jqxMenu('restore');
    }
    setItemOpenDirection(item, horizontaldirection, verticaldirection) {
        this.host.jqxMenu('setItemOpenDirection', item, horizontaldirection, verticaldirection);
    }
    __wireEvents__() {
        this.host.on('closed', (eventData) => { this.onClosed.emit(eventData); });
        this.host.on('itemclick', (eventData) => { this.onItemclick.emit(eventData); });
        this.host.on('shown', (eventData) => { this.onShown.emit(eventData); });
    }
}
jqxMenuComponent.Éµfac = function jqxMenuComponent_Factory(t) { return new (t || jqxMenuComponent)(Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.ElementRef)); };
jqxMenuComponent.Éµcmp = Éµngcc0.ÉµÉµdefineComponent({ type: jqxMenuComponent, selectors: [["jqxMenu"]], inputs: { autoCreate: ["auto-create", "autoCreate"], attrAnimationShowDuration: ["animationShowDuration", "attrAnimationShowDuration"], attrAnimationHideDuration: ["animationHideDuration", "attrAnimationHideDuration"], attrAnimationHideDelay: ["animationHideDelay", "attrAnimationHideDelay"], attrAnimationShowDelay: ["animationShowDelay", "attrAnimationShowDelay"], attrAutoCloseInterval: ["autoCloseInterval", "attrAutoCloseInterval"], attrAutoSizeMainItems: ["autoSizeMainItems", "attrAutoSizeMainItems"], attrAutoCloseOnClick: ["autoCloseOnClick", "attrAutoCloseOnClick"], attrAutoOpenPopup: ["autoOpenPopup", "attrAutoOpenPopup"], attrAutoOpen: ["autoOpen", "attrAutoOpen"], attrAutoCloseOnMouseLeave: ["autoCloseOnMouseLeave", "attrAutoCloseOnMouseLeave"], attrClickToOpen: ["clickToOpen", "attrClickToOpen"], attrDisabled: ["disabled", "attrDisabled"], attrEnableHover: ["enableHover", "attrEnableHover"], attrEasing: ["easing", "attrEasing"], attrKeyboardNavigation: ["keyboardNavigation", "attrKeyboardNavigation"], attrMinimizeWidth: ["minimizeWidth", "attrMinimizeWidth"], attrMode: ["mode", "attrMode"], attrPopupZIndex: ["popupZIndex", "attrPopupZIndex"], attrRtl: ["rtl", "attrRtl"], attrShowTopLevelArrows: ["showTopLevelArrows", "attrShowTopLevelArrows"], attrSource: ["source", "attrSource"], attrTheme: ["theme", "attrTheme"], attrWidth: ["width", "attrWidth"], attrHeight: ["height", "attrHeight"] }, outputs: { onClosed: "onClosed", onItemclick: "onItemclick", onShown: "onShown" }, features: [Éµngcc0.ÉµÉµNgOnChangesFeature], ngContentSelectors: _c0, decls: 2, vars: 0, template: function jqxMenuComponent_Template(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµprojectionDef();
        Éµngcc0.ÉµÉµelementStart(0, "div");
        Éµngcc0.ÉµÉµprojection(1);
        Éµngcc0.ÉµÉµelementEnd();
    } }, encapsulation: 2 });
jqxMenuComponent.ctorParameters = () => [
    { type: ElementRef }
];
jqxMenuComponent.propDecorators = {
    attrAnimationShowDuration: [{ type: Input, args: ['animationShowDuration',] }],
    attrAnimationHideDuration: [{ type: Input, args: ['animationHideDuration',] }],
    attrAnimationHideDelay: [{ type: Input, args: ['animationHideDelay',] }],
    attrAnimationShowDelay: [{ type: Input, args: ['animationShowDelay',] }],
    attrAutoCloseInterval: [{ type: Input, args: ['autoCloseInterval',] }],
    attrAutoSizeMainItems: [{ type: Input, args: ['autoSizeMainItems',] }],
    attrAutoCloseOnClick: [{ type: Input, args: ['autoCloseOnClick',] }],
    attrAutoOpenPopup: [{ type: Input, args: ['autoOpenPopup',] }],
    attrAutoOpen: [{ type: Input, args: ['autoOpen',] }],
    attrAutoCloseOnMouseLeave: [{ type: Input, args: ['autoCloseOnMouseLeave',] }],
    attrClickToOpen: [{ type: Input, args: ['clickToOpen',] }],
    attrDisabled: [{ type: Input, args: ['disabled',] }],
    attrEnableHover: [{ type: Input, args: ['enableHover',] }],
    attrEasing: [{ type: Input, args: ['easing',] }],
    attrKeyboardNavigation: [{ type: Input, args: ['keyboardNavigation',] }],
    attrMinimizeWidth: [{ type: Input, args: ['minimizeWidth',] }],
    attrMode: [{ type: Input, args: ['mode',] }],
    attrPopupZIndex: [{ type: Input, args: ['popupZIndex',] }],
    attrRtl: [{ type: Input, args: ['rtl',] }],
    attrShowTopLevelArrows: [{ type: Input, args: ['showTopLevelArrows',] }],
    attrSource: [{ type: Input, args: ['source',] }],
    attrTheme: [{ type: Input, args: ['theme',] }],
    attrWidth: [{ type: Input, args: ['width',] }],
    attrHeight: [{ type: Input, args: ['height',] }],
    autoCreate: [{ type: Input, args: ['auto-create',] }],
    onClosed: [{ type: Output }],
    onItemclick: [{ type: Output }],
    onShown: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && Éµngcc0.ÉµsetClassMetadata(jqxMenuComponent, [{
        type: Component,
        args: [{
                selector: 'jqxMenu',
                template: '<div><ng-content></ng-content></div>'
            }]
    }], function () { return [{ type: Éµngcc0.ElementRef }]; }, { autoCreate: [{
            type: Input,
            args: ['auto-create']
        }], onClosed: [{
            type: Output
        }], onItemclick: [{
            type: Output
        }], onShown: [{
            type: Output
        }], attrAnimationShowDuration: [{
            type: Input,
            args: ['animationShowDuration']
        }], attrAnimationHideDuration: [{
            type: Input,
            args: ['animationHideDuration']
        }], attrAnimationHideDelay: [{
            type: Input,
            args: ['animationHideDelay']
        }], attrAnimationShowDelay: [{
            type: Input,
            args: ['animationShowDelay']
        }], attrAutoCloseInterval: [{
            type: Input,
            args: ['autoCloseInterval']
        }], attrAutoSizeMainItems: [{
            type: Input,
            args: ['autoSizeMainItems']
        }], attrAutoCloseOnClick: [{
            type: Input,
            args: ['autoCloseOnClick']
        }], attrAutoOpenPopup: [{
            type: Input,
            args: ['autoOpenPopup']
        }], attrAutoOpen: [{
            type: Input,
            args: ['autoOpen']
        }], attrAutoCloseOnMouseLeave: [{
            type: Input,
            args: ['autoCloseOnMouseLeave']
        }], attrClickToOpen: [{
            type: Input,
            args: ['clickToOpen']
        }], attrDisabled: [{
            type: Input,
            args: ['disabled']
        }], attrEnableHover: [{
            type: Input,
            args: ['enableHover']
        }], attrEasing: [{
            type: Input,
            args: ['easing']
        }], attrKeyboardNavigation: [{
            type: Input,
            args: ['keyboardNavigation']
        }], attrMinimizeWidth: [{
            type: Input,
            args: ['minimizeWidth']
        }], attrMode: [{
            type: Input,
            args: ['mode']
        }], attrPopupZIndex: [{
            type: Input,
            args: ['popupZIndex']
        }], attrRtl: [{
            type: Input,
            args: ['rtl']
        }], attrShowTopLevelArrows: [{
            type: Input,
            args: ['showTopLevelArrows']
        }], attrSource: [{
            type: Input,
            args: ['source']
        }], attrTheme: [{
            type: Input,
            args: ['theme']
        }], attrWidth: [{
            type: Input,
            args: ['width']
        }], attrHeight: [{
            type: Input,
            args: ['height']
        }] }); })();

class jqxMenuModule {
}
jqxMenuModule.Éµfac = function jqxMenuModule_Factory(t) { return new (t || jqxMenuModule)(); };
jqxMenuModule.Éµmod = Éµngcc0.ÉµÉµdefineNgModule({ type: jqxMenuModule });
jqxMenuModule.Éµinj = Éµngcc0.ÉµÉµdefineInjector({ imports: [[]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && Éµngcc0.ÉµÉµsetNgModuleScope(jqxMenuModule, { declarations: [jqxMenuComponent], exports: [jqxMenuComponent] }); })();
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && Éµngcc0.ÉµsetClassMetadata(jqxMenuModule, [{
        type: NgModule,
        args: [{
                imports: [],
                declarations: [jqxMenuComponent],
                exports: [jqxMenuComponent]
            }]
    }], null, null); })();

/**
 * Generated bundle index. Do not edit.
 */

export { jqxMenuComponent, jqxMenuModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianF3aWRnZXRzLW5nLWpxeG1lbnUuanMiLCJzb3VyY2VzIjpbImpxd2lkZ2V0cy1uZy1qcXhtZW51LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OzZCQU1FO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQ0Y7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7MEJBT0U7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2pxd2lkZ2V0cy9qcXhjb3JlJztcbmltcG9ydCAnLi4vanF3aWRnZXRzL2pxeGRhdGEnO1xuaW1wb3J0ICcuLi9qcXdpZGdldHMvanF4bWVudSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIE91dHB1dCwgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2pxd2lkZ2V0cy5kLnRzXCIgLz5cclxuY2xhc3MganF4TWVudUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXJFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5hdXRvQ3JlYXRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbJ2FuaW1hdGlvblNob3dEdXJhdGlvbicsICdhbmltYXRpb25IaWRlRHVyYXRpb24nLCAnYW5pbWF0aW9uSGlkZURlbGF5JywgJ2FuaW1hdGlvblNob3dEZWxheScsICdhdXRvQ2xvc2VJbnRlcnZhbCcsICdhdXRvU2l6ZU1haW5JdGVtcycsICdhdXRvQ2xvc2VPbkNsaWNrJywgJ2F1dG9PcGVuUG9wdXAnLCAnYXV0b09wZW4nLCAnYXV0b0Nsb3NlT25Nb3VzZUxlYXZlJywgJ2NsaWNrVG9PcGVuJywgJ2Rpc2FibGVkJywgJ2VuYWJsZUhvdmVyJywgJ2Vhc2luZycsICdoZWlnaHQnLCAna2V5Ym9hcmROYXZpZ2F0aW9uJywgJ21pbmltaXplV2lkdGgnLCAnbW9kZScsICdwb3B1cFpJbmRleCcsICdydGwnLCAnc2hvd1RvcExldmVsQXJyb3dzJywgJ3NvdXJjZScsICd0aGVtZScsICd3aWR0aCddO1xyXG4gICAgICAgIC8vIGpxeE1lbnVDb21wb25lbnQgZXZlbnRzXHJcbiAgICAgICAgdGhpcy5vbkNsb3NlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLm9uSXRlbWNsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMub25TaG93biA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnRSZWYgPSBjb250YWluZXJFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b0NyZWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbXBvbmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIDtcclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXR0ck5hbWUgPSAnYXR0cicgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyZUVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1thdHRyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1thdHRyTmFtZV0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW2F0dHJOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmVFcXVhbCA9IHRoaXMuYXJyYXlzRXF1YWwodGhpc1thdHRyTmFtZV0sIHRoaXMuaG9zdC5qcXhNZW51KHRoaXMucHJvcGVydGllc1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmVFcXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KHRoaXMucHJvcGVydGllc1tpXSwgdGhpc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbYXR0ck5hbWVdICE9PSB0aGlzLmhvc3QuanF4TWVudSh0aGlzLnByb3BlcnRpZXNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KHRoaXMucHJvcGVydGllc1tpXSwgdGhpc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFycmF5c0VxdWFsKGF0dHJWYWx1ZSwgaG9zdFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKChhdHRyVmFsdWUgJiYgIWhvc3RWYWx1ZSkgfHwgKCFhdHRyVmFsdWUgJiYgaG9zdFZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdHRyVmFsdWUubGVuZ3RoICE9IGhvc3RWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJWYWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlW2ldICE9PSBob3N0VmFsdWVbaV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIG1hbmFnZUF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYXR0ck5hbWUgPSAnYXR0cicgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnByb3BlcnRpZXNbaV0uc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICBpZiAodGhpc1thdHRyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1t0aGlzLnByb3BlcnRpZXNbaV1dID0gdGhpc1thdHRyTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBtb3ZlQ2xhc3NlcyhwYXJlbnRFbCwgY2hpbGRFbCkge1xyXG4gICAgICAgIGxldCBjbGFzc2VzID0gcGFyZW50RWwuY2xhc3NMaXN0O1xyXG4gICAgICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY2hpbGRFbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnRFbC5jbGFzc05hbWUgPSAnJztcclxuICAgIH1cclxuICAgIG1vdmVTdHlsZXMocGFyZW50RWwsIGNoaWxkRWwpIHtcclxuICAgICAgICBsZXQgc3R5bGUgPSBwYXJlbnRFbC5zdHlsZS5jc3NUZXh0O1xyXG4gICAgICAgIGNoaWxkRWwuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xyXG4gICAgICAgIHBhcmVudEVsLnN0eWxlLmNzc1RleHQgPSAnJztcclxuICAgIH1cclxuICAgIGNyZWF0ZUNvbXBvbmVudChvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIEpRWExpdGUuZXh0ZW5kKG9wdGlvbnMsIHRoaXMubWFuYWdlQXR0cmlidXRlcygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm1hbmFnZUF0dHJpYnV0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob3N0ID0gSlFYTGl0ZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB0aGlzLm1vdmVDbGFzc2VzKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCB0aGlzLmhvc3RbMF0pO1xyXG4gICAgICAgIHRoaXMubW92ZVN0eWxlcyh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgdGhpcy5ob3N0WzBdKTtcclxuICAgICAgICB0aGlzLl9fd2lyZUV2ZW50c19fKCk7XHJcbiAgICAgICAgdGhpcy53aWRnZXRPYmplY3QgPSBqcXdpZGdldHMuY3JlYXRlSW5zdGFuY2UodGhpcy5ob3N0LCAnanF4TWVudScsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlV2lkZ2V0KG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbXBvbmVudChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIF9fdXBkYXRlUmVjdF9fKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3QpXHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5jc3MoeyB3aWR0aDogdGhpcy5hdHRyV2lkdGgsIGhlaWdodDogdGhpcy5hdHRySGVpZ2h0IH0pO1xyXG4gICAgfVxyXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ3NldE9wdGlvbnMnLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIC8vIGpxeE1lbnVDb21wb25lbnQgcHJvcGVydGllc1xyXG4gICAgYW5pbWF0aW9uU2hvd0R1cmF0aW9uKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uU2hvd0R1cmF0aW9uJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uU2hvd0R1cmF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYW5pbWF0aW9uSGlkZUR1cmF0aW9uKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uSGlkZUR1cmF0aW9uJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uSGlkZUR1cmF0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYW5pbWF0aW9uSGlkZURlbGF5KGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uSGlkZURlbGF5JywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uSGlkZURlbGF5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYW5pbWF0aW9uU2hvd0RlbGF5KGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uU2hvd0RlbGF5JywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnYW5pbWF0aW9uU2hvd0RlbGF5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b0Nsb3NlSW50ZXJ2YWwoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdhdXRvQ2xvc2VJbnRlcnZhbCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2F1dG9DbG9zZUludGVydmFsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b1NpemVNYWluSXRlbXMoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdhdXRvU2l6ZU1haW5JdGVtcycsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2F1dG9TaXplTWFpbkl0ZW1zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b0Nsb3NlT25DbGljayhhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ2F1dG9DbG9zZU9uQ2xpY2snLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhNZW51KCdhdXRvQ2xvc2VPbkNsaWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b09wZW5Qb3B1cChhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ2F1dG9PcGVuUG9wdXAnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhNZW51KCdhdXRvT3BlblBvcHVwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b09wZW4oYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdhdXRvT3BlbicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2F1dG9PcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXV0b0Nsb3NlT25Nb3VzZUxlYXZlKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnYXV0b0Nsb3NlT25Nb3VzZUxlYXZlJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnYXV0b0Nsb3NlT25Nb3VzZUxlYXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xpY2tUb09wZW4oYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdjbGlja1RvT3BlbicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2NsaWNrVG9PcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGlzYWJsZWQoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdkaXNhYmxlZCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZW5hYmxlSG92ZXIoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdlbmFibGVIb3ZlcicsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ2VuYWJsZUhvdmVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWFzaW5nKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnZWFzaW5nJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnZWFzaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGVpZ2h0KGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnaGVpZ2h0JywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnaGVpZ2h0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAga2V5Ym9hcmROYXZpZ2F0aW9uKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgna2V5Ym9hcmROYXZpZ2F0aW9uJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgna2V5Ym9hcmROYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWluaW1pemVXaWR0aChhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ21pbmltaXplV2lkdGgnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhNZW51KCdtaW5pbWl6ZVdpZHRoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW9kZShhcmcpIHtcclxuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ21vZGUnLCBhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdC5qcXhNZW51KCdtb2RlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcG9wdXBaSW5kZXgoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdwb3B1cFpJbmRleCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ3BvcHVwWkluZGV4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcnRsKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgncnRsJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgncnRsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd1RvcExldmVsQXJyb3dzKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnc2hvd1RvcExldmVsQXJyb3dzJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnc2hvd1RvcExldmVsQXJyb3dzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc291cmNlKGFyZykge1xyXG4gICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnc291cmNlJywgYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvc3QuanF4TWVudSgnc291cmNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhlbWUoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCd0aGVtZScsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ3RoZW1lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2lkdGgoYXJnKSB7XHJcbiAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCd3aWR0aCcsIGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0LmpxeE1lbnUoJ3dpZHRoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8ganF4TWVudUNvbXBvbmVudCBmdW5jdGlvbnNcclxuICAgIGNsb3NlSXRlbShpdGVtSUQpIHtcclxuICAgICAgICB0aGlzLmhvc3QuanF4TWVudSgnY2xvc2VJdGVtJywgaXRlbUlEKTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdjbG9zZScpO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZShpdGVtSUQsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ2Rpc2FibGUnLCBpdGVtSUQsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ2Rlc3Ryb3knKTtcclxuICAgIH1cclxuICAgIGZvY3VzKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdmb2N1cycpO1xyXG4gICAgfVxyXG4gICAgbWluaW1pemUoKSB7XHJcbiAgICAgICAgdGhpcy5ob3N0LmpxeE1lbnUoJ21pbmltaXplJyk7XHJcbiAgICB9XHJcbiAgICBvcGVuKGxlZnQsIHRvcCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdvcGVuJywgbGVmdCwgdG9wKTtcclxuICAgIH1cclxuICAgIG9wZW5JdGVtKGl0ZW1JRCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdvcGVuSXRlbScsIGl0ZW1JRCk7XHJcbiAgICB9XHJcbiAgICByZXN0b3JlKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdyZXN0b3JlJyk7XHJcbiAgICB9XHJcbiAgICBzZXRJdGVtT3BlbkRpcmVjdGlvbihpdGVtLCBob3Jpem9udGFsZGlyZWN0aW9uLCB2ZXJ0aWNhbGRpcmVjdGlvbikge1xyXG4gICAgICAgIHRoaXMuaG9zdC5qcXhNZW51KCdzZXRJdGVtT3BlbkRpcmVjdGlvbicsIGl0ZW0sIGhvcml6b250YWxkaXJlY3Rpb24sIHZlcnRpY2FsZGlyZWN0aW9uKTtcclxuICAgIH1cclxuICAgIF9fd2lyZUV2ZW50c19fKCkge1xyXG4gICAgICAgIHRoaXMuaG9zdC5vbignY2xvc2VkJywgKGV2ZW50RGF0YSkgPT4geyB0aGlzLm9uQ2xvc2VkLmVtaXQoZXZlbnREYXRhKTsgfSk7XHJcbiAgICAgICAgdGhpcy5ob3N0Lm9uKCdpdGVtY2xpY2snLCAoZXZlbnREYXRhKSA9PiB7IHRoaXMub25JdGVtY2xpY2suZW1pdChldmVudERhdGEpOyB9KTtcclxuICAgICAgICB0aGlzLmhvc3Qub24oJ3Nob3duJywgKGV2ZW50RGF0YSkgPT4geyB0aGlzLm9uU2hvd24uZW1pdChldmVudERhdGEpOyB9KTtcclxuICAgIH1cclxufSAvL2pxeE1lbnVDb21wb25lbnRcclxuanF4TWVudUNvbXBvbmVudC5kZWNvcmF0b3JzID0gW1xyXG4gICAgeyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2pxeE1lbnUnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2PjxuZy1jb250ZW50PjwvbmctY29udGVudD48L2Rpdj4nXHJcbiAgICAgICAgICAgIH0sXSB9XHJcbl07XHJcbmpxeE1lbnVDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSAoKSA9PiBbXHJcbiAgICB7IHR5cGU6IEVsZW1lbnRSZWYgfVxyXG5dO1xyXG5qcXhNZW51Q29tcG9uZW50LnByb3BEZWNvcmF0b3JzID0ge1xyXG4gICAgYXR0ckFuaW1hdGlvblNob3dEdXJhdGlvbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYW5pbWF0aW9uU2hvd0R1cmF0aW9uJyxdIH1dLFxyXG4gICAgYXR0ckFuaW1hdGlvbkhpZGVEdXJhdGlvbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYW5pbWF0aW9uSGlkZUR1cmF0aW9uJyxdIH1dLFxyXG4gICAgYXR0ckFuaW1hdGlvbkhpZGVEZWxheTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYW5pbWF0aW9uSGlkZURlbGF5JyxdIH1dLFxyXG4gICAgYXR0ckFuaW1hdGlvblNob3dEZWxheTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYW5pbWF0aW9uU2hvd0RlbGF5JyxdIH1dLFxyXG4gICAgYXR0ckF1dG9DbG9zZUludGVydmFsOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydhdXRvQ2xvc2VJbnRlcnZhbCcsXSB9XSxcclxuICAgIGF0dHJBdXRvU2l6ZU1haW5JdGVtczogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYXV0b1NpemVNYWluSXRlbXMnLF0gfV0sXHJcbiAgICBhdHRyQXV0b0Nsb3NlT25DbGljazogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnYXV0b0Nsb3NlT25DbGljaycsXSB9XSxcclxuICAgIGF0dHJBdXRvT3BlblBvcHVwOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydhdXRvT3BlblBvcHVwJyxdIH1dLFxyXG4gICAgYXR0ckF1dG9PcGVuOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydhdXRvT3BlbicsXSB9XSxcclxuICAgIGF0dHJBdXRvQ2xvc2VPbk1vdXNlTGVhdmU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2F1dG9DbG9zZU9uTW91c2VMZWF2ZScsXSB9XSxcclxuICAgIGF0dHJDbGlja1RvT3BlbjogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnY2xpY2tUb09wZW4nLF0gfV0sXHJcbiAgICBhdHRyRGlzYWJsZWQ6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2Rpc2FibGVkJyxdIH1dLFxyXG4gICAgYXR0ckVuYWJsZUhvdmVyOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydlbmFibGVIb3ZlcicsXSB9XSxcclxuICAgIGF0dHJFYXNpbmc6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2Vhc2luZycsXSB9XSxcclxuICAgIGF0dHJLZXlib2FyZE5hdmlnYXRpb246IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ2tleWJvYXJkTmF2aWdhdGlvbicsXSB9XSxcclxuICAgIGF0dHJNaW5pbWl6ZVdpZHRoOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydtaW5pbWl6ZVdpZHRoJyxdIH1dLFxyXG4gICAgYXR0ck1vZGU6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ21vZGUnLF0gfV0sXHJcbiAgICBhdHRyUG9wdXBaSW5kZXg6IFt7IHR5cGU6IElucHV0LCBhcmdzOiBbJ3BvcHVwWkluZGV4JyxdIH1dLFxyXG4gICAgYXR0clJ0bDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsncnRsJyxdIH1dLFxyXG4gICAgYXR0clNob3dUb3BMZXZlbEFycm93czogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc2hvd1RvcExldmVsQXJyb3dzJyxdIH1dLFxyXG4gICAgYXR0clNvdXJjZTogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnc291cmNlJyxdIH1dLFxyXG4gICAgYXR0clRoZW1lOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0aGVtZScsXSB9XSxcclxuICAgIGF0dHJXaWR0aDogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsnd2lkdGgnLF0gfV0sXHJcbiAgICBhdHRySGVpZ2h0OiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydoZWlnaHQnLF0gfV0sXHJcbiAgICBhdXRvQ3JlYXRlOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWydhdXRvLWNyZWF0ZScsXSB9XSxcclxuICAgIG9uQ2xvc2VkOiBbeyB0eXBlOiBPdXRwdXQgfV0sXHJcbiAgICBvbkl0ZW1jbGljazogW3sgdHlwZTogT3V0cHV0IH1dLFxyXG4gICAgb25TaG93bjogW3sgdHlwZTogT3V0cHV0IH1dXHJcbn07XG5cbmNsYXNzIGpxeE1lbnVNb2R1bGUge1xyXG59XHJcbmpxeE1lbnVNb2R1bGUuZGVjb3JhdG9ycyA9IFtcclxuICAgIHsgdHlwZTogTmdNb2R1bGUsIGFyZ3M6IFt7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRzOiBbXSxcclxuICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW2pxeE1lbnVDb21wb25lbnRdLFxyXG4gICAgICAgICAgICAgICAgZXhwb3J0czogW2pxeE1lbnVDb21wb25lbnRdXHJcbiAgICAgICAgICAgIH0sXSB9XHJcbl07XG5cbi8qKlxyXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cclxuICovXG5cbmV4cG9ydCB7IGpxeE1lbnVDb21wb25lbnQsIGpxeE1lbnVNb2R1bGUgfTtcbiJdfQ==