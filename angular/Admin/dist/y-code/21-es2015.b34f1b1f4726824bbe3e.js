(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{TT0I:function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return p});var n=i("fXoL"),s=i("3Pt+"),a=i("ofXK"),c=function(e){return e[e.FINANCIAL=0]="FINANCIAL",e[e.NATURAL=1]="NATURAL",e}({});let r=new n.t("currency.mask.config");class l{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||n||s}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){let n=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange();a.moveToBookmark(i.getBookmark());let c=this.htmlInputElement.createTextRange();c.collapse(!1),a.compareEndPoints("StartToEnd",c)>-1?e=t=n:(e=-a.moveStart("character",-n),e+=s.slice(0,e).split("\n").length-1,a.compareEndPoints("EndToEnd",c)>-1?t=n:(t=-a.moveEnd("character",-n),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue||""}}class o{constructor(e,t){this.htmlInputElement=e,this.options=t,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new l(e),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(e){const{decimal:t,precision:i,inputMode:n}=this.options;let s=String.fromCharCode(e);const a=s===this.options.decimal;if(this.rawValue){let e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;const r=this.rawValue.substring(0,e);let l=this.rawValue.substring(i,this.rawValue.length);const o=-1!==r.indexOf(t);n===c.NATURAL&&o&&e===i&&(l=l.substring(1));const u=r+s+l;let d=e+1;if(!a&&s!==this.options.thousands||s!==l[0]){if(!this.SINGLE_DIGIT_REGEX.test(s))return}else d++;this.rawValue=u,this.updateFieldValue(d)}else{let e;this.rawValue=this.applyMask(!1,s),n===c.NATURAL&&i>0&&(e=this.rawValue.indexOf(t),a&&e++),this.updateFieldValue(e)}}applyMask(e,t,i=!1){let{allowNegative:n,decimal:s,precision:a,prefix:r,suffix:l,thousands:o,min:u,max:d,inputMode:h}=this.options,p=(t=e?new Number(t).toFixed(a):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!p&&t!==s)return"";h!==c.NATURAL||e||i||(p=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));let m=p.slice(0,p.length-a).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==m&&(m="0");let f=parseInt(m);m=m.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,o),o&&m.startsWith(o)&&(m=m.substring(1));let b=m,v=p.slice(p.length-a),g=parseInt(v)||0,y=t.indexOf("-")>-1;d=this.isNullOrUndefined(d)||this.isNullOrUndefined(u)?d:Math.max(d,u);let w=f+g/100;return w=y?-w:w,!this.isNullOrUndefined(d)&&w>d?this.applyMask(!0,d+""):!this.isNullOrUndefined(u)&&w<u?this.applyMask(!0,u+""):(a>0&&(b+="0"==b&&v.length<a?s+"0".repeat(a-1)+v:s+v),(y&&n&&0!=w?"-":"")+r+b+l)}padOrTrimPrecision(e){let{decimal:t,precision:i}=this.options,n=e.lastIndexOf(t);-1===n&&(n=e.length,e+=t);let s=e.substring(n).replace(this.ONLY_NUMBERS_REGEX,"");const a=s.length;if(a<i)for(let c=a;c<i;c++)s+="0";else a>i&&(s=s.substring(0,s.length+i-a));return e.substring(0,n)+t+s}clearMask(e){if(this.isNullable()&&""===e)return null;let t=(e||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((e,i)=>{const n=new RegExp(i,"g");t=t.replace(n,e)}),parseFloat(t)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(e){let{decimal:t,thousands:i,prefix:n,suffix:s,inputMode:a}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let r=this.inputSelection.selectionEnd,l=this.inputSelection.selectionStart;const o=this.rawValue.length-s.length;if(r=Math.min(o,Math.max(r,n.length)),l=Math.min(o,Math.max(l,n.length)),l===r&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(l);let u=this.rawValue.indexOf(t);-1===u&&(u=this.rawValue.length);let d=0,h="";const p=u<r,m=u+1===r;if(r===l)if(8==e){if(l<=n.length)return;l--,this.rawValue.substr(l,1).match(/\d/)||l--,a===c.NATURAL&&p&&(d=-1,m&&this.value<10&&this.value>-10&&(h+="0"))}else if(46==e||63272==e){if(l===o)return;r++,this.rawValue.substr(l,1).match(/\d/)||(l++,r++)}if(a===c.NATURAL&&l>u){const e=r-l;for(let t=0;t<e;t++)h+="0"}let f=this.rawValue.length-r;this.rawValue=this.rawValue.substring(0,l)+h+this.rawValue.substring(r),this.rawValue.substr(n.length,1)===i&&(this.rawValue=this.rawValue.substring(0,n.length)+this.rawValue.substring(n.length+1),f=Math.min(f,this.rawValue.length-n.length)),this.updateFieldValue(this.rawValue.length-f+d,!0)}updateFieldValue(e,t=!1){let i=this.applyMask(!1,this.rawValue||"",t);e=null==e?this.rawValue.length:e,e=Math.max(this.options.prefix.length,Math.min(e,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,e)}updateOptions(e){let t=this.value;this.options=e,this.value=t}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}isNullOrUndefined(e){return null==e}}class u{constructor(e,t){this.inputService=new o(e,t)}handleCut(e){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){let t=this.inputService.inputSelection.selectionStart,i=this.inputService.rawValue.charCodeAt(t-1),n=this.inputService.rawValue.length,s=this.inputService.storedRawValue.length;if(1!=Math.abs(n-s))return this.inputService.updateFieldValue(t),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,n<s&&this.timer(()=>{this.inputService.updateFieldValue(t+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),n>s&&(this.inputService.updateFieldValue(t-1),this.handleKeypressImpl(i))}handleKeydown(e){let t=e.which||e.charCode||e.keyCode;8!=t&&46!=t&&63272!=t||(e.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(e){let t=e.which||e.charCode||e.keyCode;e.preventDefault(),97===t&&e.ctrlKey||this.handleKeypressImpl(t)}handleKeypressImpl(e){switch(e){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(e))}this.onModelChange(this.inputService.value)}handlePaste(e){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}timer(e,t){setTimeout(e,t)}}const d={provide:s.n,useExisting:Object(n.bb)(()=>h),multi:!0};let h=(()=>{class e{constructor(e,t,i){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:c.FINANCIAL},e&&(this.optionsTemplate=e),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new u(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(e){this.inputHandler.getOnModelTouched().apply(e)}handleCut(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(e)}handleInput(e){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(e)}handleKeydown(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(e)}handleKeypress(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(e)}handlePaste(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(e)}handleDrop(e){this.isChromeAndroid()||e.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(e){this.inputHandler.setOnModelChange(e)}registerOnTouched(e){this.inputHandler.setOnModelTouched(e)}setDisabledState(e){this.elementRef.nativeElement.disabled=e}writeValue(e){this.inputHandler.setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(r,8),n.Wb(n.n),n.Wb(n.x))},e.\u0275dir=n.Rb({type:e,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&n.mc("blur",function(e){return t.handleBlur(e)})("cut",function(e){return t.handleCut(e)})("input",function(e){return t.handleInput(e)})("keydown",function(e){return t.handleKeydown(e)})("keypress",function(e){return t.handleKeypress(e)})("paste",function(e){return t.handlePaste(e)})("drop",function(e){return t.handleDrop(e)})},inputs:{options:"options"},features:[n.Hb([d])]}),e})(),p=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:r,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({imports:[[a.c,s.j]]}),e})()},zrcO:function(e,t,i){"use strict";i.r(t),i.d(t,"customCurrencyMaskConfig",function(){return Y}),i.d(t,"UsersModule",function(){return J});var n=i("ofXK"),s=i("fXoL"),a=i("oXA7");i("KOvq"),i("X/DG"),i("bk9D"),i("mrSG");let c=(()=>{class e{constructor(e){this.document=e,this.width=this.getWidth()}getWidth(){const e=this.document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",this.document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const i=this.document.createElement("div");i.style.width="100%",e.appendChild(i);const n=i.offsetWidth;return e.parentNode.removeChild(e),t-n}}return e.\u0275fac=function(t){return new(t||e)(s.jc(n.e))},e.\u0275prov=s.Sb({token:e,factory:e.\u0275fac}),e})(),r=(()=>{class e{getDimensions(e){return e.getBoundingClientRect()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Sb({token:e,factory:e.\u0275fac}),e})(),l=(()=>{class e{constructor(){this.columnInputChanges=new a.a}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Sb({token:e,factory:e.\u0275fac}),e})();const o={},u="undefined"!=typeof document?document.createElement("div").style:void 0,d=function(){const e="undefined"!=typeof window?window.getComputedStyle(document.documentElement,""):void 0,t=void 0!==e?Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/):null,i=null!==t?t[1]:void 0,n=void 0!==i?"WebKit|Moz|MS|O".match(new RegExp("("+i+")","i"))[1]:void 0;return n?{dom:n,lowercase:i,css:`-${i}-`,js:i[0].toUpperCase()+i.substr(1)}:void 0}();function h(e){const t=e.replace(/[^a-zA-Z0-9 ]/g," ").replace(/([a-z](?=[A-Z]))/g,"$1 ").replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase().replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,i){return t.trim()+i.toUpperCase()});return o[t]||(void 0!==d&&void 0!==u[d.css+e]?o[t]=d.css+e:void 0!==u[e]&&(o[t]=e)),o[t]}"undefined"!=typeof window&&h("transform"),"undefined"!=typeof window&&h("backfaceVisibility"),"undefined"!=typeof window&&h("transform"),"undefined"!=typeof window&&h("perspective");const p="undefined"!=typeof window?window.navigator.userAgent:"Chrome";/Safari\//.test(p)&&/Chrome\//.test(p);let m=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:"configuration",useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({providers:[c,r,l],imports:[[n.c]]}),e})();"undefined"==typeof document||document.elementsFromPoint||(document.elementsFromPoint=function(e,t){const i=[],n=[];let s,a,c;for(;(s=document.elementFromPoint(e,t))&&-1===i.indexOf(s)&&null!=s;)i.push(s),n.push({value:s.style.getPropertyValue("pointer-events"),priority:s.style.getPropertyPriority("pointer-events")}),s.style.setProperty("pointer-events","none","important");for(a=n.length;c=n[--a];)i[a].style.setProperty("pointer-events",c.value?c.value:"",c.priority);return i});var f=i("3Pt+"),b=i("ZOsW"),v=i("aSZe"),g=i("7M0M"),y=i("wjyA"),w=i("1kSV"),E=i("TT0I"),R=i("JqCM"),I=i("pKmL"),A=i("sYmb"),S=i("tk/3"),_=i("mqiu"),C=i("S2BM"),V=i("tyNb");let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Qb({type:e,selectors:[["app-users"]],decls:1,vars:0,template:function(e,t){1&e&&s.Xb(0,"router-outlet")},directives:[V.g],encapsulation:2}),e})();var N=i("py8Q"),x=i("YMfE");const U=["customGrid"],O=["searchField"];function F(e,t){if(1&e){const e=s.dc();s.cc(0,"div"),s.cc(1,"button",21),s.mc("click",function(){return s.Lc(e),s.oc().importData()}),s.Xb(2,"i",33),s.Uc(3),s.pc(4,"translate"),s.bc(),s.bc()}if(2&e){const e=s.oc();s.Ib(1),s.vc("disabled",e.loading),s.Ib(2),s.Wc(" ",s.qc(4,2,"buttons.import")," ")}}let T=(()=>{class e extends N.a{constructor(e,t,i,n,s){super(e,t,i,n,s),this.msg=e,this.api=t,this.router=i,this.translate=n,this.aRouter=s,this.title="Lista de usuarios"}ngOnInit(){this.changeLanguage(this.activeLang)}ngAfterViewInit(){const e=this;e.crudApi={create:"/users/create",read:"/users/read",update:"/users/update/",delete:"/users/delete/"},e.showActions=!0,e.showRowNumber=!0,e.pagesize=10,e.datafields=[{name:"active",type:"bool"},{name:"logo",type:"string"},{name:"email",type:"string"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"user_type",type:"string"},{name:"type_id",type:"number"},{name:"id",type:"number"}],e.sourceColumns=[{text:"Nombre",datafield:"first_name",align:"center",cellsalign:"left",minWidth:200},{text:"Apeillido",datafield:"last_name",align:"center",cellsalign:"left",minWidth:200},{text:"Usuario",align:"center",datafield:"email",minWidth:150,width:200},{text:"Tipo",align:"center",datafield:"user_type",minWidth:100,width:150},{text:"Activo",align:"center",datafield:"active",minWidth:50,width:90,columntype:"checkbox",threestatecheckbox:!0}],this.prepareGrid()}createData(){super.createData(),this.goRoute("users/create")}editData(e){super.editData(e),this.goRoute(`users/edit/${e.id}`)}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(x.b),s.Wb(x.a),s.Wb(V.c),s.Wb(A.d),s.Wb(V.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["app-users-list"]],viewQuery:function(e,t){if(1&e&&(s.ad(U,1),s.ad(O,1)),2&e){let e;s.Hc(e=s.nc())&&(t.customGrid=e.first),s.Hc(e=s.nc())&&(t.searchField=e.first)}},features:[s.Fb],decls:77,vars:38,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"menuExport"],[1,"space-right"],[1,"btn","btn-danger","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-sync","mr-1","fas-fa-22"],[1,"myMenu","space-right"],[1,"clearColor",3,"height","onItemclick"],["myMenu",""],["id","Exports"],[1,"fas","fa-cog","fas-fa-22","fas-fa-red"],["href","javascript:void(0)"],[2,"width","200px"],[1,"fas","fa-file-excel","fas-fa-xls"],[1,"fas","fa-file-csv","fas-fa-xls"],["type","separator"],[1,"fas","fa-file-pdf","fas-fa-pdf"],[1,"fas","fa-file-code","fas-fa-code"],[1,"fas","fa-print","fas-fa-print"],[1,"margin-left","space-right"],[1,"btn","btn-success","round","mr-1","mb-1",3,"disabled","click"],[1,"fa","fa-plus","mr-1","fas-fa-22"],[4,"ngIf"],[1,"container-fluid"],[1,"input-group"],["type","text","autofocus","",1,"form-control",3,"placeholder","keyup"],["searchField",""],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["width","100%",3,"disabled","auto-create","onCellselect","onBindingcomplete"],["customGrid",""],[1,"fa","fa-upload","mr-1","fas-fa-22"]],template:function(e,t){1&e&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"h4",2),s.Uc(3),s.pc(4,"uppercase"),s.bc(),s.bc(),s.cc(5,"div",0),s.cc(6,"div",3),s.cc(7,"div",4),s.cc(8,"button",5),s.mc("click",function(){return t.searchQuery()}),s.Xb(9,"i",6),s.bc(),s.bc(),s.cc(10,"div",7),s.cc(11,"jqxMenu",8,9),s.mc("onItemclick",function(e){return t.itemclick(e)}),s.cc(13,"ul"),s.cc(14,"li",10),s.Xb(15,"i",11),s.Xb(16,"a",12),s.cc(17,"ul",13),s.cc(18,"li"),s.cc(19,"a",12),s.Xb(20,"i",14),s.Uc(21),s.pc(22,"translate"),s.bc(),s.bc(),s.cc(23,"li"),s.cc(24,"a",12),s.Xb(25,"i",15),s.Uc(26),s.pc(27,"translate"),s.bc(),s.bc(),s.cc(28,"li"),s.cc(29,"a",12),s.Xb(30,"i",14),s.Uc(31),s.pc(32,"translate"),s.bc(),s.bc(),s.Xb(33,"li",16),s.cc(34,"li"),s.cc(35,"a",12),s.Xb(36,"i",17),s.Uc(37),s.pc(38,"translate"),s.bc(),s.bc(),s.Xb(39,"li",16),s.cc(40,"li"),s.cc(41,"a",12),s.Xb(42,"i",18),s.Uc(43),s.pc(44,"translate"),s.bc(),s.bc(),s.cc(45,"li"),s.cc(46,"a",12),s.Xb(47,"i",18),s.Uc(48),s.pc(49,"translate"),s.bc(),s.bc(),s.cc(50,"li"),s.cc(51,"a",12),s.Xb(52,"i",18),s.Uc(53),s.pc(54,"translate"),s.bc(),s.bc(),s.Xb(55,"li",16),s.cc(56,"li"),s.cc(57,"a",12),s.Xb(58,"i",19),s.Uc(59),s.pc(60,"translate"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(61,"div",20),s.cc(62,"button",21),s.mc("click",function(){return t.createData()}),s.Xb(63,"i",22),s.Uc(64),s.pc(65,"translate"),s.bc(),s.bc(),s.Sc(66,F,5,4,"div",23),s.bc(),s.cc(67,"div",24),s.cc(68,"fieldset"),s.cc(69,"div",25),s.cc(70,"input",26,27),s.mc("keyup",function(e){return t.inputKey(e)}),s.bc(),s.cc(72,"div",28),s.cc(73,"button",29),s.mc("click",function(){return t.searchQuery()}),s.Xb(74,"i",30),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(75,"jqxGrid",31,32),s.mc("onCellselect",function(e){return t.cellClick(e)})("onBindingcomplete",function(e){return t.Bindingcomplete(e)}),s.bc(),s.bc(),s.bc(),s.bc()),2&e&&(s.Ib(3),s.Vc(s.qc(4,18,t.title)),s.Ib(5),s.vc("disabled",t.loading),s.Ib(3),s.vc("height",36),s.Ib(10),s.Vc(s.qc(22,20,"export.excel")),s.Ib(5),s.Vc(s.qc(27,22,"export.csv")),s.Ib(5),s.Vc(s.qc(32,24,"export.xml")),s.Ib(6),s.Vc(s.qc(38,26,"export.pdf")),s.Ib(6),s.Vc(s.qc(44,28,"export.html")),s.Ib(5),s.Vc(s.qc(49,30,"export.json")),s.Ib(5),s.Vc(s.qc(54,32,"export.tsv")),s.Ib(6),s.Vc(s.qc(60,34,"export.print")),s.Ib(3),s.vc("disabled",t.loading),s.Ib(2),s.Wc(" ",s.qc(65,36,"buttons.new")," "),s.Ib(2),s.vc("ngIf",t.useImport),s.Ib(4),s.vc("placeholder",t.placeholderSearch),s.Ib(3),s.vc("disabled",t.loading),s.Ib(2),s.vc("disabled",t.loading)("auto-create",!1))},directives:[g.a,n.n,v.a],pipes:[n.v,A.c],encapsulation:2}),e})();var k=i("TK7J"),P=i("rdQv"),W=i("C6Ca");let X=(()=>{class e{constructor(e){this.api=e}getUserTpes(){return this.api.get("/users/types").pipe(Object(P.a)(e=>e.records))}getProfile(){return this.api.get("/users/profile").pipe(Object(P.a)(e=>e.records))}getData(e){return this.api.get("/users/read",e).pipe(Object(P.a)(e=>e.records))}}return e.\u0275fac=function(t){return new(t||e)(s.jc(W.a))},e.\u0275prov=s.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=i("uHPU");const B=["uploadFile"],D=["imgUp"],q=["focusElement"];function j(e,t){if(1&e&&(s.cc(0,"ng-option",35),s.Uc(1),s.bc()),2&e){const e=t.$implicit;s.vc("value",e.id),s.Ib(1),s.Wc(" ",e.user_type_name," ")}}let G=(()=>{class e extends k.a{constructor(e,t,i,n,s,a,c,r){super(e,i,t,n,s,a,c),this.fb=e,this.api=t,this.msg=i,this.router=n,this.translate=s,this.aRouter=a,this.spinner=c,this.usersSer=r,this.userTypes=[],this.title="Editar usuario",this.customForm=this.fb.group({type_id:[1,[f.y.required]],first_name:["",[f.y.required]],last_name:["",[f.y.required]],active:[!0,[f.y.required]],email:["",[f.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]]})}get invalidEmail(){return this.isInvalid("email")}get invalidLastName(){return this.isInvalid("last_name")}get invalidFirstName(){return this.isInvalid("first_name")}ngOnInit(){super.ngOnInit();const e=this;e.PutURL="/users/update/",e.PostURL="/users/create",e.showSpinner(),e.usersSer.getUserTpes().subscribe(t=>{e.userTypes=t})}ngAfterViewInit(){super.ngAfterViewInit(),this.hideSpinner()}loadData(e=0){super.loadData(e);const t=this,i=t.customForm;t.editing=!0,t.usersSer.getData({uid:e}).subscribe(e=>{t.hideSpinner(),i.setValue({type_id:e[0].type_id,last_name:e[0].last_name,first_name:e[0].first_name,active:e[0].active,email:e[0].email}),t.imgData=e[0].avatar?e[0].avatar:""},()=>t.hideSpinner())}onResetForm(){let e=this.customForm;super.onResetForm(e),e.setValue({type_id:1,first_name:"",last_name:"",active:!0,email:""}),this.imgData=""}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(f.e),s.Wb(x.a),s.Wb(x.b),s.Wb(V.c),s.Wb(A.d),s.Wb(V.a),s.Wb(R.c),s.Wb(X))},e.\u0275cmp=s.Qb({type:e,selectors:[["app-users-edit"]],viewQuery:function(e,t){if(1&e&&(s.ad(B,1),s.ad(D,1),s.ad(q,1)),2&e){let e;s.Hc(e=s.nc())&&(t.uploadFile=e.first),s.Hc(e=s.nc())&&(t.imgUp=e.first),s.Hc(e=s.nc())&&(t.focusElement=e.first)}},features:[s.Fb],decls:52,vars:14,consts:[[1,"users-edit"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-content"],[1,"card-header"],[1,"card-body"],["id","account",1,"mt-2"],[1,"media"],["alt","Avatar","height","64","width","64","fallimg","",1,"users-avatar-shadow","avatar","mr-3","rounded-circle",3,"src"],[1,"media-body"],[1,"d-flex","flex-sm-row","flex-column","justify-content-start","px-0","mb-sm-2"],[1,"form-group"],["type","file","id","file",1,"form-control-file",3,"change"],["uploadFile",""],[3,"formGroup"],[1,"col-12","col-md-6"],[1,"controls"],["for","users-edit-username"],["type","email","id","users-edit-username","required","","aria-invalid","false","formControlName","email",1,"form-control",3,"readOnly"],["focusElement",""],[1,"col-12","col-md-3"],["for","first-name"],["type","text","id","first-name","required","","aria-invalid","false","formControlName","first_name",1,"form-control"],["for","last-name"],["type","text","id","last-name","required","","aria-invalid","false","formControlName","last_name",1,"form-control"],[1,"col-12","col-md-8"],["formControlName","type_id",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-4"],[1,"form-group","custom-control-inline","mb-1","mb-xl-0","switchery-success","align-items-center"],["checked","","size","large","formControlName","active",1,"switchery"],["for","switchery",1,"ml-2"],[1,"card-footer"],[3,"saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(e,t){1&e&&(s.cc(0,"section",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"div",4),s.cc(5,"div",5),s.cc(6,"h4"),s.cc(7,"strong"),s.Uc(8),s.bc(),s.bc(),s.bc(),s.cc(9,"div",6),s.cc(10,"div",7),s.cc(11,"div",8),s.Xb(12,"img",9),s.cc(13,"div",10),s.cc(14,"h4"),s.Uc(15,"Avatar"),s.bc(),s.cc(16,"div",11),s.cc(17,"div",12),s.cc(18,"input",13,14),s.mc("change",function(e){return t.uploadImage(e)}),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(20,"form",15),s.cc(21,"div",1),s.cc(22,"div",16),s.cc(23,"div",12),s.cc(24,"div",17),s.cc(25,"label",18),s.Uc(26,"Nombre de usuario"),s.bc(),s.Xb(27,"input",19,20),s.bc(),s.bc(),s.bc(),s.cc(29,"div",21),s.cc(30,"div",12),s.cc(31,"div",17),s.cc(32,"label",22),s.Uc(33,"Nombre"),s.bc(),s.Xb(34,"input",23),s.bc(),s.bc(),s.bc(),s.cc(35,"div",21),s.cc(36,"div",12),s.cc(37,"div",17),s.cc(38,"label",24),s.Uc(39,"Apellido"),s.bc(),s.Xb(40,"input",25),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(41,"div",1),s.cc(42,"div",26),s.cc(43,"ng-select",27),s.Sc(44,j,2,2,"ng-option",28),s.bc(),s.bc(),s.cc(45,"div",29),s.cc(46,"div",30),s.Xb(47,"ui-switch",31),s.cc(48,"label",32),s.Uc(49,"Activo"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(50,"div",33),s.cc(51,"app-footer-form",34),s.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc()),2&e&&(s.Ib(8),s.Wc(" ",t.title," "),s.Ib(4),s.vc("src",t.imgData,s.Oc),s.Ib(8),s.vc("formGroup",t.customForm),s.Ib(7),s.Ob("is-invalid",t.invalidEmail),s.vc("readOnly",t.editing),s.Ib(7),s.Ob("is-invalid",t.invalidFirstName),s.Ib(6),s.Ob("is-invalid",t.invalidLastName),s.Ib(3),s.vc("readonly",t.editing),s.Ib(1),s.vc("ngForOf",t.userTypes),s.Ib(7),s.vc("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[y.b,f.z,f.q,f.h,f.c,f.w,f.p,f.g,b.a,n.m,C.a,L.a,b.d],styles:[""]}),e})();const H=["uploadFile"],z=["imgUp"],K=["focusElement"];function Q(e,t){if(1&e&&(s.cc(0,"ng-option",35),s.Uc(1),s.bc()),2&e){const e=t.$implicit;s.vc("value",e.id),s.Ib(1),s.Wc(" ",e.user_type_name," ")}}const $=[{path:"",component:M,children:[{path:"list",component:T},{path:"create",component:G},{path:"edit/:id",component:G},{path:"profile",component:(()=>{class e extends k.a{constructor(e,t,i,n,s,a,c,r){super(e,i,t,n,s,a,c),this.fb=e,this.api=t,this.msg=i,this.router=n,this.translate=s,this.aRouter=a,this.spinner=c,this.usersSer=r,this.userTypes=[],this.title="Perfil de usuario",this.customForm=this.fb.group({type_id:[1,[f.y.required]],first_name:["",[f.y.required]],last_name:["",[f.y.required]],active:new f.f({value:"true",disabled:!0},f.y.required),email:["",[f.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]]})}get invalidEmail(){return this.isInvalid("email")}get invalidLastName(){return this.isInvalid("last_name")}get invalidFirstName(){return this.isInvalid("first_name")}ngOnInit(){super.ngOnInit();const e=this;e.PutURL="/users/update/",e.PostURL="/users/create",e.showSpinner(),e.usersSer.getUserTpes().subscribe(t=>{e.userTypes=t}),e.loadData()}loadData(e=0){super.loadData(e);const t=this,i=t.customForm;t.usersSer.getProfile().subscribe(e=>{localStorage.setItem("oldRoute","/"),t.editing=!0,t.hideSpinner(),t.uid=e[0].id,i.setValue({type_id:e[0].type_id,last_name:e[0].last_name,first_name:e[0].first_name,active:e[0].active,email:e[0].email}),t.imgData=e[0].avatar?e[0].avatar:""})}onResetForm(){let e=this.customForm;super.onResetForm(e),e.setValue({type_id:1,first_name:"",last_name:"",active:!0,email:""}),this.imgData=""}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(f.e),s.Wb(x.a),s.Wb(x.b),s.Wb(V.c),s.Wb(A.d),s.Wb(V.a),s.Wb(R.c),s.Wb(X))},e.\u0275cmp=s.Qb({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){if(1&e&&(s.ad(H,1),s.ad(z,1),s.ad(K,1)),2&e){let e;s.Hc(e=s.nc())&&(t.uploadFile=e.first),s.Hc(e=s.nc())&&(t.imgUp=e.first),s.Hc(e=s.nc())&&(t.focusElement=e.first)}},features:[s.Fb],decls:52,vars:13,consts:[[1,"users-edit"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-content"],[1,"card-header"],[1,"card-body"],["id","account",1,"mt-2"],[1,"media"],["alt","Avatar","height","64","width","64","fallimg","",1,"users-avatar-shadow","avatar","mr-3","rounded-circle",3,"src"],[1,"media-body"],[1,"d-flex","flex-sm-row","flex-column","justify-content-start","px-0","mb-sm-2"],[1,"form-group"],["type","file","id","file",1,"form-control-file",3,"change"],["uploadFile",""],[3,"formGroup"],[1,"col-12","col-md-6"],[1,"controls"],["for","users-edit-username"],["type","email","id","users-edit-username","required","","aria-invalid","false","formControlName","email",1,"form-control",3,"readOnly"],["focusElement",""],[1,"col-12","col-md-3"],["for","users-edit-name"],["type","text","id","users-edit-name","required","","aria-invalid","false","formControlName","first_name",1,"form-control"],["for","last-name"],["type","text","id","last-name","required","","aria-invalid","false","formControlName","last_name",1,"form-control"],[1,"col-12","col-md-8"],["formControlName","type_id",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-4"],[1,"form-group","custom-control-inline","mb-1","mb-xl-0","switchery-success","align-items-center"],["checked","","size","large","formControlName","active",1,"switchery"],["for","switchery",1,"ml-2"],[1,"card-footer"],[3,"showAaveACreate","saveAClose","closeEvent","saveAndCreateEvent","saveAndCloseEvent"],[3,"value"]],template:function(e,t){1&e&&(s.cc(0,"section",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"div",4),s.cc(5,"div",5),s.cc(6,"h4"),s.cc(7,"strong"),s.Uc(8),s.bc(),s.bc(),s.bc(),s.cc(9,"div",6),s.cc(10,"div",7),s.cc(11,"div",8),s.Xb(12,"img",9),s.cc(13,"div",10),s.cc(14,"h4"),s.Uc(15,"Avatar"),s.bc(),s.cc(16,"div",11),s.cc(17,"div",12),s.cc(18,"input",13,14),s.mc("change",function(e){return t.uploadImage(e)}),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(20,"form",15),s.cc(21,"div",1),s.cc(22,"div",16),s.cc(23,"div",12),s.cc(24,"div",17),s.cc(25,"label",18),s.Uc(26,"Nombre de usuario"),s.bc(),s.Xb(27,"input",19,20),s.bc(),s.bc(),s.bc(),s.cc(29,"div",21),s.cc(30,"div",12),s.cc(31,"div",17),s.cc(32,"label",22),s.Uc(33,"Nombre"),s.bc(),s.Xb(34,"input",23),s.bc(),s.bc(),s.bc(),s.cc(35,"div",21),s.cc(36,"div",12),s.cc(37,"div",17),s.cc(38,"label",24),s.Uc(39,"Apellido"),s.bc(),s.Xb(40,"input",25),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(41,"div",1),s.cc(42,"div",26),s.cc(43,"ng-select",27),s.Sc(44,Q,2,2,"ng-option",28),s.bc(),s.bc(),s.cc(45,"div",29),s.cc(46,"div",30),s.Xb(47,"ui-switch",31),s.cc(48,"label",32),s.Uc(49,"Activo"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(50,"div",33),s.cc(51,"app-footer-form",34),s.mc("closeEvent",function(){return t.cancel()})("saveAndCreateEvent",function(){return t.saveAndCreate()})("saveAndCloseEvent",function(){return t.saveAndClose()}),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc()),2&e&&(s.Ib(8),s.Wc(" ",t.title," "),s.Ib(4),s.vc("src",t.imgData,s.Oc),s.Ib(8),s.vc("formGroup",t.customForm),s.Ib(7),s.vc("readOnly",t.editing),s.Ib(7),s.Ob("is-invalid",t.invalidFirstName),s.Ib(6),s.Ob("is-invalid",t.invalidLastName),s.Ib(3),s.vc("readonly",t.editing),s.Ib(1),s.vc("ngForOf",t.userTypes),s.Ib(7),s.vc("showAaveACreate",!1)("saveAClose",t.saveAClose)("saveAClose",t.saveAClose))},directives:[y.b,f.z,f.q,f.h,f.c,f.w,f.p,f.g,b.a,n.m,C.a,L.a,b.d],styles:[""]}),e})()}]}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({imports:[[V.f.forChild($)],V.f]}),e})();const Y={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!0};let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({imports:[[n.c,I.a,m,C.b,w.t,w.C,E.b.forRoot(Y),R.b,g.b,Z,v.b,f.v,y.a,b.c,A.b.forRoot({loader:{provide:A.a,useFactory:e=>new _.a(e),deps:[S.b]}})]]}),e})()}}]);